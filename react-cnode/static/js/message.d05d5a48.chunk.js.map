{"version":3,"sources":["service/config.js","service/fetch.js","service/index.js","../node_modules/_@babel_runtime@7.10.0@@babel/runtime/helpers/esm/slicedToArray.js","../node_modules/_@babel_runtime@7.10.0@@babel/runtime/helpers/esm/arrayWithHoles.js","../node_modules/_@babel_runtime@7.10.0@@babel/runtime/helpers/esm/iterableToArrayLimit.js","../node_modules/_@babel_runtime@7.10.0@@babel/runtime/helpers/esm/nonIterableRest.js","../../src/shared/uid.ts","../../src/web/Svg.tsx","../../src/web/ContentLoader.tsx","../../src/web/presets/FacebookStyle.tsx","components/footer/index.js","skeleton/List.js","page/message/index.js","store/actions/message.js"],"names":["development","api","production","getService","serviceUrl","axios","defaults","baseURL","config","get","url","params","header","Promise","resolve","reject","then","res","catch","err","post","data","qs","Qs","stringify","headers","timeout","interceptors","request","use","loading","error","response","hide","status","getTopics","getDetails","id","login","user","username","collect","de_collect","myCollect","messages","markOne","_slicedToArray","arr","i","Array","isArray","Symbol","iterator","Object","_arr","_n","_d","_e","undefined","_s","_i","next","done","push","value","length","unsupportedIterableToArray","TypeError","SVG","animate","backgroundColor","backgroundOpacity","baseUrl","children","foregroundColor","foregroundOpacity","gradientRatio","uniqueKey","interval","rtl","speed","style","title","fixedId","Math","random","toString","substring","idClip","idGradient","idAria","rtlStyle","transform","keyTimes","dur","React.createElement","role","props","x","y","width","height","clipPath","fill","offset","stopColor","stopOpacity","attributeName","values","repeatCount","defaultProps","ContentLoader","Svg","Facebook","ReactContentLoaderFacebook","viewBox","rx","cx","cy","r","Footer","memo","hash","useState","icon","name","path","navList","className","map","item","index","indexOf","join","key","to","pathname","dangerouslySetInnerHTML","__html","List","Message","getMessages","getMarkOne","useEffect","markOneHandler","useCallback","type","onClick","has_read","search","author","loginname","topic","padding","connect","state","dispatch","getState","accesstoken","userInfo","token","Ajax","success","types"],"mappings":"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","file":"static/js/message.d05d5a48.chunk.js","sourcesContent":["/*\r\n * @Author: hejp\r\n * @Date:   16:26\r\n * @Last Modified by:   hejp\r\n * @Last Modified time: 16:26\r\n */\r\nexport default {\r\n    development: {\r\n        api: 'https://cnodejs.org/api/v1'\r\n    },\r\n    production: {\r\n        api: 'https://cnodejs.org/api/v1'\r\n    }\r\n}\r\n","/*\r\n * @Author: hejp\r\n * @Date:   10:39\r\n * @Last Modified by:   hejp\r\n * @Last Modified time: 10:39\r\n */\r\nimport axios from 'axios'\r\nimport config from './config'\r\nimport Qs from 'qs'\r\nimport { Toast } from 'antd-mobile'\r\nconst ENV = process.env.NODE_ENV;\r\n\r\nconst getService = (serviceUrl) => {\r\n    // 环境切换(开发，正式环境)\r\n    if (ENV === 'development') {\r\n        axios.defaults.baseURL = config.development[serviceUrl]\r\n    } else if (ENV === 'production') {\r\n        // production, online\r\n        axios.defaults.baseURL = config.production[serviceUrl]\r\n    }\r\n}\r\n// 请求超时\r\naxios.defaults.timeout = 60000\r\n\r\n// post 请求头的设置\r\naxios.defaults.headers.post['Content-Type'] = 'application/x-www-form-urlencoded;charset=UTF-8'\r\n\r\n// 请求拦截器\r\naxios.interceptors.request.use(\r\n    config => {\r\n        Toast.loading('loading...', 0)\r\n        // document.getElementById('js_loading').style.display = 'block';\r\n        return config\r\n    },\r\n    error => {\r\n        return Promise.error(error)\r\n    }\r\n)\r\n\r\n// 响应拦截器\r\naxios.interceptors.response.use(\r\n    response => {\r\n        // document.getElementById('js_loading').style.display = 'none'\r\n        Toast.hide()\r\n        if (response.status === 200) {\r\n            return Promise.resolve(response.data)\r\n        } else {\r\n            return Promise.reject(response)\r\n        }\r\n    },\r\n    error => {\r\n        // document.getElementById('js_loading').style.display = 'none'\r\n        Toast.hide()\r\n        let response = error.response\r\n        if (!response) {\r\n            return Promise.reject(error)\r\n        }\r\n        let code = response.status\r\n        if (code) {\r\n            switch (code) {\r\n                case 401:\r\n                    break\r\n                // token过期\r\n                case 403:\r\n                    break\r\n                // 404请求不存在\r\n                case 404:\r\n                    break\r\n                case 500:\r\n                    break\r\n                default:\r\n                    break\r\n            }\r\n        }\r\n        return Promise.reject(error)\r\n    }\r\n)\r\n\r\n/**\r\n * get方法\r\n * @param url [请求的url地址]\r\n * @param params [请求的参数]\r\n * @returns {Promise<any>}\r\n */\r\nexport function get (url, params, serviceUrl, header) {\r\n    if (serviceUrl) {\r\n        getService(serviceUrl)\r\n    }\r\n    return new Promise((resolve, reject) => {\r\n        axios.get(url, {\r\n            params: params,\r\n            header: header\r\n        }).then(res => {\r\n            resolve(res)\r\n        }).catch(err => {\r\n            reject(err)\r\n        })\r\n    })\r\n}\r\n/**\r\n * post方法\r\n * @param url [请求的url地址]\r\n * @param params [请求的参数]\r\n * @returns {Promise<any>}\r\n */\r\nexport function post (url, params, serviceUrl, header, data, qs = true) {\r\n    if (serviceUrl) {\r\n        getService(serviceUrl)\r\n    }\r\n    return new Promise((resolve, reject) => {\r\n        axios.post(url,\r\n            qs ? Qs.stringify(params) : params,\r\n            {\r\n                headers: header ? header : {\r\n                    'Content-Type': 'application/x-www-form-urlencoded;charset=UTF-8'\r\n                }\r\n            },\r\n            data\r\n            ).then(res => {\r\n            resolve(res)\r\n        }).catch(err => {\r\n            reject(err)\r\n        })\r\n    })\r\n}\r\n","/*\r\n * @Author: hejp\r\n * @Date:   16:43\r\n * @Last Modified by:   hejp\r\n * @Last Modified time: 16:43\r\n */\r\nimport {\r\n    get,\r\n    post\r\n} from './fetch'\r\n\r\nexport default {\r\n    getTopics(params) {\r\n        return get('/topics', params, 'api')\r\n    },\r\n    getDetails(id) {\r\n        return get(`/topic/${id}`, {},'api')\r\n    },\r\n    login(params) {\r\n        return post('/accesstoken', params,'api')\r\n    },\r\n    user(username) {\r\n        return get(`/user/${username}`, '','api')\r\n    },\r\n    collect(params) {\r\n        return post('/topic_collect/collect', params,'api')\r\n    },\r\n    de_collect(params) {\r\n        return post('/topic_collect/de_collect ', params,'api')\r\n    },\r\n    myCollect(username) {\r\n        return get(`/topic_collect/${username}`, '','api')\r\n    },\r\n    messages(params) {\r\n        return get('messages', params,'api')\r\n    },\r\n    markOne(id, params) {\r\n        return post(`/message/mark_one/${id}`, params,'api')\r\n    }\r\n}\r\n","import arrayWithHoles from \"./arrayWithHoles\";\nimport iterableToArrayLimit from \"./iterableToArrayLimit\";\nimport unsupportedIterableToArray from \"./unsupportedIterableToArray\";\nimport nonIterableRest from \"./nonIterableRest\";\nexport default function _slicedToArray(arr, i) {\n  return arrayWithHoles(arr) || iterableToArrayLimit(arr, i) || unsupportedIterableToArray(arr, i) || nonIterableRest();\n}","export default function _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}","export default function _iterableToArrayLimit(arr, i) {\n  if (typeof Symbol === \"undefined\" || !(Symbol.iterator in Object(arr))) return;\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n  var _e = undefined;\n\n  try {\n    for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}","export default function _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}","export default (): string =>\n  Math.random()\n    .toString(36)\n    .substring(6)\n","import * as React from 'react'\n\nimport uid from '../shared/uid'\nimport { IContentLoaderProps } from './'\n\nconst SVG: React.FC<IContentLoaderProps> = ({\n  animate,\n  backgroundColor,\n  backgroundOpacity,\n  baseUrl,\n  children,\n  foregroundColor,\n  foregroundOpacity,\n  gradientRatio,\n  uniqueKey,\n  interval,\n  rtl,\n  speed,\n  style,\n  title,\n  ...props\n}) => {\n  const fixedId = uniqueKey || uid()\n  const idClip = `${fixedId}-diff`\n  const idGradient = `${fixedId}-animated-diff`\n  const idAria = `${fixedId}-aria`\n\n  const rtlStyle = rtl ? { transform: 'scaleX(-1)' } : null\n  const keyTimes = `0; ${interval}; 1`\n  const dur = `${speed}s`\n\n  return (\n    <svg\n      aria-labelledby={idAria}\n      role=\"img\"\n      style={{ ...style, ...rtlStyle }}\n      {...props}\n    >\n      {title ? <title id={idAria}>{title}</title> : null}\n      <rect\n        role=\"presentation\"\n        x=\"0\"\n        y=\"0\"\n        width=\"100%\"\n        height=\"100%\"\n        clipPath={`url(${baseUrl}#${idClip})`}\n        style={{ fill: `url(${baseUrl}#${idGradient})` }}\n      />\n\n      <defs role=\"presentation\">\n        <clipPath id={idClip}>{children}</clipPath>\n\n        <linearGradient id={idGradient}>\n          <stop\n            offset=\"0%\"\n            stopColor={backgroundColor}\n            stopOpacity={backgroundOpacity}\n          >\n            {animate && (\n              <animate\n                attributeName=\"offset\"\n                values={`${-gradientRatio}; ${-gradientRatio}; 1`}\n                keyTimes={keyTimes}\n                dur={dur}\n                repeatCount=\"indefinite\"\n              />\n            )}\n          </stop>\n\n          <stop\n            offset=\"50%\"\n            stopColor={foregroundColor}\n            stopOpacity={foregroundOpacity}\n          >\n            {animate && (\n              <animate\n                attributeName=\"offset\"\n                values={`${-gradientRatio / 2}; ${-gradientRatio / 2}; ${1 +\n                  gradientRatio / 2}`}\n                keyTimes={keyTimes}\n                dur={dur}\n                repeatCount=\"indefinite\"\n              />\n            )}\n          </stop>\n\n          <stop\n            offset=\"100%\"\n            stopColor={backgroundColor}\n            stopOpacity={backgroundOpacity}\n          >\n            {animate && (\n              <animate\n                attributeName=\"offset\"\n                values={`0; 0; ${1 + gradientRatio}`}\n                keyTimes={keyTimes}\n                dur={dur}\n                repeatCount=\"indefinite\"\n              />\n            )}\n          </stop>\n        </linearGradient>\n      </defs>\n    </svg>\n  )\n}\n\nSVG.defaultProps = {\n  animate: true,\n  backgroundColor: '#f5f6f7',\n  backgroundOpacity: 1,\n  baseUrl: '',\n  foregroundColor: '#eee',\n  foregroundOpacity: 1,\n  gradientRatio: 2,\n  id: null,\n  interval: 0.25,\n  rtl: false,\n  speed: 1.2,\n  style: {},\n  title: 'Loading...',\n}\n\nexport default SVG\n","import * as React from 'react'\n\nimport { Facebook, IContentLoaderProps } from '.'\nimport Svg from './Svg'\n\nconst ContentLoader: React.FC<IContentLoaderProps> = props =>\n  props.children ? <Svg {...props} /> : <Facebook {...props} />\n\nexport default ContentLoader\n","import * as React from 'react'\n\nimport { IContentLoaderProps } from '..'\nimport ContentLoader from '../ContentLoader'\n\nconst ReactContentLoaderFacebook: React.FC<IContentLoaderProps> = props => (\n  <ContentLoader viewBox=\"0 0 476 124\" {...props}>\n    <rect x=\"48\" y=\"8\" width=\"88\" height=\"6\" rx=\"3\" />\n    <rect x=\"48\" y=\"26\" width=\"52\" height=\"6\" rx=\"3\" />\n    <rect x=\"0\" y=\"56\" width=\"410\" height=\"6\" rx=\"3\" />\n    <rect x=\"0\" y=\"72\" width=\"380\" height=\"6\" rx=\"3\" />\n    <rect x=\"0\" y=\"88\" width=\"178\" height=\"6\" rx=\"3\" />\n    <circle cx=\"20\" cy=\"20\" r=\"20\" />\n  </ContentLoader>\n)\n\nexport default ReactContentLoaderFacebook\n","/*\r\n * @Author: hejp\r\n * @Date:   14:10\r\n * @Last Modified by:   hejp\r\n * @Last Modified time: 14:10\r\n */\r\nimport React, {\r\n    useState,\r\n    memo\r\n} from 'react'\r\nimport {\r\n    Link\r\n} from 'react-router-dom'\r\nimport PropTypes from 'prop-types'\r\nimport './index.scss'\r\n\r\nconst Footer = memo(({ hash }) => {\r\n    const [navList] = useState([\r\n        {\r\n            icon: '&#xe729;',\r\n            name: '首页',\r\n            path: '/home'\r\n        },\r\n        {\r\n            icon: '&#xe68a;',\r\n            name: '消息',\r\n            path: '/message'\r\n        },\r\n        {\r\n            icon: '&#xe6a1;',\r\n            name: '我的',\r\n            path: '/my'\r\n        }\r\n    ])\r\n    return (\r\n        <div className=\"cn-footer\">\r\n            <ul className=\"cn-nav\">\r\n                {\r\n                    navList.map((item, index) => (\r\n                        <li className={['cn-nav__item', hash.indexOf(item.path) !== -1 ? 'is-active' : ''].join(' ')}\r\n                            key={index}>\r\n                            <Link\r\n                                to={{\r\n                                    pathname: item.path\r\n                                }}\r\n                            >\r\n                                    <span\r\n                                        dangerouslySetInnerHTML={{__html: `${item.icon}`}}\r\n                                        className=\"ued-mobile\"></span>\r\n                                <span className=\"text\">{item.name}</span>\r\n                            </Link>\r\n                        </li>\r\n                    ))\r\n                }\r\n            </ul>\r\n        </div>\r\n    )\r\n})\r\n\r\nFooter.propTypes = {\r\n    hash: PropTypes.string.isRequired\r\n}\r\n\r\nexport default Footer\r\n","/*\r\n * @Author: hejp\r\n * @Date:   11:06\r\n * @Last Modified by:   hejp\r\n * @Last Modified time: 11:06\r\n */\r\nimport React, {\r\n    memo\r\n} from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport ContentLoader from 'react-content-loader'\r\n\r\nconst List = memo(({ style }) => {\r\n    const list = [0, 0, 0, 0, 0, 0]\r\n    return (\r\n        <div style={style}>\r\n            {\r\n                list.map((item, index) => (\r\n                    <ContentLoader\r\n                        key={index}\r\n                        width=\"100%\"\r\n                        speed={1}\r\n                        backgroundColor={'#eee'}\r\n                        foregroundColor={'#f5f5f5'}\r\n                        viewBox=\"0 0 380 110\"\r\n                    >\r\n                        {/* Only SVG shapes */}\r\n                        <rect x=\"48\" y=\"8\" width=\"88\" height=\"6\" rx=\"3\"></rect>\r\n                        <rect x=\"48\" y=\"26\" width=\"52\" height=\"6\" rx=\"3\"></rect>\r\n                        <rect x=\"0\" y=\"56\" width=\"380\" height=\"12\" rx=\"6\"></rect>\r\n                        <rect x=\"0\" y=\"78\" width=\"300\" height=\"6\" rx=\"3\"></rect>\r\n                        <rect x=\"0\" y=\"100\" width=\"380\" height=\"0.5\"></rect>\r\n                        <circle cx=\"20\" cy=\"20\" r=\"20\"></circle>\r\n                    </ContentLoader>\r\n                ))\r\n            }\r\n        </div>\r\n    )\r\n})\r\nList.propTypes = {\r\n    style: PropTypes.object\r\n}\r\n\r\nexport default List\r\n","/*\r\n * @Author: hejp\r\n * @Date:   16:38\r\n * @Last Modified by:   hejp\r\n * @Last Modified time: 16:38\r\n */\r\nimport React, {\r\n    memo,\r\n    useEffect,\r\n    useCallback\r\n} from 'react'\r\nimport {connect} from 'react-redux';\r\nimport {\r\n    getMessages,\r\n    getMarkOne\r\n} from '../../store/actions/message'\r\nimport './index.scss'\r\nimport Footer from \"../../components/footer\"\r\nimport {\r\n    Link\r\n} from 'react-router-dom'\r\n// 列表骨架屏\r\nimport SkeletonList from '../../skeleton/List'\r\nimport PropTypes from 'prop-types'\r\n\r\nconst Message = memo(({ messages, getMessages, getMarkOne }) => {\r\n    useEffect(() => {\r\n        getMessages()\r\n    }, [])\r\n\r\n    const markOneHandler = useCallback((id, type) => {\r\n        if (!type) {\r\n            getMarkOne(id)\r\n        }\r\n    }, [messages])\r\n\r\n    return (\r\n        <>\r\n            <div className=\"cn-message\">\r\n                {\r\n                    messages.length ?\r\n                        messages.map(item => (\r\n                            <div\r\n                                onClick={() => markOneHandler(item.id, item.has_read)}\r\n                                key={item.id}\r\n                                className={ 'cn-message__item ui-border-b ' + (!item.has_read ? 'is-notread' : '') }>\r\n                                <Link to={{\r\n                                    pathname: '/my',\r\n                                    search: `username=${item.author.loginname}`\r\n                                }}>\r\n                                    { item.author.loginname }\r\n                                </Link>回复了您的话题\r\n                                <Link to={{\r\n                                    pathname: '/details',\r\n                                    search: `id=${item.topic.id}`\r\n                                }}>\r\n                                    { item.topic.title }\r\n                                </Link>\r\n                            </div>\r\n                        )) :\r\n                        <SkeletonList style={{\r\n                            padding: '15px 15px 0 15px'\r\n                        }} />\r\n                }\r\n            </div>\r\n            <Footer hash='/message' />\r\n        </>\r\n    )\r\n})\r\n\r\nMessage.propTypes = {\r\n    messages: PropTypes.array.isRequired,\r\n    getMessages: PropTypes.func.isRequired,\r\n    getMarkOne: PropTypes.func.isRequired\r\n}\r\n\r\n\r\nconst messageProps = state => ({\r\n    messages: state.messages\r\n})\r\n\r\nexport default connect(\r\n    messageProps,\r\n    {\r\n        getMessages,\r\n        getMarkOne\r\n    }\r\n)(Message)\r\n","/*\r\n * @Author: hejp\r\n * @Date:   13:46\r\n * @Last Modified by:   hejp\r\n * @Last Modified time: 13:46\r\n */\r\nimport * as types from '../actionType'\r\nimport Ajax from '../../service'\r\n\r\nconst messages = data => ({\r\n    type: types.MESSAGES,\r\n    data\r\n})\r\n\r\nconst markOne = id => ({\r\n    type: types.MARK_ONE,\r\n    id\r\n})\r\n\r\n/**\r\n * 获取消息列表\r\n * @returns {Function}\r\n */\r\nexport const getMessages = () => (dispatch, getState) => {\r\n    const state = getState()\r\n    const params = {\r\n        accesstoken: state.userInfo.token\r\n    }\r\n    Ajax.messages(params)\r\n        .then(res => {\r\n            if (res.success) {\r\n                dispatch(messages(res.data))\r\n            }\r\n        })\r\n}\r\n\r\nexport const getMarkOne = id => (dispatch, getState) => {\r\n    const state = getState()\r\n    const token = state.userInfo.token\r\n    if (!token) return\r\n    Ajax.markOne(id, {\r\n        accesstoken: token\r\n    })\r\n        .then(res => {\r\n            if (res.success) {\r\n                dispatch(markOne(id))\r\n            }\r\n        })\r\n}\r\n"],"sourceRoot":""}