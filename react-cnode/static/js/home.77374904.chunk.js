(this["webpackJsonpreact-text"]=this["webpackJsonpreact-text"]||[]).push([[4],{154:function(e,t,n){"use strict";n(88);var a=n(34),c=n.n(a),o=n(157),r=n.n(o),i={development:{api:"https://cnodejs.org/api/v1"},production:{api:"https://cnodejs.org/api/v1"}},u=n(158),l=n.n(u),s=function(e){r.a.defaults.baseURL=i.production[e]};function m(e,t,n,a){return n&&s(n),new Promise((function(n,c){r.a.get(e,{params:t,header:a}).then((function(e){n(e)})).catch((function(e){c(e)}))}))}function f(e,t,n,a,c){var o=!(arguments.length>5&&void 0!==arguments[5])||arguments[5];return n&&s(n),new Promise((function(n,i){r.a.post(e,o?l.a.stringify(t):t,{headers:a||{"Content-Type":"application/x-www-form-urlencoded;charset=UTF-8"}},c).then((function(e){n(e)})).catch((function(e){i(e)}))}))}r.a.defaults.timeout=6e4,r.a.defaults.headers.post["Content-Type"]="application/x-www-form-urlencoded;charset=UTF-8",r.a.interceptors.request.use((function(e){return c.a.loading("loading...",0),e}),(function(e){return Promise.error(e)})),r.a.interceptors.response.use((function(e){return c.a.hide(),200===e.status?Promise.resolve(e.data):Promise.reject(e)}),(function(e){c.a.hide();var t=e.response;if(!t)return Promise.reject(e);t.status;return Promise.reject(e)}));t.a={getTopics:function(e){return m("/topics",e,"api")},getDetails:function(e){return m("/topic/".concat(e),{},"api")},login:function(e){return f("/accesstoken",e,"api")},user:function(e){return m("/user/".concat(e),"","api")},collect:function(e){return f("/topic_collect/collect",e,"api")},de_collect:function(e){return f("/topic_collect/de_collect ",e,"api")},myCollect:function(e){return m("/topic_collect/".concat(e),"","api")},messages:function(e){return m("messages",e,"api")},markOne:function(e,t){return f("/message/mark_one/".concat(e),t,"api")}}},155:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var a=n(67);function c(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e)){var n=[],a=!0,c=!1,o=void 0;try{for(var r,i=e[Symbol.iterator]();!(a=(r=i.next()).done)&&(n.push(r.value),!t||n.length!==t);a=!0);}catch(u){c=!0,o=u}finally{try{a||null==i.return||i.return()}finally{if(c)throw o}}return n}}(e,t)||Object(a.a)(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},160:function(e,t,n){"use strict";var a=n(155),c=n(0),o=n.n(c),r=n(48),i=(n(161),Object(c.memo)((function(e){var t=e.hash,n=Object(c.useState)([{icon:"&#xe729;",name:"\u9996\u9875",path:"/home"},{icon:"&#xe68a;",name:"\u6d88\u606f",path:"/message"},{icon:"&#xe6a1;",name:"\u6211\u7684",path:"/my"}]),i=Object(a.a)(n,1)[0];return o.a.createElement("div",{className:"cn-footer"},o.a.createElement("ul",{className:"cn-nav"},i.map((function(e,n){return o.a.createElement("li",{className:["cn-nav__item",-1!==t.indexOf(e.path)?"is-active":""].join(" "),key:n},o.a.createElement(r.b,{to:{pathname:e.path}},o.a.createElement("span",{dangerouslySetInnerHTML:{__html:"".concat(e.icon)},className:"ued-mobile"}),o.a.createElement("span",{className:"text"},e.name)))}))))})));t.a=i},161:function(e,t,n){},200:function(e,t,n){},211:function(e,t,n){"use strict";n.r(t);var a=n(5),c=n(0),o=n.n(c),r=n(35),i=n(4),u=n(154),l=function(e){return{type:i.j,payload:e}},s=function(e){return{type:i.e,flag:e}},m=n(155),f=(n(200),Object(c.memo)((function(e){var t=e.tabChangeHandler,n=e.tab,a=Object(c.useState)([{name:"\u5168\u90e8",value:""},{name:"\u7cbe\u534e",value:"good"},{name:"\u5206\u4eab",value:"share"},{name:"\u95ee\u7b54",value:"ask"},{name:"\u62db\u8058",value:"job"},{name:"\u5ba2\u6237\u7aef",value:"dev"}]),r=Object(m.a)(a,1)[0];return o.a.createElement("header",{className:"cn-header"},o.a.createElement("ul",{className:"cn-tabs__list"},r.map((function(e,a){return o.a.createElement("li",{onClick:function(){return t(e.value)},className:["cn-tabs__item",n===e.value?"is-active":""].join(" "),key:a},e.name)}))))}))),p=n(169),d=function(){var e=Object(c.useState)(!1),t=Object(m.a)(e,2),n=t[0],a=t[1],o=Object(c.useState)(0),r=Object(m.a)(o,2),i=r[0],u=r[1],l=function(){var e=0;return document.documentElement&&document.documentElement.scrollTop?e=document.documentElement.scrollTop:document.body&&(e=document.body.scrollTop),e},s=function(){u(l()),l()+(document.body.clientHeight&&document.documentElement.clientHeight?Math.min(document.body.clientHeight,document.documentElement.clientHeight):Math.max(document.body.clientHeight,document.documentElement.clientHeight))+50>Math.max(document.body.scrollHeight,document.documentElement.scrollHeight)?a(!0):a(!1)};return Object(c.useEffect)((function(){return window.addEventListener("scroll",s),function(){window.removeEventListener("scroll",s)}}),[]),{flag:n,scrollTop:i}},h=n(160);t.default=Object(r.b)((function(e){return{topics:e.topics.datas,flag:e.topics.flag,params:e.topics.params,scrollTop:e.topics.scrollTop}}),{getAllTopics:function(){return function(e,t){var n=t(),a=n.topics.params,c=n.topics.datas.length,o=n.topics.flag;c&&1===a.page&&e(l({topics:[],flag:!0,params:a})),o&&(e(s(!1)),u.a.getTopics(a).then((function(t){e(s(!0)),e(l({topics:t.data,flag:1===a.page}))})).catch((function(){e(s(!0))})))}},getTopicsParams:function(e){return function(t){t(function(e){return{type:i.k,params:e}}(e))}},setScrollTop:function(e){return function(t){t(function(e){return{type:i.h,value:e}}(e))}}})((function(e){var t=e.topics,n=e.getAllTopics,r=e.flag,i=e.getTopicsParams,u=e.params,l=e.scrollTop,s=e.setScrollTop,m=d();Object(c.useEffect)((function(){m.flag&&r&&i(Object(a.a)(Object(a.a)({},u),{},{page:u.page+1}))}),[m.flag]),Object(c.useEffect)((function(){var e=null;return e&&clearTimeout(e),e=setTimeout((function(){s(m.scrollTop)}),200),function(){e&&clearTimeout(e)}}),[m.scrollTop,s]),Object(c.useEffect)((function(){1===u.page&&window.scrollTo(0,0),(m.flag||1===u.page)&&n(u)}),[u]),Object(c.useEffect)((function(){1!==u.page&&window.scrollTo(0,l)}),[]);var b=Object(c.useCallback)((function(e){i(Object(a.a)(Object(a.a)({},u),{},{page:1,tab:e}))}),[u]);return o.a.createElement(o.a.Fragment,null,o.a.createElement(f,{tabChangeHandler:b,tab:u.tab}),o.a.createElement(p.a,{topics:t}),o.a.createElement(h.a,{hash:"/home"}))}))}}]);
//# sourceMappingURL=home.77374904.chunk.js.map