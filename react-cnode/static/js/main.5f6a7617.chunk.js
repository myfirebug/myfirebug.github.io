(this["webpackJsonpreact-text"]=this["webpackJsonpreact-text"]||[]).push([[5],{149:function(e,t,a){},150:function(e,t,a){},151:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(14),l=a.n(c),i=a(45),s=a(82),o=a(10),u=a(83),m=a.n(u),p=(a(97),a(84)),d=a(13),f=a(5),b=a(4),h={datas:[],flag:!0,params:{page:1,tab:"",limit:10},scrollTop:0},O=(a(88),a(34)),E=a.n(O),v=Object(o.c)({topics:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:h,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case b.j:return t.payload.flag?Object(f.a)(Object(f.a)({},e),{},{datas:t.payload.topics}):Object(f.a)(Object(f.a)({},e),{},{datas:[].concat(Object(d.a)(e.datas),Object(d.a)(t.payload.topics))});case b.e:return Object(f.a)(Object(f.a)({},e),{},{flag:t.flag});case b.k:return Object(f.a)(Object(f.a)({},e),{},{params:t.params});case b.h:return Object(f.a)(Object(f.a)({},e),{},{scrollTop:t.value});default:return e}},details:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,a=e.replies;switch(t.type){case b.d:return t.data;case b.c:var n=a.findIndex((function(e){return e.id===t.payload.replayId}));if(n>=0){var r=a[n],c=r.ups,l=c.findIndex((function(e){return e===t.payload.userId}));l>=0?(E.a.success("\u53d6\u6d88\u70b9\u8d5e\u6210\u529f",1.5),c.splice(l,1)):(E.a.success("\u70b9\u8d5e\u6210\u529f",1.5),c.push(t.payload.userId))}return Object(f.a)(Object(f.a)({},e),{},{replies:Object(d.a)(a)});case b.b:var i=a.findIndex((function(e){return e.id===t.payload.replayId}));return i>=0&&(a.splice(i,1),E.a.success("\u5220\u9664\u6210\u529f",1.5)),Object(f.a)(Object(f.a)({},e),{},{replies:Object(d.a)(a)});case b.i:return Object(f.a)(Object(f.a)({},e),{},{is_collect:t.flag});default:return e}},userInfo:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case b.l:return t.data;default:return e}},user:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case b.m:return t.data;default:return e}},collects:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case b.a:return t.data;default:return e}},messages:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case b.g:return[].concat(Object(d.a)(t.data.hasnot_read_messages),Object(d.a)(t.data.has_read_messages));case b.f:var a=e.findIndex((function(e){return e.id===t.id}));return a>=0&&(e[a].has_read=!0),Object(d.a)(e);default:return e}}}),j=[p.a];var g={key:"root",storage:m.a,whitelist:["userInfo","topics"]},y=Object(i.a)(g,v),N=Object(o.d)(y,o.a.apply(void 0,j)),I=a(35),S=a(48),_=a(3),L=a(43),T=a(44),C=a(47),k=a(46),w=function(e){Object(C.a)(a,e);var t=Object(k.a)(a);function a(){var e;Object(L.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={flag:!1},e}return Object(T.a)(a,[{key:"render",value:function(){return this.state.flag?r.a.createElement("h1",null,"Something went wrong."):this.props.children}}],[{key:"getDerivedStateFromError",value:function(e){return{flag:!0}}}]),a}(n.Component),P=a(87),x=function(e){Object(C.a)(a,e);var t=Object(k.a)(a);function a(){return Object(L.a)(this,a),t.apply(this,arguments)}return Object(T.a)(a,[{key:"render",value:function(){var e=this,t=this.props,a=t.isLogin,n=t.component,c=Object(P.a)(t,["isLogin","component"]);return r.a.createElement(_.b,Object.assign({},c,{render:function(t){return a?r.a.createElement(n,c):r.a.createElement(_.a,{to:{pathname:"/login",state:{from:e.props.location.pathname}}})}}))}}]),a}(n.Component),z=Object(I.b)((function(e){return{isLogin:!!e.userInfo.token}}))(x),M=[{private:!1,component:Object(n.lazy)((function(){return Promise.all([a.e(0),a.e(1),a.e(4)]).then(a.bind(null,211))})),pathname:"/home"},{private:!1,component:Object(n.lazy)((function(){return Promise.all([a.e(0),a.e(3)]).then(a.bind(null,210))})),pathname:"/details"},{private:!1,component:Object(n.lazy)((function(){return Promise.all([a.e(0),a.e(7)]).then(a.bind(null,213))})),pathname:"/my"},{private:!1,component:Object(n.lazy)((function(){return Promise.all([a.e(0),a.e(7)]).then(a.bind(null,207))})),pathname:"/login"},{private:!1,component:Object(n.lazy)((function(){return Promise.all([a.e(1),a.e(8)]).then(a.bind(null,208))})),pathname:"/my-list"},{private:!1,component:Object(n.lazy)((function(){return Promise.all([a.e(0),a.e(1),a.e(2)]).then(a.bind(null,209))})),pathname:"/collect"},{private:!0,component:Object(n.lazy)((function(){return Promise.all([a.e(0),a.e(6)]).then(a.bind(null,212))})),pathname:"/message"}],R=function(){return r.a.createElement(S.a,null,r.a.createElement(w,null,r.a.createElement(n.Suspense,{fallback:r.a.createElement("div",null)},r.a.createElement(_.d,null,M.map((function(e,t){return e.private?r.a.createElement(z,{key:t,path:e.pathname,component:e.component}):r.a.createElement(_.b,{key:t,path:e.pathname,component:e.component})})),r.a.createElement(_.a,{to:"/home"})))))},A=(a(149),Object(n.memo)((function(e){var t=e.style;return r.a.createElement("div",{id:"js_loading",className:"cn-loading",style:t},r.a.createElement("div",{className:"cn-loading__content"},r.a.createElement("div",{className:"icon"},r.a.createElement("span",{className:"circle1"}),r.a.createElement("span",{className:"circle2"}),r.a.createElement("span",{className:"circle3"}),r.a.createElement("span",{className:"circle4"}),r.a.createElement("span",{className:"circle5"}),r.a.createElement("span",{className:"circle6"}),r.a.createElement("span",{className:"circle7"}),r.a.createElement("span",{className:"circle8"}),r.a.createElement("span",{className:"circle9"}),r.a.createElement("span",{className:"circle10"}),r.a.createElement("span",{className:"circle11"}),r.a.createElement("span",{className:"circle12"})),r.a.createElement("div",{className:"text"},"loading...")))})));a(150);var D=function(){return r.a.createElement("div",{className:"app"},r.a.createElement(R,null),r.a.createElement(A,null))},F=Object(i.b)(N);l.a.render(r.a.createElement(I.a,{store:N},r.a.createElement(s.a,{loading:null,persistor:F},r.a.createElement(D,null))),document.getElementById("root"))},4:function(e,t,a){"use strict";a.d(t,"j",(function(){return n})),a.d(t,"e",(function(){return r})),a.d(t,"k",(function(){return c})),a.d(t,"h",(function(){return l})),a.d(t,"d",(function(){return i})),a.d(t,"b",(function(){return s})),a.d(t,"c",(function(){return o})),a.d(t,"l",(function(){return u})),a.d(t,"m",(function(){return m})),a.d(t,"i",(function(){return p})),a.d(t,"a",(function(){return d})),a.d(t,"g",(function(){return f})),a.d(t,"f",(function(){return b}));var n="TOPICS",r="IS_SCROLL",c="TOPICS_PARAMS",l="SCROLLTOP",i="DETAILS",s="COMMENT_DELETE",o="COMMENT_LIKE",u="USERINFO",m="USER_CENTER",p="SET_COLLECT",d="COLLECT_LIST",f="MESSAGES",b="MARK_ONE"},89:function(e,t,a){e.exports=a(151)}},[[89,9,10]]]);
//# sourceMappingURL=main.5f6a7617.chunk.js.map