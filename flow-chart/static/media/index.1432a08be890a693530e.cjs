"use strict";Object.defineProperties(exports,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}});const React=require("react");function _interopNamespace(e){if(e&&e.__esModule)return e;const r=Object.create(null,{[Symbol.toStringTag]:{value:"Module"}});if(e)for(const t in e)if("default"!==t){const n=Object.getOwnPropertyDescriptor(e,t);Object.defineProperty(r,t,n.get?n:{enumerable:!0,get:()=>e[t]})}return r.default=e,Object.freeze(r)}const React__namespace=_interopNamespace(React);var __defProp=Object.defineProperty,__defProps=Object.defineProperties,__getOwnPropDescs=Object.getOwnPropertyDescriptors,__getOwnPropSymbols=Object.getOwnPropertySymbols,__hasOwnProp=Object.prototype.hasOwnProperty,__propIsEnum=Object.prototype.propertyIsEnumerable,__defNormalProp=(e,r,t)=>r in e?__defProp(e,r,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[r]=t,__spreadValues=(e,r)=>{for(var t in r||(r={}))__hasOwnProp.call(r,t)&&__defNormalProp(e,t,r[t]);if(__getOwnPropSymbols)for(var t of __getOwnPropSymbols(r))__propIsEnum.call(r,t)&&__defNormalProp(e,t,r[t]);return e},__spreadProps=(e,r)=>__defProps(e,__getOwnPropDescs(r));function traverseFiber(e,r,t){if(!e)return;if(!0===t(e))return e;let n=r?e.return:e.child;for(;n;){const e=traverseFiber(n,r,t);if(e)return e;n=r?null:n.sibling}}function wrapContext(e){try{return Object.defineProperties(e,{_currentRenderer:{get(){return null},set(){}},_currentRenderer2:{get(){return null},set(){}}})}catch(r){return e}}const FiberContext=wrapContext(React__namespace.createContext(null));class FiberProvider extends React__namespace.Component{render(){return React__namespace.createElement(FiberContext.Provider,{value:this._reactInternals},this.props.children)}}const{ReactCurrentOwner:ReactCurrentOwner,ReactCurrentDispatcher:ReactCurrentDispatcher}=React__namespace.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;function useFiber(){const e=React__namespace.useContext(FiberContext);if(!e)throw new Error("its-fine: useFiber must be called within a <FiberProvider />!");const r=React__namespace.useId();return React__namespace.useMemo((()=>{var t;return null!=(t=ReactCurrentOwner.current)?t:traverseFiber(e,!1,(e=>{let t=e.memoizedState;for(;t;){if(t.memoizedState===r)return!0;t=t.next}}))}),[e,r])}function useContainer(){const e=useFiber(),r=React__namespace.useMemo((()=>traverseFiber(e,!0,(e=>{var r;return null!=(null==(r=e.stateNode)?void 0:r.containerInfo)}))),[e]);return null==r?void 0:r.stateNode.containerInfo}function useNearestChild(e){const r=useFiber(),t=React__namespace.useRef();return React__namespace.useLayoutEffect((()=>{var n;t.current=null==(n=traverseFiber(r,!1,(r=>"string"===typeof r.type&&(void 0===e||r.type===e))))?void 0:n.stateNode}),[r]),t}function useNearestParent(e){const r=useFiber(),t=React__namespace.useRef();return React__namespace.useLayoutEffect((()=>{var n;t.current=null==(n=traverseFiber(r,!0,(r=>"string"===typeof r.type&&(void 0===e||r.type===e))))?void 0:n.stateNode}),[r]),t}function useContextBridge(){var e,r;const t=useFiber(),[n]=React__namespace.useState((()=>new Map));n.clear();let a=t;for(;a;){const t=null==(e=a.type)?void 0:e._context;t&&t!==FiberContext&&!n.has(t)&&n.set(t,null==(r=ReactCurrentDispatcher.current)?void 0:r.readContext(wrapContext(t))),a=a.return}return React__namespace.useMemo((()=>Array.from(n.keys()).reduce(((e,r)=>t=>React__namespace.createElement(e,null,React__namespace.createElement(r.Provider,__spreadProps(__spreadValues({},t),{value:n.get(r)})))),(e=>React__namespace.createElement(FiberProvider,__spreadValues({},e))))),[n])}exports.FiberProvider=FiberProvider,exports.traverseFiber=traverseFiber,exports.useContainer=useContainer,exports.useContextBridge=useContextBridge,exports.useFiber=useFiber,exports.useNearestChild=useNearestChild,exports.useNearestParent=useNearestParent;