"use strict";(self.webpackChunkflow_chart=self.webpackChunkflow_chart||[]).push([[942,124,601,32,428],{239233:function(e,t,a){a.d(t,{JX:function(){return c},K$:function(){return d},Qf:function(){return i},aZ:function(){return l},cu:function(){return s},d:function(){return n},eE:function(){return o},tr:function(){return r}});var n=8,r=6,i=40,l=14,o=10,c=10,d=16,s=24},984805:function(e,t,a){a.r(t);var n=a(601413),r=a(529439),i=a(72791),l=a(984124),o=a(919942),c=a(780184);t.default=function(){var e=(0,i.useContext)(o.CardConfigurationContext),t=(0,i.useState)(l.CONTROL_DATAS),a=(0,r.Z)(t,1)[0],d=(0,i.useCallback)((function(t){var a=e.data,r=e.dispatch,i=a.card;if(!t.disabled&&e&&r){var l=i?i.inParams.filter((function(e){return e.formType===t.data.formType})):[];r({type:"ADD_CARD_FROM_ITEM",data:(0,n.Z)((0,n.Z)({},t.data),{},{label:"".concat(t.name).concat(l.length),field:"".concat(t.data.formType.toLocaleLowerCase()).concat(l.length)})})}}),[e]);return(0,c.jsxs)("ul",{className:"app-card-configuration-form__composite",children:[(0,c.jsx)("div",{className:"app-card-configuration-form__composite--header",children:"\u7ec4\u4ef6"}),(0,c.jsx)("div",{className:"app-card-configuration-form__composite--list",children:a.map((function(e){return(0,c.jsx)("li",{onClick:function(){return d(e)},className:"app-card-configuration-form__composite--item ".concat(e.disabled?"is-disabled":""),children:e.value},e.value)}))})]})}},984124:function(e,t,a){a.r(t),a.d(t,{CONTROL_DATAS:function(){return i}});var n=a(601413),r={field:"test",formType:"Input",label:"label",placeholder:"\u8bf7\u8f93\u5165",value:"",disabled:!1,required:!1,tooltip:""},i=[{value:"Input",name:"\u8f93\u5165\u6846",disabled:!1,data:(0,n.Z)((0,n.Z)({},r),{},{formType:"Input"})},{value:"TextArea",name:"\u591a\u884c\u8f93\u5165",data:(0,n.Z)((0,n.Z)({},r),{},{formType:"TextArea"})},{value:"Number",name:"\u6570\u5b57\u8f93\u5165",data:(0,n.Z)((0,n.Z)({},r),{},{formType:"InputNumber"})},{value:"Password",name:"\u5bc6\u7801\u8f93\u5165",disabled:!0,data:(0,n.Z)((0,n.Z)({},r),{},{formType:"Input"})},{value:"Select",name:"\u9009\u62e9\u6846",disabled:!0,data:(0,n.Z)((0,n.Z)({},r),{},{formType:"Input"})},{value:"Checkbox Group",name:"\u590d\u9009\u6846",disabled:!0,data:(0,n.Z)((0,n.Z)({},r),{},{formType:"Input"})},{value:"Radio Group",name:"\u5355\u9009\u6846",disabled:!0,data:(0,n.Z)((0,n.Z)({},r),{},{formType:"Input"})},{value:"Cascader",name:"\u8054\u7ea7\u6846",disabled:!0,data:(0,n.Z)((0,n.Z)({},r),{},{formType:"Input"})},{value:"Date",name:"\u65e5\u671f\u9009\u62e9",disabled:!0,data:(0,n.Z)((0,n.Z)({},r),{},{formType:"Input"})},{value:"Date Range",name:"\u65e5\u671f\u8303\u56f4",disabled:!0,data:(0,n.Z)((0,n.Z)({},r),{},{formType:"Input"})},{value:"Time",name:"\u65f6\u95f4\u9009\u62e9",disabled:!0,data:(0,n.Z)((0,n.Z)({},r),{},{formType:"Input"})},{value:"Time Range",name:"\u65f6\u95f4\u8303\u56f4",disabled:!0,data:(0,n.Z)((0,n.Z)({},r),{},{formType:"Input"})},{value:"Switch",name:"\u5f00\u5173",disabled:!0,data:(0,n.Z)((0,n.Z)({},r),{},{formType:"Input"})},{value:"TreeSelect",name:"\u6811\u9009\u62e9",disabled:!0,data:(0,n.Z)((0,n.Z)({},r),{},{formType:"Input"})}]},818892:function(e,t,a){a.r(t);a(72791),a(565601);var n=a(984805),r=a(594496),i=a(710445),l=a(780184);t.default=function(){return(0,l.jsxs)("div",{className:"app-card-configuration-form",children:[(0,l.jsx)(n.default,{}),(0,l.jsx)(r.default,{}),(0,l.jsx)(i.default,{})]})}},710445:function(e,t,a){a.r(t),a.d(t,{default:function(){return h}});var n=a(204942),r=a(529439),i=a(72791),l=a(906362),o=a(93433),c=[{componentName:"Input",label:"\u6807\u7b7e\u540d",name:"label",required:!1,disabled:!1,tooltip:"",placeholder:"\u8bf7\u8f93\u5165\u6807\u7b7e\u540d"},{componentName:"Input",label:"\u5b57\u6bb5\u540d",name:"field",required:!1,disabled:!1,tooltip:"",placeholder:"\u8bf7\u8f93\u5165\u5b57\u6bb5\u540d"},{componentName:"Input",label:"\u5b57\u6bb5\u503c",name:"value",required:!1,disabled:!1,tooltip:"",placeholder:"\u8bf7\u8f93\u5165\u5b57\u6bb5\u503c"},{componentName:"Input",label:"\u5360\u4f4d\u63d0\u793a",name:"placeholder",required:!1,disabled:!1,tooltip:"",placeholder:"\u8bf7\u8f93\u5165\u63d0\u793a"},{componentName:"Switch",label:"\u662f\u5426\u5fc5\u586b",name:"required",required:!1,disabled:!1,tooltip:"",placeholder:"\u8bf7\u9009\u62e9"},{componentName:"Switch",label:"\u662f\u5426\u7981\u7528",name:"disabled",required:!1,disabled:!1,tooltip:"",placeholder:"\u8bf7\u9009\u62e9"},{componentName:"TextArea",label:"\u63d0\u793a\u4fe1\u606f",name:"tooltip",required:!1,disabled:!1,tooltip:"",placeholder:"\u8bf7\u8f93\u5165\u63d0\u793a\u4fe1\u606f"}],d={Input:{configure:[[{name:"\u5b57\u6bb5\u5c5e\u6027",list:[].concat((0,o.Z)(c),[{componentName:"Switch",label:"\u5c55\u793a\u5b57\u6570",name:"showCount",required:!1,disabled:!1,tooltip:"",placeholder:""},{componentName:"InputNumber",label:"\u6700\u5927\u957f\u5ea6",name:"maxLength",required:!1,disabled:!1,min:0,max:20,tooltip:"",placeholder:"\u8bf7\u8f93\u5165\u6700\u5927\u957f\u5ea6"}])}]]},InputNumber:{configure:[[{name:"\u5b57\u6bb5\u5c5e\u6027",list:[].concat((0,o.Z)(c),[{componentName:"InputNumber",label:"\u6700\u5c0f\u503c",name:"min",required:!1,disabled:!1,tooltip:"",placeholder:"\u8bf7\u8f93\u5165\u6700\u5c0f\u503c"},{componentName:"InputNumber",label:"\u6700\u5927\u503c",name:"max",required:!1,disabled:!1,tooltip:"",placeholder:"\u8bf7\u8f93\u5165\u6700\u5c0f\u503c"}])}]]},TextArea:{configure:[[{name:"\u5b57\u6bb5\u5c5e\u6027",list:[].concat((0,o.Z)(c),[{componentName:"Switch",label:"\u5c55\u793a\u5b57\u6570",name:"showCount",required:!1,disabled:!1,tooltip:"",placeholder:""},{componentName:"InputNumber",label:"\u6700\u5927\u957f\u5ea6",name:"maxLength",required:!1,disabled:!1,min:0,max:20,tooltip:"",placeholder:"\u8bf7\u8f93\u5165\u6700\u5927\u957f\u5ea6"}])}]]}},s=a(919942),u=a(780184),m=l.II.TextArea,p=l.Ph.Option,f=l.UO.Panel,h=function(){var e=(0,i.useContext)(s.CardConfigurationContext),t=l.l0.useForm(),a=(0,r.Z)(t,1)[0];(0,i.useEffect)((function(){var t=e.data,n=t.card,r=t.selectFormItemId;if(t&&r&&n){var i=null===n||void 0===n?void 0:n.inParams.findIndex((function(e){return e.id===r}));-1!==i&&a.setFieldsValue(null===n||void 0===n?void 0:n.inParams[i])}}),[e,a]);var o=(0,i.useCallback)((function(t,a){e.dispatch({type:"MODIFY_CARD_FROM_ITEM",data:(0,n.Z)({},t,a)})}),[e]),c=function(e,t){var a=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return(0,u.jsxs)(u.Fragment,{children:["Input"===e.componentName&&(0,u.jsx)(l.l0.Item,{label:e.label,name:e.name,tooltip:e.tooltip,rules:[{required:e.require}],children:(0,u.jsx)(l.II,{allowClear:!0,disabled:e.disabled,onBlur:function(t){return a&&o(e.name,t.target.value)},placeholder:e.placeholder})}),"InputNumber"===e.componentName&&(0,u.jsx)(l.l0.Item,{label:e.label,name:e.name,tooltip:e.tooltip,rules:[{required:e.require}],children:(0,u.jsx)(l.Rn,{disabled:e.disabled,min:e.min,max:e.max,onBlur:function(t){return a&&o(e.name,t.target.value?Number(t.target.value):0)},style:{width:"100%"},placeholder:e.placeholder})}),"TextArea"===e.componentName&&(0,u.jsx)(l.l0.Item,{label:e.label,name:e.name,tooltip:e.tooltip,rules:[{required:e.require}],children:(0,u.jsx)(m,{allowClear:!0,disabled:e.disabled,onBlur:function(t){return a&&o(e.name,t.target.value)},rows:8,placeholder:e.placeholder})}),"Switch"===e.componentName&&(0,u.jsx)(l.l0.Item,{label:e.label,name:e.name,tooltip:e.tooltip,valuePropName:"checked",rules:[{required:e.require}],children:(0,u.jsx)(l.rs,{onChange:function(t){return a&&o(e.name,t)}})}),"Slider"===e.componentName&&(0,u.jsx)(l.l0.Item,{label:e.label,name:e.name,tooltip:e.tooltip,rules:[{required:e.require}],children:(0,u.jsx)(l.iR,{min:e.min||0,max:e.max||100,disabled:e.disabled,step:e.step||1,onAfterChange:function(t){return a&&o(e.name,t)}})}),"Select"===e.componentName&&(0,u.jsx)(l.l0.Item,{label:e.label,name:e.name,tooltip:e.tooltip,rules:[{required:e.require}],children:(0,u.jsx)(l.Ph,{allowClear:!0,disabled:e.disabled,onChange:function(t){return a&&o(e.name,t)},placeholder:e.placeholder,children:e.options.map((function(e){return(0,u.jsx)(p,{value:e.code,children:e.name},e.code)}))})})]})},h=function(e,t){return Object.prototype.toString.call(e)===t},x=(0,i.useMemo)((function(){var t=e.data,a=t.card,n=t.selectFormItemId,r="";if(a&&n){var i=a.inParams.findIndex((function(e){return e.id===n}));-1!==i&&(r=a.inParams[i].formType)}return r}),[e.data]);return(0,u.jsxs)("div",{className:"app-card-configuration-form__settings",children:[(0,u.jsx)("div",{className:"header",children:"\u5c5e\u6027\u914d\u7f6e"}),(0,u.jsx)("div",{className:"body",children:e.data.selectFormItemId?(0,u.jsx)(l.l0,{form:a,labelCol:{span:7},wrapperCol:{span:17},autoComplete:"off",colon:!1,labelAlign:"left",children:x&&d[x]?function e(t,a){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return t.map((function(t,r){if(h(t,"[object Object]")){var i=void 0!==t.relationFields?t.relationFields.split(","):[];return(0,u.jsx)("div",{children:i.length?(0,u.jsx)(l.l0.Item,{noStyle:!0,shouldUpdate:!0,children:function(e){var r=e.getFieldValue;if(i.every((function(e){return t.relationValues.includes(String(r(e)))})))return c(t,a,n)}}):c(t,a,n)},r)}if(h(t,"[object Array]"))return(0,u.jsx)("div",{children:t.map((function(t,r){var i=void 0!==t.relationFields?t.relationFields.split(","):[];return(0,u.jsx)(l.UO,{activeKey:0,children:void 0===t.relationFields?(0,u.jsx)(f,{header:t.name,children:e(t.list,a,n)},r):(0,u.jsx)(l.l0.Item,{noStyle:!0,shouldUpdate:!0,children:function(o){var c=o.getFieldValue;if(i.every((function(e){return t.relationValues.includes(String(c(e)))})))return(0,u.jsx)(l.UO,{children:(0,u.jsx)(f,{header:t.name,children:e(t.list,a,n)},t+r)},r)}})},r)}))},r)}))}(d[x].configure,a,!0):null}):(0,u.jsx)(l.HY,{image:l.HY.PRESENTED_IMAGE_SIMPLE})})]})}},594496:function(e,t,a){a.r(t),a.d(t,{default:function(){return h}});var n=a(601413),r=a(529439),i=a(72791),l=a(906362),o=a(919942),c=a(780184),d=function(e){var t=e.children,a=e.selectHandler,n=e.id,r=e.selectId;return(0,c.jsxs)("div",{className:"app-custom-form-item",children:[a?(0,c.jsx)("div",{className:"edit ".concat(r===n?"is-selected":""),onClick:function(e){return a(n,e)},"data-type":"wrap",children:r===n?(0,c.jsxs)("div",{className:"tools",children:[(0,c.jsx)(l.u,{placement:"top",title:"\u590d\u5236",children:(0,c.jsx)("span",{className:"app-icon ".concat(r?"":"is-disabled"),"data-type":"copy",children:"\ue765"})}),(0,c.jsx)(l.u,{placement:"top",title:"\u5220\u9664",children:(0,c.jsx)("span",{className:"app-icon ".concat(r?"":"is-disabled"),"data-type":"delete",children:"\ue7c3"})})]}):null}):null,t]})},s=function(e){var t=e.item,a=e.selectHandler,n=e.selectId;return(0,c.jsx)(d,{selectHandler:a,id:t.id,selectId:n,children:(0,c.jsx)(l.l0.Item,{label:t.label,name:t.field,tooltip:t.tooltip,rules:[{required:t.require}],children:(0,c.jsx)(l.II,{allowClear:!0,showCount:t.showCount,maxLength:t.maxLength,disabled:t.disabled,placeholder:t.placeholder})})})},u=l.II.TextArea,m=function(e){var t=e.item,a=e.selectHandler,n=e.selectId;return(0,c.jsx)(d,{selectHandler:a,id:t.id,selectId:n,children:(0,c.jsx)(l.l0.Item,{label:t.label,name:t.field,tooltip:t.tooltip,rules:[{required:t.require}],children:(0,c.jsx)(u,{allowClear:!0,showCount:t.showCount,maxLength:t.maxLength,disabled:t.disabled,placeholder:t.placeholder})})})},p=function(e){var t=e.item,a=e.selectHandler,n=e.selectId;return(0,c.jsx)(d,{selectHandler:a,id:t.id,selectId:n,children:(0,c.jsx)(l.l0.Item,{label:t.label,name:t.field,tooltip:t.tooltip,rules:[{required:t.require}],children:(0,c.jsx)(l.Rn,{style:{width:"100%"},min:t.min,max:t.max,disabled:t.disabled,placeholder:t.placeholder})})})},f=function(e){var t=e.list,a=e.selectHandler,n=e.selectId,o=l.l0.useForm(),d=(0,r.Z)(o,1)[0];return(0,i.useEffect)((function(){if(t){var e={};t.forEach((function(t){e[t.field]=t.value})),d.setFieldsValue(e)}}),[d,t]),(0,c.jsx)(l.l0,{labelCol:{span:7},wrapperCol:{span:17},autoComplete:"off",colon:!1,labelAlign:"left",form:d,children:t.map((function(e){return"Input"===e.formType?(0,c.jsx)(s,{item:e,selectHandler:a,selectId:n},e.id):"TextArea"===e.formType?(0,c.jsx)(m,{item:e,selectHandler:a,selectId:n},e.id):"InputNumber"===e.formType?(0,c.jsx)(p,{item:e,selectHandler:a,selectId:n},e.id):void 0}))})},h=function(){var e,t,a,d,s=(0,i.useContext)(o.CardConfigurationContext),u=(0,i.useState)({top:!0,bottom:!0,moveUp:!0,moveDown:!0,copy:!0,delete:!0}),m=(0,r.Z)(u,2),p=m[0],h=m[1],x=(0,i.useState)(0),I=(0,r.Z)(x,2),v=I[0],A=I[1];(0,i.useEffect)((function(){var e=s.data,t=e.card,a=e.selectFormItemId;if(t&&a){var r=t.inParams.findIndex((function(e){return e.id===a}));-1!==r&&h((function(e){return(0,n.Z)((0,n.Z)({},e),{},{top:0===r,bottom:r===t.inParams.length-1,moveUp:0===r||!t.inParams.length,moveDown:r===t.inParams.length-1||!t.inParams.length})})),h((function(e){return(0,n.Z)((0,n.Z)({},e),{},{copy:!1,delete:!1})}))}a||h({top:!0,bottom:!0,moveUp:!0,moveDown:!0,copy:!0,delete:!0})}),[s]);var b=(0,i.useCallback)((function(e,t){var a=t.target.dataset.type,n=s.dispatch,r=s.data,i=r.card,l=r.selectFormItemId;if(i)switch(a){case"wrap":l!==e&&n({type:"SELECT_CARD_FROM_ITEM",id:e});break;case"top":!p.top&&n({type:"TOP_CARD_FROM_ITEM"});break;case"bottom":!p.bottom&&n({type:"BOTTOM_CARD_FROM_ITEM"});break;case"moveUp":!p.moveUp&&n({type:"MOVEUP_CARD_FROM_ITEM"});break;case"moveDown":!p.moveDown&&n({type:"MOVEDOWN_CARD_FROM_ITEM"});break;case"copy":!p.copy&&n({type:"COPY_CARD_FROM_ITEM"});break;case"delete":!p.delete&&n({type:"DELETE_CARD_FROM_ITEM"})}}),[s,p]);return(0,c.jsxs)("div",{className:"app-card-configuration-form__workspace",children:[(0,c.jsxs)("div",{className:"app-card-configuration-form__workspace--menu",onClick:function(e){return b(s.data.selectFormItemId,e)},children:[(0,c.jsxs)("div",{className:"left",children:[(0,c.jsx)(l.u,{placement:"top",title:"\u64a4\u9500",children:(0,c.jsx)("span",{className:"app-icon is-disabled",children:"\ue61e"})}),(0,c.jsx)(l.u,{placement:"top",title:"\u91cd\u505a",children:(0,c.jsx)("span",{className:"app-icon is-disabled",children:"\ue60f"})}),(0,c.jsx)(l.u,{placement:"top",title:"\u7f6e\u9876",children:(0,c.jsx)("span",{"data-type":"top",className:"app-icon ".concat(p.top?"is-disabled":""),children:"\ue786"})}),(0,c.jsx)(l.u,{placement:"top",title:"\u7f6e\u5e95",children:(0,c.jsx)("span",{"data-type":"bottom",className:"app-icon ".concat(p.bottom?"is-disabled":""),children:"\ue742"})}),(0,c.jsx)(l.u,{placement:"top",title:"\u4e0a\u79fb",children:(0,c.jsx)("span",{"data-type":"moveUp",className:"app-icon ".concat(p.moveUp?"is-disabled":""),children:"\ue7ef"})}),(0,c.jsx)(l.u,{placement:"top",title:"\u4e0b\u79fb",children:(0,c.jsx)("span",{"data-type":"moveDown",className:"app-icon ".concat(p.moveDown?"is-disabled":""),children:"\ue7f1"})}),(0,c.jsx)(l.u,{placement:"top",title:"\u590d\u5236",children:(0,c.jsx)("span",{"data-type":"copy",className:"app-icon ".concat(p.copy?"is-disabled":""),children:"\ue765"})}),(0,c.jsx)(l.u,{placement:"top",title:"\u5220\u9664",children:(0,c.jsx)("span",{"data-type":"delete",className:"app-icon ".concat(p.delete?"is-disabled":""),children:"\ue7c3"})})]}),(0,c.jsxs)("div",{className:"right",children:[(0,c.jsx)(l.u,{placement:"top",title:"\u7f16\u8f91",children:(0,c.jsx)("span",{className:"app-icon ".concat(0===v?"is-selected":""),onClick:function(){return A(0)},children:"\uec88"})}),(0,c.jsx)(l.u,{placement:"top",title:"JSON",children:(0,c.jsx)("span",{className:"app-icon ".concat(1===v?"is-selected":""),onClick:function(){return A(1)},children:"\ue7bd"})}),(0,c.jsx)(l.u,{placement:"top",title:"\u8fd0\u884c",children:(0,c.jsx)("span",{className:"app-icon ".concat(2===v?"is-selected":""),onClick:function(){return A(2)},children:"\ue65d"})})]})]}),(0,c.jsx)("div",{className:"app-card-configuration-form__workspace--body",children:null!==(e=s.data.card)&&void 0!==e&&e.inParams&&0===(null===(t=s.data.card)||void 0===t?void 0:t.inParams.length)?(0,c.jsx)(l.x4,{style:{paddingTop:100},status:"404",title:"\u6682\u65e0\u6570\u636e",subTitle:"\u8bf7\u70b9\u51fb\u5de6\u4fa7\u7684\u7ec4\u4ef6\u6dfb\u52a0\u8868\u5355\u5143\u7d20"}):(0,c.jsxs)(c.Fragment,{children:[0===v?(0,c.jsx)(f,{list:(null===(a=s.data.card)||void 0===a?void 0:a.inParams)||[],selectHandler:b,selectId:s.data.selectFormItemId}):null,2===v?(0,c.jsx)(f,{list:(null===(d=s.data.card)||void 0===d?void 0:d.inParams)||[]}):null]})})]})}},859599:function(e,t,a){a.r(t);var n=a(72791),r=a(906362),i=a(510133),l=a(280542),o=a(919942),c=a(780184);t.default=function(){var e=(0,n.useContext)(o.CardConfigurationContext),t=(0,l.k6)(),a=(0,n.useCallback)((function(){var t;e&&(null!==(t=e.data.card)&&void 0!==t&&t.ports.some((function(e){return e.visible}))||r.yw.error("\u5fc5\u987b\u9009\u62e9\u4e00\u4e2a\u8fde\u63a5\u70b9"))}),[e]);return(0,c.jsxs)("div",{className:"app-card-configuration__header",children:[(0,c.jsxs)("div",{className:"left",children:[(0,c.jsx)(r.u,{placement:"bottom",title:"\u8fd4\u56de",children:(0,c.jsx)("div",{className:"return app-icon",onClick:function(){return t.goBack()},children:"\ue720"})}),(0,c.jsx)("div",{className:"app-icon logo",children:"\ue605"}),(0,c.jsx)("div",{className:"title",children:(0,i.Gr)("id")?"\u7f16\u8f91\u5361\u7247":"\u65b0\u589e\u5361\u7247"})]}),(0,c.jsx)("div",{className:"right",children:(0,c.jsx)(r.zx,{type:"primary",onClick:a,children:"\u4fdd\u5b58"})})]})}},673669:function(e,t,a){a.r(t);var n=a(529439),r=a(72791),i=a(906362),l=a(818892),o=a(919942),c=a(780184);t.default=function(){var e=i.l0.useForm(),t=(0,n.Z)(e,1)[0],a=(0,r.useContext)(o.CardConfigurationContext),d=(0,r.useState)(!1),s=(0,n.Z)(d,2),u=s[0],m=s[1];(0,r.useEffect)((function(){if(a.data.card){var e=a.data.card,n=e.title,r=e.width,i=e.ports;t.setFieldsValue({title:n,width:r,ports:i.filter((function(e){return e.visible})).map((function(e){return e.group}))})}}),[a.data.card,t]);var p=(0,r.useCallback)((function(e,t){switch(t){case"title":a.dispatch({type:"MODIFY_CARD_TITLE",title:e});break;case"ports":a.dispatch({type:"MODIFY_CARD_PORTS",data:e})}}),[a]);return(0,c.jsxs)("div",{className:"app-card-configuration__aside",children:[(0,c.jsx)("div",{className:"header",children:"\u5361\u7247\u914d\u7f6e"}),(0,c.jsx)("div",{className:"body",children:(0,c.jsxs)(i.l0,{form:t,name:"basic",labelAlign:"left",colon:!1,labelCol:{span:9},wrapperCol:{span:15},requiredMark:!1,autoComplete:"off",children:[(0,c.jsx)(i.l0.Item,{label:"\u5361\u7247\u540d\u79f0",name:"title",children:(0,c.jsx)(i.II,{onBlur:function(e){return p(e.target.value,"title")}})}),(0,c.jsx)(i.l0.Item,{label:"\u5361\u7247\u5bbd\u5ea6",name:"width",children:(0,c.jsx)(i.II,{disabled:!0})}),(0,c.jsx)(i.l0.Item,{name:"ports",label:"\u8fde\u63a5\u70b9",children:(0,c.jsxs)(i.XZ.Group,{onChange:function(e){return p(e,"ports")},children:[(0,c.jsx)(i.XZ,{value:"left",style:{lineHeight:"32px"},children:"\u5de6\u8fde\u63a5\u70b9"}),(0,c.jsx)(i.XZ,{value:"right",style:{lineHeight:"32px"},children:"\u53f3\u8fde\u63a5\u70b9"})]})}),(0,c.jsx)(i.l0.Item,{name:"inParams",label:"\u5165\u53c2\u914d\u7f6e",children:(0,c.jsx)(i.zx,{type:"primary",style:{width:"100%"},onClick:function(){return m(!0)},children:"\u914d\u7f6e"})})]})}),(0,c.jsx)(i.dy,{title:"\u53c2\u6570\u914d\u7f6e",width:"70%",open:u,maskClosable:!1,closable:!1,bodyStyle:{padding:0},headerStyle:{borderBottom:"1px solid #ddd",padding:"10px"},extra:(0,c.jsx)(i.T,{children:(0,c.jsx)(i.zx,{type:"primary",onClick:function(){return m(!1)},children:"\u5173\u95ed"})}),children:(0,c.jsx)(l.default,{})})]})}},919942:function(e,t,a){a.r(t),a.d(t,{CardConfigurationContext:function(){return I},default:function(){return v}});var n=a(601413),r=a(529439),i=a(72791),l=a(609246),o=(a(139032),a(239233)),c=a(780184),d=function(e){var t=e.config,a=(0,i.useState)(),d=(0,r.Z)(a,2),s=d[0],u=d[1],m=(0,i.useState)(),p=(0,r.Z)(m,2),f=p[0],h=p[1];return(0,i.useEffect)((function(){u({x:0,y:0,width:t.width,height:t.height,fill:"#f9f9f9",shadowColor:"rgba(0,0,0,.3)",cornerRadius:o.d,shadowBlur:10}),h({x:-o.tr,y:-o.tr,width:t.width+2*o.tr,height:t.height+2*o.tr,stroke:"#40a9ff",strokeWidth:2,cornerRadius:o.d})}),[t]),(0,c.jsxs)(l.Group,{children:[(0,c.jsx)(l.Rect,(0,n.Z)({},f)),(0,c.jsx)(l.Rect,(0,n.Z)({},s))]})},s=function(e){var t=e.config,d=(0,i.useState)(),s=(0,r.Z)(d,2),u=s[0],m=s[1],p=(0,i.useState)(),f=(0,r.Z)(p,2),h=f[0],x=f[1],I=(0,i.useState)(),v=(0,r.Z)(I,2),A=v[0],b=v[1],j=(0,i.useState)(),C=(0,r.Z)(j,2),g=C[0],_=C[1];return(0,i.useEffect)((function(){m({x:0,y:0,width:t.width,height:o.Qf,fillLinearGradientStartPoint:{x:0,y:0},fillLinearGradientEndPoint:{x:0,y:t.width},fillLinearGradientColorStops:[0,"#e1f2ff",.15,"#f9f9f9"],cornerRadius:[o.d,o.d,0,0]}),b({x:0,y:o.Qf,width:t.width,height:1,fillLinearGradientStartPoint:{x:0,y:0},fillLinearGradientEndPoint:{x:t.width,y:0},fillLinearGradientColorStops:[0,"#ddd",1,"#fff"]}),x({text:t.title,fontSize:o.aZ,fill:"#666",x:o.K$+2*o.JX,fontStyle:"bold",lineHeight:o.Qf/o.aZ})}),[t]),(0,i.useEffect)((function(){var e=new Image;e.src=a(715270),e.onload=function(){_({x:o.JX,y:12,image:e,width:o.K$,height:o.K$})}}),[]),(0,c.jsxs)(l.Group,{children:[(0,c.jsx)(l.Rect,(0,n.Z)({},u)),(0,c.jsx)(l.Text,(0,n.Z)({},h)),g?(0,c.jsx)(l.Image,(0,n.Z)({},g)):null,(0,c.jsx)(l.Rect,(0,n.Z)({},A))]})},u=a(510133),m=function(e){var t=e.config,a=(0,i.useState)(),d=(0,r.Z)(a,2),s=d[0],m=d[1],p=(0,i.useState)(),f=(0,r.Z)(p,2),h=f[0],x=f[1];(0,i.useEffect)((function(){var e={x:o.JX-3,y:o.Qf+o.eE-3};m((0,n.Z)((0,n.Z)({},e),{},{scaleX:.03,scaleY:.03,fill:"#1890ff",data:"M514 114.3c-219.9 0-398.8 178.9-398.8 398.8 0 220 178.9 398.9 398.8 398.9s398.8-178.9 398.8-398.9c0-219.8-178.9-398.8-398.8-398.8z m232.1 440.4L582 718.8c-22.9 22.9-60.2 22.9-83.1 0-11.5-11.5-17.2-26.5-17.2-41.5s5.7-30.1 17.2-41.5l63.8-63.8H334c-32.5 0-58.8-26.3-58.8-58.8s26.3-58.8 58.8-58.8h228.7l-63.8-63.8c-22.9-22.9-22.9-60.2 0-83.1 22.9-22.9 60.2-22.9 83.1 0l164.1 164.1c22.9 23 22.9 60.2 0 83.1z"})),x((0,n.Z)((0,n.Z)({},e),{},{width:o.cu,height:o.cu}))}),[t]);return(0,c.jsxs)(l.Group,{x:t.x,children:[(0,c.jsx)(l.Path,(0,n.Z)({},s)),(0,c.jsx)(l.Rect,(0,n.Z)((0,n.Z)({type:"port"},h),{},{onMouseEnter:function(e){m((function(e){return(0,n.Z)((0,n.Z)({},e),{},{fill:"#40a9ff"})})),(0,u.Oh)("js_stage","pointer")},onMouseLeave:function(e){m((function(e){return(0,n.Z)((0,n.Z)({},e),{},{fill:"#1890ff"})})),(0,u.Oh)("js_stage","default")}}))]})},p=function(e){var t=e.config,a=(0,i.useState)(),p=(0,r.Z)(a,2),f=p[0],h=p[1];(0,i.useEffect)((function(){h({x:o.JX,lineHeight:o.cu/14,fontSize:12,fill:"#999"})}),[t]);return(0,c.jsxs)(l.Group,{x:t.x,y:t.y,width:t.width,height:t.height,children:[(0,c.jsx)(d,{config:t}),(0,c.jsx)(s,{config:t}),(0,c.jsx)(l.Rect,{type:"move","data-id":t.id,width:t.width,height:t.height,onMouseEnter:function(e){(0,u.Oh)("js_stage","move")},onMouseLeave:function(e){(0,u.Oh)("js_stage","default")}}),t.ports?t.ports.map((function(e){return"left"===e.group&&e.visible?(0,c.jsx)(m,{config:(0,n.Z)((0,n.Z)({},t),{},{x:0})},e.id):"right"===e.group&&e.visible?(0,c.jsx)(m,{config:(0,n.Z)((0,n.Z)({},t),{},{x:t.width-o.cu-2*o.JX})},e.id):null})):null,t.inParams.map((function(e,a){return(0,i.createElement)(l.Text,(0,n.Z)((0,n.Z)({},f),{},{key:e.id,text:"".concat(e.field,"\uff1a").concat(e.value||'""'),y:o.Qf+(t.ports.some((function(e){return e.visible}))?o.cu+2*o.JX:o.JX)+a*o.cu}))}))]})},f=a(859599),h=a(673669),x=a(548893),I=i.createContext({data:x.initialState,dispatch:function(){}}),v=function(){var e=(0,i.useReducer)(x.counter,x.initialState),t=(0,r.Z)(e,2),a=t[0],o=t[1],d=(0,i.useState)({x:0,y:0,width:window.innerWidth-300,height:window.innerHeight-62}),s=(0,r.Z)(d,1)[0];(0,i.useEffect)((function(){(0,u.Gr)("id")||o({type:"CARD",data:{id:(0,u.M8)(),width:200,height:80,title:"\u672a\u547d\u540d\u5361\u7247",x:10,y:10,ports:[{id:(0,u.M8)(),group:"left",visible:!0},{id:(0,u.M8)(),group:"right",visible:!0}],inParams:[]}})}),[]);return(0,c.jsx)(I.Provider,{value:{dispatch:o,data:a},children:(0,c.jsxs)("div",{className:"app-card-configuration",children:[(0,c.jsx)(f.default,{}),(0,c.jsxs)("div",{className:"app-card-configuration__body",children:[(0,c.jsx)("div",{className:"app-card-configuration__container",id:"js_stage",children:(0,c.jsx)(l.Stage,(0,n.Z)((0,n.Z)({},s),{},{onMouseUp:function(e){},onMouseMove:function(e){},onMouseDown:function(e){1===e.evt.which&&(0,u.O8)()},onContextMenu:function(e){e.evt.preventDefault(),(0,u.fW)(e.evt)},draggable:!0,type:"stage",children:(0,c.jsx)(l.Layer,{children:a.card?(0,c.jsx)(p,{config:a.card}):null})}))}),(0,c.jsx)(h.default,{})]}),(0,c.jsx)("div",{className:"app-card-configuration__footer"})]})})}},548893:function(e,t,a){a.r(t),a.d(t,{counter:function(){return s},initialState:function(){return d}});var n=a(93433),r=a(601413),i=a(510133),l=a(239233),o=a(29428),c=function(e){var t=l.Qf;return e.ports.some((function(e){return e.visible}))&&(t+=l.cu+l.eE),e.inParams.forEach((function(){t+=l.cu})),t+=l.eE},d={card:null,selectFormItemId:""},s=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:d,t=arguments.length>1?arguments[1]:void 0,a=JSON.parse(JSON.stringify(e));switch(t.type){case o.CARD:return{card:(0,r.Z)((0,r.Z)({},t.data),{},{height:c(t.data)}),selectFormItemId:""};case o.MODIFY_CARD_TITLE:return a.card.title=t.title,a;case o.MODIFY_CARD_PORTS:return a.card.ports=a.card.ports.map((function(e){return(0,r.Z)((0,r.Z)({},e),{},{visible:t.data.includes(e.group)})})),a.card.height=c(a.card),a;case o.ADD_CARD_FROM_ITEM:var l=(0,i.M8)();return a.card.inParams=[].concat((0,n.Z)(a.card.inParams),[(0,r.Z)((0,r.Z)({},t.data),{},{id:l})]),a.card.height=c(a.card),a.selectFormItemId=l,a;case o.MODIFY_CARD_FROM_ITEM:if(a.selectFormItemId){var s=a.card.inParams.findIndex((function(e){return e.id===a.selectFormItemId}));-1!==s&&a.card.inParams.splice(s,1,(0,r.Z)((0,r.Z)({},a.card.inParams[s]),t.data))}return a;case o.SELECT_CARD_FROM_ITEM:return a.selectFormItemId=t.id,a;case o.DELETE_CARD_FROM_ITEM:if(a.selectFormItemId){var u=a.card.inParams.findIndex((function(e){return e.id===a.selectFormItemId}));-1!==u&&(a.card.inParams.splice(u,1),a.card.inParams.length?a.selectFormItemId=a.card.inParams[0].id:a.selectFormItemId="",a.card.height=c(a.card))}return a;case o.COPY_CARD_FROM_ITEM:if(a.selectFormItemId){var m=a.card.inParams.findIndex((function(e){return e.id===a.selectFormItemId}));if(-1!==m){var p=(0,i.M8)();a.card.inParams.push((0,r.Z)((0,r.Z)({},a.card.inParams[m]),{},{id:p})),a.selectFormItemId=p,a.card.height=c(a.card)}}return a;case o.TOP_CARD_FROM_ITEM:if(a.selectFormItemId){var f=a.card.inParams.findIndex((function(e){return e.id===a.selectFormItemId}));if(-1!==f){var h=a.card.inParams.splice(f,1);a.card.inParams.unshift(h[0])}}return a;case o.BOTTOM_CARD_FROM_ITEM:if(a.selectFormItemId){var x=a.card.inParams.findIndex((function(e){return e.id===a.selectFormItemId}));if(-1!==x){var I=a.card.inParams.splice(x,1);a.card.inParams.push(I[0])}}return a;case o.MOVEUP_CARD_FROM_ITEM:if(a.selectFormItemId){var v=a.card.inParams.findIndex((function(e){return e.id===a.selectFormItemId}));if(v>0){var A,b=a.card.inParams.splice(v,1);(A=a.card.inParams).splice.apply(A,[v-1,0].concat((0,n.Z)(b)))}}return a;case o.MOVEDOWN_CARD_FROM_ITEM:if(a.selectFormItemId){var j=a.card.inParams.findIndex((function(e){return e.id===a.selectFormItemId}));if(-1!==j&&j<a.card.inParams.length-1){var C,g=a.card.inParams.splice(j,1);(C=a.card.inParams).splice.apply(C,[j+1,0].concat((0,n.Z)(g)))}}return a;default:return e}}},29428:function(e,t,a){a.r(t),a.d(t,{ADD_CARD_FROM_ITEM:function(){return l},BOTTOM_CARD_FROM_ITEM:function(){return m},CARD:function(){return n},COPY_CARD_FROM_ITEM:function(){return s},DELETE_CARD_FROM_ITEM:function(){return d},MODIFY_CARD_FROM_ITEM:function(){return o},MODIFY_CARD_PORTS:function(){return i},MODIFY_CARD_TITLE:function(){return r},MOVEDOWN_CARD_FROM_ITEM:function(){return f},MOVEUP_CARD_FROM_ITEM:function(){return p},SELECT_CARD_FROM_ITEM:function(){return c},TOP_CARD_FROM_ITEM:function(){return u}});var n="CARD",r="MODIFY_CARD_TITLE",i="MODIFY_CARD_PORTS",l="ADD_CARD_FROM_ITEM",o="MODIFY_CARD_FROM_ITEM",c="SELECT_CARD_FROM_ITEM",d="DELETE_CARD_FROM_ITEM",s="COPY_CARD_FROM_ITEM",u="TOP_CARD_FROM_ITEM",m="BOTTOM_CARD_FROM_ITEM",p="MOVEUP_CARD_FROM_ITEM",f="MOVEDOWN_CARD_FROM_ITEM"},565601:function(e,t,a){a.r(t),t.default={}},139032:function(e,t,a){a.r(t),t.default={}},715270:function(e){e.exports="data:image/png;base64,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"}}]);