(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[6],{116:function(e,t,a){},117:function(e,t,a){},125:function(e,t,a){"use strict";a.r(t);var n=a(4),c=a(0),s=a(53),i=a(55),r=a(12),o=a(51),l=a(20),u=a(3),j=(a(116),a(1)),m=function(e){var t=e.author,a=e.create_at,n=e.reply,c=e.topic,s=Object(u.g)();return Object(j.jsxs)("div",{className:"sz-message__item",children:[Object(j.jsxs)("div",{className:"sz-message__item--header",onClick:function(){return s.push("/my?loginname=".concat(t.loginname))},children:[Object(j.jsx)("div",{className:"avatar",children:Object(j.jsx)("img",{src:t.avatar_url,alt:t.loginname})}),Object(j.jsxs)("div",{className:"content",children:[Object(j.jsx)("div",{className:"loginname",children:t.loginname}),Object(j.jsx)("div",{className:"create-at",children:Object(l.f)(a)})]})]}),Object(j.jsx)("div",{className:"sz-message__item--body",dangerouslySetInnerHTML:{__html:"".concat(n.content)}}),Object(j.jsx)("div",{className:"sz-message__item--footer",onClick:function(){return s.push("/details?id=".concat(c.id))},children:c.title})]})};a(117),t.default=Object(r.b)((function(e){return{token:e.userInfo.token}}))((function(e){var t=e.token;console.log(t<"token");var a=Object(i.a)("getMessages",JSON.stringify({accesstoken:t}),!Boolean(t)),r=a.data,l=a.loading;return Object(j.jsx)("div",{className:"sz-message",children:l?Object(j.jsx)(o.h,{image:{show:!0},rows:5}):Object(j.jsxs)(j.Fragment,{children:[r.has_read_messages?r.has_read_messages.map((function(e){return Object(c.createElement)(m,Object(n.a)(Object(n.a)({},e),{},{key:e.id}))})):null,Object(j.jsx)(s.a,{value:"message"})]})})}))},53:function(e,t,a){"use strict";var n=a(4),c=a(48),s=a(0),i=a(16),r=a(12),o=a(50),l=a.n(o),u=(a(54),a(1));t.a=Object(r.b)((function(e){return{loginname:e.userInfo.loginname}}))((function(e){var t=e.loginname,a=e.value,r=void 0===a?"home":a,o=Object(s.useState)([{icon:"&#xe729;",name:"\u9996\u9875",path:"home",search:""},{icon:"&#xe68a;",name:"\u6d88\u606f",path:"message",search:""},{icon:"&#xe6a1;",name:"\u6211\u7684",path:"my",search:""}]),j=Object(c.a)(o,2),m=j[0],b=j[1];return Object(s.useEffect)((function(){t&&b((function(e){return e.map((function(e,a){return Object(n.a)(Object(n.a)({},e),{},{search:2===a?"loginname=".concat(t):""})}))}))}),[b,t]),Object(u.jsx)("div",{className:"sz-footer",children:Object(u.jsx)("ul",{className:"sz-nav",children:m.map((function(e,t){return Object(u.jsx)("li",{className:l()("sz-nav__item",{"is-active":r===e.path}),children:Object(u.jsxs)(i.b,{to:{pathname:"/".concat(e.path),search:e.search},children:[Object(u.jsx)("span",{dangerouslySetInnerHTML:{__html:"".concat(e.icon)},className:"ued-mobile"}),Object(u.jsx)("span",{className:"text",children:e.name})]})},t)}))})})}))},54:function(e,t,a){},55:function(e,t,a){"use strict";var n=a(48),c=a(0),s=a(52);t.a=function(e,t){var a=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=Object(c.useState)({}),r=Object(n.a)(i,2),o=r[0],l=r[1],u=Object(c.useState)(!1),j=Object(n.a)(u,2),m=j[0],b=j[1],h=Object(c.useState)(!1),d=Object(n.a)(h,2),O=d[0],f=d[1];return Object(c.useEffect)((function(){s.a[e]&&!a&&(b(!0),f(!1),s.a[e](JSON.parse(t)).then((function(e){b(!1),f(!1),e.success&&l(e.data)})).catch((function(){b(!1),f(!0)})))}),[t,e,a]),{loading:m,error:O,data:o}}}}]);