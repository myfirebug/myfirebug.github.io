(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[1],{101:function(e,t,n){},102:function(e,t,n){},103:function(e,t,n){},104:function(e,t,n){},105:function(e,t,n){},106:function(e,t,n){},107:function(e,t,n){},108:function(e,t,n){},109:function(e,t,n){},110:function(e,t,n){},51:function(e,t,n){"use strict";n.d(t,"i",(function(){return j})),n.d(t,"b",(function(){return O})),n.d(t,"d",(function(){return g})),n.d(t,"f",(function(){return y})),n.d(t,"e",(function(){return z})),n.d(t,"h",(function(){return N.a})),n.d(t,"c",(function(){return C})),n.d(t,"g",(function(){return E})),n.d(t,"a",(function(){return I}));var c,s=n(21),a=n(48),r=n(0),i=n.n(r),o=n(14),l=n.n(o),u=n(50),d=n.n(u),f=(n(102),n(1)),m=function(e){var t=e.content,n=e.duration,c=void 0===n?3e3:n,i=e.destroy,o=e.type,l=Object(r.useState)(!0),u=Object(a.a)(l,2),m=u[0],j=u[1];Object(r.useEffect)((function(){var e=setTimeout((function(){j(!1)}),c),t=setTimeout((function(){"function"===typeof i&&i()}),c+250);return function(){clearTimeout(e),clearTimeout(t)}}),[c,i]);var b=d()("sz-toast",m?"is-show":"is-hide",Object(s.a)({},"sz-toast__".concat(o),o));return Object(f.jsxs)("div",{className:b,children:[Object(f.jsx)("span",{className:"sz-status"}),t]})},j=function(e){var t=function(){l.a.unmountComponentAtNode(c),document.body.removeChild(c),c=null};return c&&t(),c=document.createElement("div"),document.body.appendChild(c),l.a.render(Object(f.jsx)(m,{content:e.content,duration:e.duration||3e3,type:e.type||"html",destroy:t}),c)},b=n(4),h=n(22),v=(n(103),["size","color","disabled","className","children","block","round"]),p=function(e){var t,n=e.size,c=e.color,a=e.disabled,r=e.className,i=e.children,o=e.block,l=e.round,u=Object(h.a)(e,v),m=d()("sz-btn",r,(t={},Object(s.a)(t,"sz-btn__".concat(c),c),Object(s.a)(t,"sz-btn__".concat(n),n),Object(s.a)(t,"is-block",o),Object(s.a)(t,"is-round",l),t));return Object(f.jsx)("button",Object(b.a)(Object(b.a)({className:m,disabled:a},u),{},{children:i}))};p.defaultProps={size:"middle",color:"default",disabled:!1,block:!1};var O=p,_=(n(104),["size","className","defaultValue","clear","onChange"]),x=function(e){var t=e.size,n=e.className,c=e.defaultValue,i=e.clear,o=e.onChange,l=Object(h.a)(e,_),u=Object(r.useState)((function(){return"undefined"===typeof c?"":c})),m=Object(a.a)(u,2),j=m[0],v=m[1],p=d()("sz-input",n,Object(s.a)({},"sz-input__".concat(t),t));return Object(f.jsxs)("div",{className:p,children:[Object(f.jsx)("input",Object(b.a)(Object(b.a)({value:j},l),{},{onChange:function(e){v(e.target.value),"function"===typeof o&&o(e)}})),j&&i&&Object(f.jsx)("span",{onClick:function(){return v("")},className:"clear",children:"\u2573"})]})};x.defaultProps={size:"middle"};var g=x,z=(n(105),function(e){var t=e.className,n=e.style,c=e.children,s=d()("sz-list",t);return Object(f.jsx)("div",{style:n,className:s,children:i.a.Children.map(c,(function(e,t){var n=e;if("ListItem"===n.type.name)return i.a.cloneElement(n);console.error("Warning: List has a child which is not a ListItem component")}))})}),y=function(e){var t=e.children,n=e.title,c=e.before,s=e.after,a=e.onClick;return Object(f.jsxs)("div",{className:"sz-list-item",onClick:function(){return"function"===typeof a&&a()},children:[n&&Object(f.jsx)("div",{className:"sz-list-item__header",children:n}),Object(f.jsxs)("div",{className:"sz-list-item__body",children:[c&&Object(f.jsx)("div",{className:"sz-list-item__before",children:c}),Object(f.jsx)("div",{className:"sz-list-item__center",children:t}),s&&Object(f.jsx)("div",{className:"sz-list-item__after",children:s})]})]})},N=n(58),k=n(60),w=n.n(k),T=n(63),P=n(20),C=(n(106),function(e){var t=e.loadMore,n=e.threshold,c=void 0===n?100:n,s=e.isMore,a=e.loadingText,i=void 0===a?"\u52a0\u8f7d\u4e2d...":a,o=e.noMoreText,l=void 0===o?"\u2014\u2014\u5230\u5e95\u4e86\u2014\u2014":o,u=e.update,d=Object(r.useRef)(!1);function m(){return j.apply(this,arguments)}function j(){return(j=Object(T.a)(w.a.mark((function e(){var n;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!d.current){e.next=2;break}return e.abrupt("return");case 2:return d.current=!0,e.prev=3,e.next=6,t();case 6:return n=e.sent,d.current=!1,e.abrupt("return",n);case 11:throw e.prev=11,e.t0=e.catch(3),d.current=!1,e.t0;case 15:case"end":return e.stop()}}),e,null,[[3,11]])})))).apply(this,arguments)}var b=Object(r.useCallback)((function(){Object(P.c)()+Object(P.a)()+c>Object(P.b)()&&m()}),[c,m]);return Object(r.useEffect)((function(){m()}),[u]),Object(r.useEffect)((function(){return window.addEventListener("scroll",b),function(){window.removeEventListener("scroll",b)}}),[b]),Object(f.jsx)("div",{className:"sz-infinite-scroll",children:s?Object(f.jsxs)("div",{className:"sz-infinite-scroll__loading",children:[Object(f.jsx)("span",{className:"loading"}),Object(f.jsx)("span",{className:"text",children:i})]}):Object(f.jsx)("div",{className:"sz-infinite-scroll__nomore",children:l})})}),E=(n(107),function(e){var t=e.pullingText,n=void 0===t?"\u4e0b\u62c9\u5237\u65b0":t,c=e.canReleaseText,s=void 0===c?"\u677e\u5f00\u5237\u65b0":c,i=e.refreshingText,o=void 0===i?"\u52a0\u8f7d\u4e2d\u2026":i,l=e.completeText,u=void 0===l?"\u5237\u65b0\u6210\u529f":l,d=e.threshold,m=void 0===d?45:d,j=e.infinite,b=void 0===j?1e3:j,h=e.callBack,v=e.children,p=Object(r.useRef)(null),O=Object(r.useRef)(0),_=Object(r.useRef)(0),x=Object(r.useRef)(""),g=Object(r.useState)(""),z=Object(a.a)(g,2),y=z[0],N=z[1],k=Object(r.useRef)();Object(r.useEffect)((function(){return function(){k.current&&clearTimeout(k.current)}}),[k]);var w=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;null!==p.current&&(p.current.style.transitionDuration="".concat(t,"s"),p.current.style.transform="translate(0px, ".concat(e,"px) translateZ(0px)"))},T=function(e){var t=(e.touches?e.touches[0].pageY:e.clientX)-O.current-Object(P.c)();t>0&&(t>m&&(t=m),w(t,0),N(n),x.current="pulling",t>=m-10&&(N(s),x.current="canRelease")),_.current=t},C=function e(){document.removeEventListener("touchmove",T,!1),document.removeEventListener("touchend",e,!1),"canRelease"===x.current&&_.current>=m-10?(N(o),x.current="refreshing","function"===typeof h&&h(),k.current&&clearTimeout(k.current),k.current=setTimeout((function(){N(u),x.current="complete",w(0,.5)}),b)):(w(0,.5),x.current="")};return Object(f.jsxs)("div",{ref:p,className:"sz-pull-to-refresh",onTouchStart:function(e){Object(P.c)()<=0&&(document.addEventListener("touchmove",T,!1),document.addEventListener("touchend",C,!1));var t=e.touches?e.touches[0].pageY:e.clientY;O.current=t,"pulling"===x.current&&w(0,0),"complete"===x.current&&(x.current=""),_.current=0},children:[Object(f.jsx)("div",{className:"sz-pull-to-refresh__wrapper",children:y}),v]})}),L=n(121),R=(n(108),function(e){var t,n=e.visible,c=e.onCancel,a=e.dir,i=e.round,o=e.classname,l=e.children,u=e.header;Object(r.useEffect)((function(){n?P.e.afterOpen():P.e.beforeClose()}),[n]);var m=d()("sz-popup",o,(t={},Object(s.a)(t,"is-round",i),Object(s.a)(t,"is-".concat(a),a),t));return Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)(L.a,{timeout:500,in:n,unmountOnExit:!0,classNames:"fade",children:Object(f.jsx)("div",{onClick:function(){"function"===typeof c&&c()},className:"sz-popup__mask"})}),Object(f.jsx)(L.a,{timeout:500,in:n,unmountOnExit:!0,classNames:"translate-".concat(a),children:Object(f.jsxs)("div",{className:m,children:[u&&Object(f.jsx)("div",{className:"sz-popup__header",children:u}),Object(f.jsx)("div",{className:"sz-popup__body",children:l})]})})]})});R.defaultProps={visible:!1,round:!1,dir:"top"};var M=R,I=(n(109),function(e){var t=e.visible,n=e.onCancel,c=e.onOk,a=e.title,r=e.datas,i=e.cancelText;return Object(f.jsx)(M,{visible:t,onCancel:n,dir:"top",round:!0,children:Object(f.jsxs)("div",{className:"sz-actionsheet",children:[a&&Object(f.jsx)("div",{className:"sz-actionsheet__header",children:a}),Object(f.jsx)("div",{className:"sz-actionsheet__body",children:r.map((function(e){return Object(f.jsxs)("div",{className:d()("sz-actionsheet__item",Object(s.a)({},"is-disabled",e.disabled)),onClick:function(){return function(e){e.disabled?j({type:"warning",content:"\u8be5\u9009\u9879\u5df2\u7981\u7528"}):("function"===typeof c&&c(e),"function"===typeof n&&n())}(e)},children:[Object(f.jsx)("div",{className:"name",children:e.name}),e.description&&Object(f.jsx)("p",{className:"description",children:e.description})]},e.value)}))}),i&&Object(f.jsx)("div",{className:"sz-actionsheet__footer",onClick:function(){return"function"===typeof n&&n()},children:i})]})})});n(110)},52:function(e,t,n){"use strict";var c=n(79),s=n.n(c),a={development:{default:"https://cnodejs.org/api/v1/"},production:{default:""}},r=n(98),i=n.n(r),o="production",l=function(e){s.a.defaults.baseURL=a[o][e]},u=[],d=0,f=function(e){for(var t=0,n=u.length;t<n;t++)if(u[t]===e){u.splice(t,1);break}},m=function(e){return{url:e.url||"",params:e.params,loading:"boolean"!==typeof e.loading||e.loading,servicePrefix:e.servicePrefix||"",data:e.data||{}}},j=function(e){if(e){d++;var t=document.getElementById("js_loading");e&&t&&(t.style.display="fixed")}},b=function(e){var t=document.getElementById("js_loading");e&&d--,d<=0&&t&&(t.style.display="none")};function h(e){var t=m(e);return j(t.loading),t.servicePrefix&&l(t.servicePrefix),new Promise((function(e,n){s.a.get(t.url,{params:t.params}).then((function(n){b(t.loading),e(n)})).catch((function(e){b(t.loading),n(e)}))}))}s.a.defaults.timeout=6e4,s.a.defaults.headers.post["Content-Type"]="application/x-www-form-urlencoded;charset=UTF-8",s.a.interceptors.request.use((function(e){var t;return"object"===typeof e.headers&&(e.headers.Authorization="bearer ".concat(window.sessionStorage.getItem("token"))),e.cancelToken=new s.a.CancelToken((function(e){t=e})),"function"===typeof t&&function(e,t){for(var n=0,c=u.length;n<c;n++)if(u[n]===e)return void t(e);u.push(e)}("".concat(e.url,"?").concat(i.a.stringify(e.params),"&method=").concat(e.method),t),e}),(function(e){return Promise.reject(e)})),s.a.interceptors.response.use((function(e){var t=e.config;if(f("".concat(t.url,"?").concat(i.a.stringify(t.params),"&method=").concat(t.method)),200===e.status){e.data.code;return Promise.resolve(e.data)}return Promise.reject(e)}),(function(e){e.config&&f("".concat(e.config.url,"?").concat(i.a.stringify(e.config.params),"&method=").concat(e.config.method)),e.message&&f("".concat(e.message));var t=e.response;if(!t)return Promise.resolve(e);var n=t.status;if(n)switch(n){case 401:t.data&&t.data.message;break;case 403:window.parent.postMessage({type:"token",url:window.location.href},"*")}return Promise.reject(t.data)}));var v={accessToken:function(e){return function(e){var t=m(e);return j(t.loading),t.servicePrefix&&l(t.servicePrefix),new Promise((function(e,n){s.a.post(t.url,i.a.stringify(t.params),t.data).then((function(n){b(t.loading),e(n)})).catch((function(e){b(t.loading),n(e)}))}))}({url:"accessToken",params:e,loading:!0,servicePrefix:"default"})},user:function(e){return h({url:"user/".concat(e.loginname),loading:!0,servicePrefix:"default"})},getTopics:function(e){return h({url:"topics",params:e,loading:e.LOADING,servicePrefix:"default"})},getDetails:function(e){return h({url:"topic/".concat(e.id),loading:!0,servicePrefix:"default"})},getMessages:function(e){return h({url:"messages",params:e,loading:!0,servicePrefix:"default"})}};t.a=v},58:function(e,t,n){"use strict";var c=n(74),s=n(21),a=(n(0),n(50)),r=n.n(a),i=(n(101),n(1));t.a=function(e){e.active;var t=e.image,n=e.rows,a=void 0===n?1:n,o=t.show,l=void 0!==o&&o,u=t.type,d=void 0===u?"avatar":u,f=t.width,m=void 0===f?30:f,j=t.height,b=void 0===j?30:j,h=t.block,v=r()("sz-skeleton__header",{"is-block":h}),p=r()("sz-skeleton__image","sz-skeleton__animate",Object(s.a)({},"is-".concat(d),d));return Object(i.jsx)("ul",{className:"sz-skeleton",children:Object(c.a)(Array(a)).map((function(e,t){return Object(i.jsxs)("li",{className:"sz-skeleton__item",children:[Object(i.jsxs)("div",{className:v,children:[l?Object(i.jsx)("div",{className:p,style:{width:m,height:b}}):null,Object(i.jsxs)("div",{className:"sz-skeleton__content",style:{height:b},children:[Object(c.a)(Array(Math.floor(b/15)-1)).map((function(e,t){return Object(i.jsx)("div",{className:"sz-skeleton__row sz-skeleton__animate"},t)})),Object(i.jsx)("div",{className:"sz-skeleton__row sz-skeleton__animate",style:{width:50*Math.random()+50+"%"}})]})]}),Object(i.jsxs)("div",{className:"sz-skeleton__body",children:[Object(i.jsx)("div",{className:"sz-skeleton__row sz-skeleton__animate"}),Object(i.jsx)("div",{className:"sz-skeleton__row sz-skeleton__animate",style:{width:50*Math.random()+50+"%"}}),1===a?Object(i.jsxs)(i.Fragment,{children:[Object(i.jsx)("div",{className:"sz-skeleton__row sz-skeleton__animate",style:{height:120}}),Object(i.jsx)("div",{className:"sz-skeleton__row sz-skeleton__animate"}),Object(i.jsx)("div",{className:"sz-skeleton__row sz-skeleton__animate"}),Object(i.jsx)("div",{className:"sz-skeleton__row sz-skeleton__animate",style:{width:50*Math.random()+50+"%"}})]}):null]})]},t)}))})}}}]);