(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[7],{115:function(e,n,t){},123:function(e,n,t){"use strict";t.r(n);var a=t(48),c=t(0),s=t(51),i=t(3),r=(t(115),t(20)),l=t(12),o=t(9),u=t(59),j=t(55),d=t(1),b=function(e){var n=e.visible,t=e.setVisible,i=e.setTheme,r=Object(c.useState)([{name:"\u9ed8\u8ba4",value:"default"},{name:"\u7ea2\u8272",value:"red"},{name:"\u9ec4\u8272",value:"yellow"},{name:"\u7d2b\u8272",value:"purple"},{name:"\u6a59\u8272",value:"orange"}]),l=Object(a.a)(r,1)[0];return Object(d.jsx)(s.a,{visible:n,datas:l,onCancel:function(){return t(!1)},title:"\u8bf7\u9009\u62e9\u4e3b\u9898",onOk:function(e){return i({name:e.name,value:e.value})}})},m=t(53),h={setTheme:function(e){return function(n){var t;n((t=e,{type:o.e,data:t}))}},loginOut:u.b};n.default=Object(l.b)((function(e){return{loginname:e.userInfo.loginname,theme:e.theme}}),h)((function(e){var n=e.loginname,t=e.theme,l=e.setTheme,o=e.loginOut,u=Object(i.g)(),h=Object(c.useState)({loginname:Object(r.d)("loginname")}),O=Object(a.a)(h,2),f=O[0],v=O[1],x=Object(j.a)("user",JSON.stringify(f),!f.loginname),g=x.data,p=x.loading;Object(c.useEffect)((function(){Object(r.d)("loginname")||u.push("/login")}),[u]);var N=function(e,n){u.push("".concat(n,"?").concat("details"===n?"id":"loginname","=").concat(e)),"my"===n&&v({loginname:e})},_=Object(c.useState)(!1),y=Object(a.a)(_,2),z=y[0],k=y[1];return Object(d.jsx)(d.Fragment,{children:p?Object(d.jsx)(s.h,{image:{show:!0}}):Object(d.jsxs)("div",{className:"sz-my",style:{paddingBottom:n===g.loginname?48:0},children:[Object(d.jsx)(b,{visible:z,setVisible:k,setTheme:l}),Object(d.jsxs)("div",{className:"sz-my__header",children:[Object(d.jsx)("div",{className:"avatar",children:Object(d.jsx)("img",{src:g.avatar_url,alt:g.loginname})}),Object(d.jsxs)("div",{className:"content",children:[Object(d.jsx)("div",{className:"username",children:g.loginname}),Object(d.jsx)("div",{className:"score",children:g.score})]})]}),Object(d.jsxs)("div",{className:"sz-my__body",children:[n===g.loginname?Object(d.jsx)("div",{className:"sz-box",children:Object(d.jsx)("div",{className:"sz-box__body",children:Object(d.jsxs)(s.e,{children:[Object(d.jsx)(s.f,{onClick:function(){return k(!0)},after:Object(d.jsxs)("div",{children:[t.name,Object(d.jsx)("span",{className:"ued-mobile",children:"\ue6b1"})]}),children:Object(d.jsx)("div",{children:"\u6362\u80a4"})}),Object(d.jsx)(s.f,{onClick:function(){return o()},after:Object(d.jsx)("span",{className:"ued-mobile",children:"\ue6b1"}),children:Object(d.jsx)("div",{children:"\u9000\u51fa"})})]})})}):null,Object(d.jsxs)("div",{className:"sz-box",children:[Object(d.jsx)("div",{className:"sz-box__header",children:"\u6700\u8fd1\u521b\u5efa\u7684\u8bdd\u9898"}),Object(d.jsx)("div",{className:"sz-box__body",children:Object(d.jsx)(s.e,{children:g.recent_topics?g.recent_topics.map((function(e){return Object(d.jsx)(s.f,{after:Object(d.jsx)("span",{className:"ued-mobile",children:"\ue6b1"}),before:Object(d.jsx)("div",{className:"avatar",onClick:function(){return N(e.author.loginname,"my")},children:Object(d.jsx)("img",{src:e.author.avatar_url,alt:e.author.loginname})}),children:Object(d.jsx)("div",{onClick:function(){return N(e.id,"details")},children:e.title})},e.id)})):null})})]}),Object(d.jsxs)("div",{className:"sz-box",children:[Object(d.jsx)("div",{className:"sz-box__header",children:"\u6700\u8fd1\u53c2\u4e0e\u7684\u8bdd\u9898"}),Object(d.jsx)("div",{className:"sz-box__body",children:Object(d.jsx)(s.e,{children:g.recent_replies?g.recent_replies.map((function(e){return Object(d.jsx)(s.f,{after:Object(d.jsx)("span",{className:"ued-mobile",children:"\ue6b1"}),before:Object(d.jsx)("div",{className:"avatar",onClick:function(){return N(e.author.loginname,"my")},children:Object(d.jsx)("img",{src:e.author.avatar_url,alt:e.author.loginname})}),children:Object(d.jsx)("div",{onClick:function(){return N(e.id,"details")},children:e.title})},e.id)})):null})})]})]}),n===g.loginname?Object(d.jsx)(m.a,{value:"my"}):null]})})}))},53:function(e,n,t){"use strict";var a=t(4),c=t(48),s=t(0),i=t(16),r=t(12),l=t(50),o=t.n(l),u=(t(54),t(1));n.a=Object(r.b)((function(e){return{loginname:e.userInfo.loginname}}))((function(e){var n=e.loginname,t=e.value,r=void 0===t?"home":t,l=Object(s.useState)([{icon:"&#xe729;",name:"\u9996\u9875",path:"home",search:""},{icon:"&#xe68a;",name:"\u6d88\u606f",path:"message",search:""},{icon:"&#xe6a1;",name:"\u6211\u7684",path:"my",search:""}]),j=Object(c.a)(l,2),d=j[0],b=j[1];return Object(s.useEffect)((function(){n&&b((function(e){return e.map((function(e,t){return Object(a.a)(Object(a.a)({},e),{},{search:2===t?"loginname=".concat(n):""})}))}))}),[b,n]),Object(u.jsx)("div",{className:"sz-footer",children:Object(u.jsx)("ul",{className:"sz-nav",children:d.map((function(e,n){return Object(u.jsx)("li",{className:o()("sz-nav__item",{"is-active":r===e.path}),children:Object(u.jsxs)(i.b,{to:{pathname:"/".concat(e.path),search:e.search},children:[Object(u.jsx)("span",{dangerouslySetInnerHTML:{__html:"".concat(e.icon)},className:"ued-mobile"}),Object(u.jsx)("span",{className:"text",children:e.name})]})},n)}))})})}))},54:function(e,n,t){},55:function(e,n,t){"use strict";var a=t(48),c=t(0),s=t(52);n.a=function(e,n){var t=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=Object(c.useState)({}),r=Object(a.a)(i,2),l=r[0],o=r[1],u=Object(c.useState)(!1),j=Object(a.a)(u,2),d=j[0],b=j[1],m=Object(c.useState)(!1),h=Object(a.a)(m,2),O=h[0],f=h[1];return Object(c.useEffect)((function(){s.a[e]&&!t&&(b(!0),f(!1),s.a[e](JSON.parse(n)).then((function(e){b(!1),f(!1),e.success&&o(e.data)})).catch((function(){b(!1),f(!0)})))}),[n,e,t]),{loading:d,error:O,data:l}}},59:function(e,n,t){"use strict";t.d(n,"a",(function(){return s})),t.d(n,"b",(function(){return i}));var a=t(9),c=t(52),s=function(e){return function(n){c.a.accessToken({accesstoken:e}).then((function(t){var c;t.success&&n((c={id:t.id,avatar_url:t.avatar_url,loginname:t.loginname,token:e},{type:a.f,data:c}))}))}},i=function(){return function(e){e({type:a.d}),e({type:a.a})}}}}]);