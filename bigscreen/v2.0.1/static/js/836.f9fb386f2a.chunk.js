"use strict";(self.webpackChunkcli=self.webpackChunkcli||[]).push([[836],{18836:function(e,t,l){l.r(t),l.d(t,{default:function(){return w}});var a=l(67294),n=l(89250),c=l(24404),m=l(2639),r=l(48093),s=l(71258),i=l(34002),o=l(83309);var u=e=>{let{name:t,open:l,onClose:n,pageType:u,modifyNameSuccessHander:E}=e;return a.createElement(m.Z,{open:l,onClose:n,onCancel:n,footer:null,title:`修改${o.E0[u]}名称`,destroyOnClose:!0},a.createElement(r.Z,{onFinish:e=>{null==E||E(e.name),c.ZP.success("修改成功"),n()},initialValues:{name:t||""},autoComplete:"off"},a.createElement(r.Z.Item,{name:"name",rules:[{required:!0,message:`请输入${o.E0[u]}名称`}]},a.createElement(s.Z,{placeholder:`请输入${o.E0[u]}名称`})),a.createElement(r.Z.Item,null,a.createElement(i.ZP,{type:"primary",htmlType:"submit",block:!0},"保存"))))};var E=e=>{let{name:t,logo:l,pageType:c,modifyNameSuccessHander:m}=e;const r=(0,n.s0)(),[s,i]=(0,a.useState)(!1);return a.createElement(a.Fragment,null,a.createElement("div",{className:"cms-config-layout__header"},a.createElement("div",{className:"cms-config-layout__header--left"},a.createElement("span",{className:"cms-icon logo",dangerouslySetInnerHTML:{__html:l||"&#xe625;"}}),a.createElement("h1",{className:"name"},t),a.createElement("span",{className:"cms-icon edit",onClick:()=>i(!0)},"")),a.createElement("div",{className:"cms-config-layout__header--right"},a.createElement("div",{className:"preview"},a.createElement("i",{className:"cms-icon"},""),"预览"),a.createElement("div",{className:"publish"},a.createElement("i",{className:"cms-icon"},""),"发布"),a.createElement("div",{className:"preview",onClick:()=>r(-1)},a.createElement("i",{className:"cms-icon"},""),"返回"))),a.createElement(u,{name:t||"",pageType:c,open:s,onClose:()=>i(!1),modifyNameSuccessHander:m}))},d=l(53807),y=l(54549);var p=e=>{let{title:t,children:l,onClose:n}=e;return a.createElement("div",{className:"cms-box",style:{display:t?"flex":"none"}},a.createElement("div",{className:"cms-box__header"},a.createElement("div",{className:"name"},t),a.createElement(y.Z,{onClick:n})),a.createElement("div",{className:"cms-box__body"},l))};const g=[{icon:"&#xe652;",type:"element"},{icon:"&#xe634;",type:"widget"},{icon:"&#xe652;",type:"page"}];var v=e=>{let{render:t,navs:l}=e;const[n,c]=(0,a.useState)("element"),[m,r]=(0,a.useState)([]);return(0,a.useEffect)((()=>{r((()=>g.filter((e=>l.includes(e.type))))),c(l[0])}),[l,r,c]),a.createElement("div",{className:"cms-config-layout__leftAside"},a.createElement("ul",{className:"cms-config-layout__leftAside--tabs"},m.map((e=>a.createElement("li",{className:"cms-config-layout__leftAside--tabItem "+(n===e.type?"is-active":""),onClick:()=>c(e.type),key:e.type},a.createElement(d.Z,{placement:"left",title:o.E0[e.type]},a.createElement("i",{className:"cms-icon",dangerouslySetInnerHTML:{__html:e.icon}})))))),a.createElement("div",{className:"cms-config-layout__leftAside--tabContent",style:{borderRight:n?"1px solid var(--cms-divider-color)":"none"}},a.createElement(p,{title:n?o.E0[n]:"",onClose:()=>c("")},t(n))))};const _=[{icon:"&#xe63c;",type:"layer"},{icon:"&#xe652;",type:"element"},{icon:"&#xe634;",type:"widget"},{icon:"&#xe652;",type:"page"},{icon:"&#xe652;",type:"linkage"}];var f=e=>{let{render:t,navs:l}=e;const[n,c]=(0,a.useState)("element"),[m,r]=(0,a.useState)([]);return(0,a.useEffect)((()=>{r((()=>_.filter((e=>l.includes(e.type))))),c(l[0])}),[l,r,c]),a.createElement("div",{className:"cms-config-layout__rightAside"},a.createElement("div",{className:"cms-config-layout__rightAside--tabContent",style:{borderLeft:n?"1px solid var(--cms-divider-color)":"none"}},a.createElement(p,{title:""+(n?o.E0[n]+"配置":""),onClose:()=>c("")},t(n))),a.createElement("ul",{className:"cms-config-layout__rightAside--tabs"},m.map((e=>a.createElement("li",{className:"cms-config-layout__rightAside--tabItem "+(n===e.type?"is-active":""),onClick:()=>c(e.type),key:e.type},a.createElement(d.Z,{placement:"left",title:`${o.E0[e.type]}配置`},a.createElement("i",{className:"cms-icon",dangerouslySetInnerHTML:{__html:e.icon}})))))))};var N=()=>{const e=Array.from(new Array(100).keys());return a.createElement("div",{className:"cms-config-layout__ruler"},a.createElement("div",{className:"cms-config-layout__ruler--hwrapper"},a.createElement("div",{className:"cms-config-layout__ruler--h"},a.createElement("span",{className:"ruler-h-50"},a.createElement("b",null,"50"),a.createElement("i",null),a.createElement("i",null),a.createElement("i",null),a.createElement("i",null),a.createElement("i",null),a.createElement("i",null),a.createElement("i",null),a.createElement("i",null),a.createElement("i",null),a.createElement("i",null)),e.map(((e,t)=>a.createElement("span",{className:"ruler-h-50",key:t},a.createElement("b",null,50*t),a.createElement("i",null),a.createElement("i",null),a.createElement("i",null),a.createElement("i",null),a.createElement("i",null),a.createElement("i",null),a.createElement("i",null),a.createElement("i",null),a.createElement("i",null),a.createElement("i",null)))))),a.createElement("div",{className:"cms-config-layout__ruler--vwrapper"},a.createElement("div",{className:"cms-config-layout__ruler--v"},a.createElement("span",{className:"ruler-h-50"},a.createElement("b",null,"50"),a.createElement("i",null),a.createElement("i",null),a.createElement("i",null),a.createElement("i",null),a.createElement("i",null),a.createElement("i",null),a.createElement("i",null),a.createElement("i",null),a.createElement("i",null),a.createElement("i",null)),e.map(((e,t)=>a.createElement("span",{className:"ruler-h-50",key:t},a.createElement("b",null,50*t),a.createElement("i",null),a.createElement("i",null),a.createElement("i",null),a.createElement("i",null),a.createElement("i",null),a.createElement("i",null),a.createElement("i",null),a.createElement("i",null),a.createElement("i",null),a.createElement("i",null)))))))};var h=()=>a.createElement("div",{className:"cms-config-layout__main"},a.createElement("div",{className:"cms-config-layout__center"},a.createElement(N,null),a.createElement("div",{style:{width:"400px",height:"400px",background:"var(--cms-background-color-secondary)"}}))),b=l(96801),k=l(41431),x=l(45795);const C=["text","image","table","line","bar","pie"];var S=()=>{var e,t;const[l,n]=(0,a.useState)("text"),{getElements:c,elementsList:m,elementsLoading:r}=(0,b.Rm)();return(0,a.useEffect)((()=>{c()}),[c]),a.createElement("div",{className:"cms-config-layout__elements"},a.createElement("ul",{className:"cms-config-layout__elements--left"},C.map((e=>a.createElement("div",{key:e,className:l===e?"is-active":"",onClick:()=>n(e)},o.JN[e])))),a.createElement("div",{className:"cms-config-layout__elements--right"},null===(e=m.filter((e=>e.type===l)))||void 0===e?void 0:e.map((e=>a.createElement("div",{className:"cms-config-layout__elements--item",key:e.id,draggable:!0},a.createElement(k.Z,{width:224,height:120,src:e.url,preview:!1}),a.createElement("div",{className:"name"},e.name)))),!r&&!(null!==(t=m.filter((e=>e.type===l)))&&void 0!==t&&t.length)&&a.createElement(x.Z,{image:x.Z.PRESENTED_IMAGE_SIMPLE})))};var w=()=>a.createElement("div",{className:"cms-config-layout"},a.createElement(E,{name:"未命名微件",pageType:"widget",modifyNameSuccessHander:e=>{console.log(e)}}),a.createElement("div",{className:"cms-config-layout__content"},a.createElement(v,{navs:["element"],render:e=>"element"===e?a.createElement(S,null):null}),a.createElement(h,null),a.createElement(f,{navs:["layer","element","widget"],render:e=>a.createElement("div",null,e)})))}}]);
//# sourceMappingURL=836.f9fb386f2a.chunk.js.map