(self.webpackChunkcli=self.webpackChunkcli||[]).push([[179],{83309:function(e,t,n){"use strict";n.d(t,{E0:function(){return a},JN:function(){return l},kR:function(){return o},p9:function(){return r},vT:function(){return c}});const o="ACCESS_TOKEN",r="ACCESS_USER_INFO",c="ACCESS_THEME",a={element:"组件",widget:"微件",page:"页面",project:"项目",layer:"图层",linkage:"联动"},l={text:"文本",image:"图片",table:"表格",line:"折线图",bar:"柱状图",pie:"饼图"}},96801:function(e,t,n){"use strict";n.d(t,{Rm:function(){return m},w1:function(){return s},f0:function(){return l}});var o=n(67294),r=n(89250),c=n(7440),a=n(24404);function l(){const[e,t]=(0,o.useState)(!1),n=(0,r.s0)();return{loginLoading:e,login:(0,o.useCallback)(((e,o)=>{t(!0),c.bl.loginService.login(e).then((e=>{t(!1),e.result?(n("/home"),o&&o(e.data)):a.ZP.error(e.message)})).catch((()=>{t(!1)}))}),[n])}}function s(){const[e,t]=(0,o.useState)(!1);return{userInfoLoading:e,getUserInfo:(0,o.useCallback)((e=>{t(!0),c.bl.userService.userInfo().then((n=>{t(!1),e&&e(n.data)})).catch((()=>{t(!1)}))}),[])}}function m(){const[e,t]=(0,o.useState)(!1),[n,r]=(0,o.useState)([]);return{elementsLoading:e,elementsList:n,getElements:(0,o.useCallback)((()=>{t(!0),c.bl.elementsService.elements().then((e=>{t(!1),r(e.data)})).catch((()=>{t(!1)}))}),[])}}},59220:function(e,t,n){"use strict";n.d(t,{Dc:function(){return a},bn:function(){return l}});var o=n(79878);const r=window.CSS&&window.CSS.supports&&window.CSS.supports("(--a: 0)"),c=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"style[data-theme='theme']";const n=t&&document.querySelector(t)||document.createElement("style");if(console.log(n,"root"),n.innerHTML=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];const n=Object.keys(e).map((t=>`${t}:${e[t]};\n`)).join("");return t?`:root{\n${n}}`:n}(e),!n.getAttribute("data-theme")){n.setAttribute("data-theme","theme");const e=document.head||document.getElementsByName("head")[0];if(!e)return;e.appendChild(n)}};function a(e){r?c(o.n[e]):(document.documentElement.setAttribute("data-theme",e),n.e(37).then(n.bind(n,18037)).then((t=>{t.default({watch:!0,variables:o.n[e],onlyLegacy:!1})})))}function l(e){var t;return null===(t=o.Z.find((t=>t.name===e)))||void 0===t?void 0:t.color}},96053:function(e,t,n){"use strict";n.d(t,{f6:function(){return u},Fg:function(){return d},l5:function(){return f}});var o=n(67294);var r=n(59220),c=n(4108),a=n(83309);const l=c.Xb.get(a.vT)||"themeGreen",s=function(){let e=arguments.length>1?arguments[1]:void 0;if("MODIFY_THEME_NAME"===e.type)return(0,r.Dc)(e.data),c.Xb.set(a.vT,e.data),e.data;console.log("当前类型不存在")},m=(0,o.createContext)(void 0),i=(0,o.createContext)((()=>{}));function u(e){const{children:t}=e,[n,c]=(0,o.useReducer)(s,l);return(0,r.Dc)(n),o.createElement(m.Provider,{value:n},o.createElement(i.Provider,{value:c},t))}function d(){return(0,o.useContext)(m)}function f(){return(0,o.useContext)(i)}},79878:function(e,t,n){"use strict";n.d(t,{Z:function(){return l},n:function(){return s}});const o={"--cms-primary-color":"#facf20","--cms-secondary-color":"#ffb800","--cms-theme-text-color-primary":"#0f5d49","--cms-theme-divider-color":"#00000014","--cms-theme-text-color-secondary":"#ff4a4a","--cms-background-color-primary":"#22674b","--cms-background-color-secondary":"#194c38","--cms-divider-color":"#318763","--cms-text-color-primary":"#fff","--cms-text-color-secondary":"#7cffae","--cms-color-help":"#ff4a4a","--cms-top-background-color":"#1c553e","--cms-aside-background-color":"#1c553e"},r={"--cms-primary-color":"#d460ff","--cms-secondary-color":"#ba00ff","--cms-theme-text-color-primary":"#2b0979","--cms-theme-divider-color":"#f2cfff","--cms-theme-text-color-secondary":"#ec1212","--cms-background-color-primary":"#451f98","--cms-background-color-secondary":"#2b0979","--cms-divider-color":"#5635bd","--cms-text-color-primary":"#fff","--cms-text-color-secondary":"#edddff","--cms-color-help":"#ec1212","--cms-top-background-color":"#3e1989","--cms-aside-background-color":"#3e1989"},c={"--cms-primary-color":"#ffc308","--cms-secondary-color":"#ffd34b","--cms-theme-text-color-primary":"#8d0a0b","--cms-theme-divider-color":"#00000014","--cms-theme-text-color-secondary":"#ff4a4a","--cms-background-color-primary":"#b41315","--cms-background-color-secondary":"#8d0a0b","--cms-divider-color":"#df4949","--cms-text-color-primary":"#fff","--cms-text-color-secondary":"#ff6c6c","--cms-color-help":"#ff4a4a","--cms-top-background-color":"#720809","--cms-aside-background-color":"#720809"},a={"--cms-primary-color":"#f2bf5a","--cms-secondary-color":"#ffc33c","--cms-theme-text-color-primary":"#131217","--cms-theme-divider-color":"#b58c3a","--cms-theme-text-color-secondary":"#9d0109","--cms-background-color-primary":"#212227","--cms-background-color-secondary":"#131217","--cms-divider-color":"#363840","--cms-text-color-primary":"#fff","--cms-text-color-secondary":"#adb4bc","--cms-color-help":"#9d0109","--cms-top-background-color":"#1e1d25","--cms-aside-background-color":"#1e1d25"},l=[{name:"themeBlue",color:o["--cms-primary-color"],bgColor:o["--cms-background-color-primary"]},{name:"themeGreen",color:r["--cms-primary-color"],bgColor:r["--cms-background-color-primary"]},{name:"themeRed",color:c["--cms-primary-color"],bgColor:c["--cms-background-color-primary"]},{name:"themeBlack",color:a["--cms-primary-color"],bgColor:a["--cms-background-color-primary"]}],s={themeBlue:o,themeGreen:r,themeRed:c,themeBlack:a}},92168:function(e,t,n){"use strict";n.d(t,{js:function(){return O},dk:function(){return Z},Zg:function(){return P}});var o=n(67294);var r=n(4108),c=n(83309);const a={token:r.Xb.get(c.kR)||"",userInfo:r.Xb.get(c.p9)||null},l=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:a,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"MODIFY_TOKEN":return r.Xb.set(c.kR,t.data),{...e,token:t.data};case"REMOVE_TOKEN":return r.Xb.remove(c.kR),r.Xb.remove(c.p9),{...e,token:"",userInfo:null};case"USER_INFO":return r.Xb.set(c.p9,t.data),{...e,userInfo:t.data};default:console.log("当前类型不存在")}};var s=n(96053),m=n(89250),i=n(87496),u=n(79655),d=n(2665),f=n(80403),h=n(94e3),g=n(57254),p=n(79878),v=n(96801);var y=()=>{var e;const{pathname:t}=(0,m.TH)(),[n,c]=(0,o.useState)([]),a=(0,s.l5)(),l=(0,s.Fg)(),y=Z(),b=P(),{getUserInfo:x}=(0,v.w1)();(0,o.useEffect)((()=>{c((()=>{const e=(0,r.Nz)(i.Z[0].children,t);return e?e.reverse():[]}))}),[t]),(0,o.useEffect)((()=>{null!=y&&y.userInfo||x((e=>{b({type:"USER_INFO",data:e})}))}),[null==y?void 0:y.userInfo,b,x]);const E=[{key:"1",label:o.createElement("div",{onClick:()=>b({type:"REMOVE_TOKEN"})},o.createElement(h.Z,null),"退出登录")}];return o.createElement("div",{className:"cms-frame-layout__header"},o.createElement("div",{className:"cms-frame-layout__header--left"},o.createElement("div",{className:"cms-icon"},""),o.createElement("h1",null,"大屏管理系统"),n&&n.length?o.createElement(d.Z,{items:n.map((e=>({title:e.path?o.createElement(u.rU,{to:e.path},e.name):e.name})))}):null),o.createElement("div",null),o.createElement("div",{className:"cms-frame-layout__header--right"},o.createElement("div",{className:"cms-theme__select"},o.createElement("div",{className:"cms-theme__select--header"}),o.createElement("div",{className:"cms-theme__select--body"},p.Z.map((e=>o.createElement("div",{className:"cms-theme__select--item",key:e.name,onClick:()=>{l!==e.name&&a({type:"MODIFY_THEME_NAME",data:e.name})},style:{background:e.bgColor}}))))),o.createElement(f.Z,{menu:{items:E},overlayClassName:"cms-user-dropdown"},o.createElement("div",{className:"cms-user"},o.createElement("div",{className:"cms-avatar"},o.createElement("img",{alt:""})),o.createElement("span",{className:"cms-user__name"},"欢迎 ",o.createElement("b",null,(null==y||null===(e=y.userInfo)||void 0===e?void 0:e.username)||"--")),o.createElement(g.Z,null)))))},b=n(48401);var x=()=>{const{pathname:e}=(0,m.TH)(),t=(0,m.s0)(),[n,r]=(0,o.useState)([]),[c,a]=(0,o.useState)([]);(0,o.useEffect)((()=>{if("/404"!==e){r([e]);const t=e.split("/");if(t.length>2){let e=[];for(let n=2;n<t.length;n++)e.push(t.slice(0,n).join("/"));a(e)}}}),[e]);const l=e=>e.filter((e=>e.meta.menu)).map((e=>({key:e.path,label:e.title,icon:o.createElement("span",{className:"cms-icon",style:{fontSize:"18px"},dangerouslySetInnerHTML:{__html:e.icon}}),children:Array.isArray(e.children)&&-1!==e.children.findIndex((e=>e.meta.menu))?l(e.children):null}))),s=l(i.Z[0].children);return o.createElement("div",{className:"cms-frame-layout__aside"},o.createElement(b.Z,{className:"cms-menu",selectedKeys:n,openKeys:c,mode:"inline",items:s,theme:"dark",onSelect:e=>{t(e.key)},inlineCollapsed:!0,onOpenChange:e=>{a(e.slice(e.length-1))}}))};var E=e=>{var t,n;let{children:c,style:a,className:l}=e;const s=(0,m.TH)(),u=(0,r.VL)(i.Z,s.pathname,"path");return o.createElement("div",{className:`cms-frame-layout ${l||""}`},null!=u&&null!==(t=u.meta)&&void 0!==t&&t.fullScreen?null:o.createElement(y,null),o.createElement("div",{className:"cms-frame-layout__content"},null!=u&&null!==(n=u.meta)&&void 0!==n&&n.fullScreen?null:o.createElement(x,null),o.createElement("div",{className:"cms-frame-layout__main"},c)))},k=n(45335),w=n(39372),S=n(59220),_=n(27484),N=n.n(_),C=(n(33852),n(82925));N().locale("zh-cn");const T=(0,o.createContext)(a),I=(0,o.createContext)((()=>{}));function O(e){const{children:t}=e,[n,r]=(0,o.useReducer)(l,a),c=(0,s.Fg)();return o.createElement(k.ZP,{locale:C.Z,theme:{token:{colorPrimary:(0,S.bn)(c),colorBgContainer:"var(--cms-background-color-primary)",colorBorder:"var(--cms-divider-color)",colorIcon:"var(--cms-divider-color)",colorIconHover:"var(--cms-primary-color)",colorTextPlaceholder:"var(--cms-divider-color)",colorText:"var(--cms-text-color-secondary)",controlOutline:"var(--cms-secondary-color)",colorErrorOutline:"#ff4d4f",colorBorderSecondary:"var(--cms-divider-color)",colorBgElevated:"var(--cms-background-color-primary)",colorBgSpotlight:"var(--cms-background-color-secondary)",colorLinkHover:"var(--cms-secondary-color)",controlItemBgActive:"var(--cms-background-color-secondary)"},algorithm:[w.Z.darkAlgorithm,w.Z.compactAlgorithm]}},o.createElement(T.Provider,{value:n},o.createElement(I.Provider,{value:r},o.createElement(E,null,t))))}function Z(){return(0,o.useContext)(T)}function P(){return(0,o.useContext)(I)}},96923:function(e,t,n){"use strict";var o={};n.r(o),n.d(o,{login:function(){return x}});var r={};n.r(r),n.d(r,{userInfo:function(){return E}});var c={};n.r(c),n.d(c,{userInfo:function(){return k}});var a=n(67294),l=n(79655),s=n(20745),m=n(96053),i=n(92168),u=n(89250),d=n(87496);var f=function(e){const t=(0,a.lazy)((()=>n(70717)(`./${e}`)));return a.createElement(t,null)};const h=e=>{let{children:t,meta:n,title:o,token:r}=e;return o&&(document.title=`${window.CONFIG.title}-${o}`),n.auth&&!r?a.createElement(u.Fg,{to:"/login"}):t},g=e=>{const t=(0,i.dk)();return e.map((e=>{let{path:n,children:o,modulePath:r,title:c,meta:l,redirect:s}=e;return o&&o.length?a.createElement(u.AW,{path:n,element:r?a.createElement(h,{title:c,meta:l,token:null==t?void 0:t.token},f(r)):null,key:r},g(o),s?a.createElement(u.AW,{path:n,element:a.createElement(u.Fg,{to:s})}):a.createElement(u.AW,{path:n,element:a.createElement(u.Fg,{to:o[0].path})})):a.createElement(u.AW,{path:n,element:"*"===n?a.createElement(u.Fg,{to:"/404",replace:!0}):r?a.createElement(h,{title:c,meta:l,token:null==t?void 0:t.token},f(r)):null,key:r})}))};var p=(0,a.memo)((()=>a.createElement(a.Suspense,null,a.createElement(u.Z5,null,g(d.Z)))),((e,t)=>!0));var v=function(){return a.createElement(m.f6,null,a.createElement(i.js,null,a.createElement(a.Suspense,null,a.createElement(p,null))))},y=n(15623),b=n.n(y);const x={url:"/login",method:"post",data:{result:!0,data:b().mock("@guid"),message:"登录成功"}},E={url:"/user-info",method:"get",data:{result:!0,data:b().mock({email:"@email()","age|20-80":10,username:"admin",avatar:"@image(40x40)"}),message:"登录成功"}},k={url:"/elements",method:"get",data:{result:!0,data:[{id:1,name:"基础文本框",url:"",element:"baseText",type:"text",createTime:"",count:1e3},{id:2,name:"基础文本框",url:"",element:"baseText",type:"text",createTime:"",count:1e3}],message:"获取组建列表成功"}};function w(e){for(let t in e)b().mock(RegExp(e[t].url+"*"),e[t].method,(n=>{const o=JSON.parse(n.body),{url:r,data:c}=e[t];return"/login"!==r||"admin"===o.username&&"123456"===o.password?c:{result:!1,data:null,message:"用户名或密码错误"}}))}w(o),w(r),w(c);s.createRoot(document.getElementById("root")).render(a.createElement(l.UT,null,a.createElement(v,null)))},87496:function(e,t){"use strict";t.Z=[{path:"/",title:"",modulePath:"layout",meta:{auth:!1,fullScreen:!0},children:[{path:"/login",title:"登录",redirect:"/login",modulePath:"login",meta:{auth:!1,fullScreen:!0,menu:!1}},{path:"/home",title:"首页",modulePath:"home",icon:"&#xe8b9;",meta:{auth:!0,menu:!0}},{path:"/elements",title:"组件",modulePath:"elements",icon:"&#xe640;",meta:{auth:!0,menu:!0}},{path:"/widgets",title:"微件",modulePath:"widgets",icon:"&#xe634;",meta:{auth:!0,menu:!0}},{path:"/widgets/configuration",title:"微件配置",modulePath:"widgets/edit",meta:{fullScreen:!0,auth:!0,menu:!1}},{path:"/404",title:"404",modulePath:"notFound",meta:{auth:!1,menu:!1}},{path:"*",title:"404",modulePath:"",meta:{auth:!1}}]}]},7440:function(e,t,n){"use strict";n.d(t,{bl:function(){return f}});const o="/login",r="/user-info",c="/elements";var a=n(52861),l=n(80129),s=n.n(l);const m="production";console.log(m),a.Z.defaults.baseURL="https://myfirebug.github.io";const i=[],u=function(e){for(let t=0,n=i.length;t<n;t++)if(i[t]===e){i.splice(t,1);break}};a.Z.interceptors.request.use((e=>{const t=a.Z.CancelToken.source();return"object"==typeof e.headers&&(e.headers.Authorization="Bearer 123"),e.cancelToken=t.token,function(e,t){for(let n=0,o=i.length;n<o;n++)if(i[n]===e)return void t.cancel();i.push(e)}(`${e.url}?${s().stringify(e.params)}&method=${e.method}`,t),e}),(e=>Promise.reject(e))),a.Z.interceptors.response.use((e=>{const{config:t,status:n}=e;if(t&&u(`${t.url}?${s().stringify(t.params)}&method=${t.method}`),200!==n)throw new Error("请求出现异常, HTTP 状态码不为 200");return e.data}),(e=>{const{config:t}=e;return t&&u(`${t.url}?${s().stringify(t.params)}&method=${t.method}`),Promise.reject(e)}));var d=a.Z;const f={loginService:{login(e){return d.post(o,e)}},userService:{userInfo(){return d.get(r)}},elementsService:{elements(e){return d.get(c,e)}}}},4108:function(e,t,n){"use strict";function o(e,t,n){let o,r=!1,c=function(e){if(Array.isArray(e)&&!r)for(let a=0;a<e.length;a++){if(e[a][n]===t){o=e[a],r=!0;break}e[a].children&&c(e[a].children)}};return c(e),o}function r(e,t){for(const n in e){if(e[n].children){let o=r(e[n].children,t);if(void 0!==o){const t=e[n].children.findIndex((e=>e.meta.menu));return-1!==t?o.concat({path:e[n].children[t].path,name:e[n].title}):o.concat({path:e[n].path,name:e[n].title})}}if(e[n].path===t)return[{path:"",name:e[n].title}]}}n.d(t,{VL:function(){return o},Nz:function(){return r},Xb:function(){return c}});const c={set(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:-1;window.localStorage.setItem(e,JSON.stringify({value:t,expires:n}))},get(e){const t=window.localStorage.getItem(e);if(t){const n=JSON.parse(t);return-1!==n.expires&&n.expires<Date.now()?(c.remove(e),-1):n.value}return null},remove(e){window.localStorage.removeItem(e)}}},70717:function(e,t,n){var o={"./elements":[56032,9,676,426,145,113,32],"./elements/":[56032,9,676,426,145,113,32],"./elements/index":[56032,9,676,426,145,113,32],"./elements/index.scss":[12269,9,269],"./elements/index.tsx":[56032,9,676,426,145,113,32],"./home":[88788,9,676,294,221,460],"./home/":[88788,9,676,294,221,460],"./home/components/box":[63690,9,690],"./home/components/box/":[63690,9,690],"./home/components/box/index":[63690,9,690],"./home/components/box/index.scss":[99399,9,399],"./home/components/box/index.tsx":[63690,9,690],"./home/components/newTrend":[81135,9,676,294,221,133],"./home/components/newTrend/":[81135,9,676,294,221,133],"./home/components/newTrend/components/elements":[22387,9,294,221,387],"./home/components/newTrend/components/elements/":[22387,9,294,221,387],"./home/components/newTrend/components/elements/index":[22387,9,294,221,387],"./home/components/newTrend/components/elements/index.scss":[76957,9,957],"./home/components/newTrend/components/elements/index.tsx":[22387,9,294,221,387],"./home/components/newTrend/index":[81135,9,676,294,221,133],"./home/components/newTrend/index.scss":[42034,9,34],"./home/components/newTrend/index.tsx":[81135,9,676,294,221,133],"./home/components/statistics":[620,9,620],"./home/components/statistics/":[620,9,620],"./home/components/statistics/index":[620,9,620],"./home/components/statistics/index.scss":[3443,9,443],"./home/components/statistics/index.tsx":[620,9,620],"./home/index":[88788,9,676,294,221,460],"./home/index.scss":[31407,9,407],"./home/index.tsx":[88788,9,676,294,221,460],"./layout":[49598,9,598],"./layout/":[49598,9,598],"./layout/index":[49598,9,598],"./layout/index.tsx":[49598,9,598],"./login":[13177,9,676,599],"./login/":[13177,9,676,599],"./login/assets/bg01.png":[49839,1,839],"./login/assets/bg02.png":[37668,1,244],"./login/assets/bg03.png":[90460,1,946],"./login/index":[13177,9,676,599],"./login/index.scss":[73242,9,242],"./login/index.tsx":[13177,9,676,599],"./notFound":[8204,9,676,873],"./notFound/":[8204,9,676,873],"./notFound/index":[8204,9,676,873],"./notFound/index.scss":[91229,9,229],"./notFound/index.tsx":[8204,9,676,873],"./widgets":[69059,9,676,426,145,113,59],"./widgets/":[69059,9,676,426,145,113,59],"./widgets/edit":[18836,9,676,145,836],"./widgets/edit/":[18836,9,676,145,836],"./widgets/edit/index":[18836,9,676,145,836],"./widgets/edit/index.scss":[5222,9,222],"./widgets/edit/index.tsx":[18836,9,676,145,836],"./widgets/index":[69059,9,676,426,145,113,59],"./widgets/index.scss":[94649,9,649],"./widgets/index.tsx":[69059,9,676,426,145,113,59]};function r(e){if(!n.o(o,e))return Promise.resolve().then((function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=o[e],r=t[0];return Promise.all(t.slice(2).map(n.e)).then((function(){return n.t(r,16|t[1])}))}r.keys=function(){return Object.keys(o)},r.id=70717,e.exports=r},24654:function(){}},function(e){e.O(0,[676,426,592,981],(function(){return t=96923,e(e.s=t);var t}));e.O()}]);
//# sourceMappingURL=main.681526470f.js.map