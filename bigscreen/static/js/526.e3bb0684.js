"use strict";(self.webpackChunkmain=self.webpackChunkmain||[]).push([[526,448,730,781],{40094:function(e,a,t){t.d(a,{Z:function(){return m}});var r=t(26234),n=t(38166),i=(t(44855),t(32108)),d=t(63748),l=t(17856),o=function(e){var a=e.loading,t=e.error,r=e.nodata,n=e.children;return(0,l.jsxs)("div",{className:"app-wrapper",children:[a&&(0,l.jsx)("div",{className:"app-wrapper__loading",children:(0,l.jsx)(i.yC,{})}),t&&!a&&(0,l.jsxs)("div",{className:"app-wrapper__error",children:[(0,l.jsx)(d.CloseCircleOutlined,{}),(0,l.jsx)("p",{style:{color:"#00000040",margin:"0"},children:"\u52a0\u8f7d\u5931\u8d25"})]}),!a&&!t&&r&&(0,l.jsx)("div",{className:"app-wrapper__nodata",children:(0,l.jsx)(i.HY,{image:i.HY.PRESENTED_IMAGE_SIMPLE})}),!a&&!t&&!r&&n]})},s=t(23853),c=t(37091),u=t.n(c),m=function(e){var a=e.method,t=e.url,i=e.params,d=e.isPlaceholder,c=e.render,m=(0,s.useRequest)((0,n.Z)((0,r.Z)().mark((function e(){return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,new Promise((function(e,r){u()({url:t,method:a,params:JSON.parse(i)}).then((function(a){e(a.data.data||a.data)})).catch((function(e){r(e)}))}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)}))),{refreshDeps:[i,t],ready:Boolean(t)}),p=m.data,f=m.loading,g=m.error;return(0,l.jsx)(l.Fragment,{children:d?(0,l.jsx)(o,{loading:f,error:Boolean(g),nodata:!1,children:c(t?p:null,!t||!g)}):c(t?p:null,!t||!g)})}},54448:function(e,a,t){t.r(a);var r=t(17856);a.default=function(e){var a=e.screen,t=Array.from(new Array(a.horizontalNumber*a.verticalNumber).keys());return(0,r.jsx)(r.Fragment,{children:a.showAuxiliary?(0,r.jsx)("div",{style:{padding:"".concat(a.interval,"px 0  0 ").concat(a.interval,"px")},className:"app-auxiliary__list",children:t.map((function(e){return(0,r.jsx)("div",{style:{width:"calc(".concat(100/a.horizontalNumber,"% - ").concat(a.interval,"px)"),height:"calc(".concat(100/a.verticalNumber,"% - ").concat(a.interval,"px)"),margin:"0 ".concat(a.interval,"px  ").concat(a.interval,"px 0"),borderColor:a.auxiliaryBorderColor},className:"app-auxiliary__item"},e)}))}):null})}},48730:function(e,a,t){t.r(a);var r=t(59469),n=t(51422),i=t(17856);a.default=function(e){var a=e.item,t=e.currentWidgetId,d=e.cale,l=e.currentWidget,o=e.modifyLargeScreenElement,s=e.children,c=e.className,u=e.currentWidgetGroupId;return(0,i.jsx)(n.s,{style:{display:a.configureValue.display},className:a.id!==t?"react-draggable-disabled ".concat(c):c,default:{x:a.coordinateValue.left,y:a.coordinateValue.top,width:a.coordinateValue.width,height:a.coordinateValue.height},position:{x:a.coordinateValue.left,y:a.coordinateValue.top},resizeHandleWrapperClass:"handle",resizeHandleWrapperStyle:{position:"absolute",left:0,top:0,right:0,bottom:0,border:"dashed 2px #1890ff"},resizeHandleStyles:{bottom:{width:20,height:20,background:"#1890ff",borderRadius:10,left:"50%",bottom:-10,marginLeft:-10,zIndex:1},bottomLeft:{background:"#1890ff",borderRadius:10,zIndex:1},bottomRight:{background:"#1890ff",borderRadius:10,zIndex:1},left:{width:20,height:20,background:"#1890ff",borderRadius:10,top:"50%",left:-10,marginTop:-10,zIndex:1},right:{width:20,height:20,background:"#1890ff",borderRadius:10,top:"50%",right:-10,marginTop:-10,zIndex:1},top:{width:20,height:20,background:"#1890ff",borderRadius:10,left:"50%",top:-10,marginLeft:-10,zIndex:1},topLeft:{background:"#1890ff",borderRadius:10,zIndex:1},topRight:{background:"#1890ff",borderRadius:10,zIndex:1}},size:{width:a.coordinateValue.width,height:a.coordinateValue.height},scale:d,disableDragging:a.id!==t,onDragStop:function(e,a){o(t,u,(0,r.Z)((0,r.Z)({},l),{},{coordinateValue:(0,r.Z)((0,r.Z)({},l.coordinateValue),{},{left:Number(a.lastX.toFixed(0)),top:Number(a.lastY.toFixed(0))})}))},onResizeStop:function(e,a,n,i,d){o(t,u,(0,r.Z)((0,r.Z)({},l),{},{coordinateValue:{width:n.offsetWidth,height:n.offsetHeight,left:Number(d.x.toFixed(0)),top:Number(d.y.toFixed(0))}}))},bounds:"parent",children:s},a.id)}},71781:function(e,a,t){t.r(a);var r=t(17856);a.default=function(e){var a=e.screen;return(0,r.jsx)(r.Fragment,{children:a.gridFlag?(0,r.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",width:"100%",height:"100%",id:"canvas",children:[(0,r.jsx)("defs",{children:(0,r.jsx)("pattern",{patternUnits:"userSpaceOnUse",id:"p1",x:"0",y:"0",width:a.gridSize,height:a.gridSize,children:(0,r.jsx)("rect",{x:"0",y:"0",stroke:a.gridBorderColor,fill:"none",width:a.gridSize+.5,height:a.gridSize+.5})})}),(0,r.jsx)("rect",{id:"wrapper",className:"grid",x:"0",y:"0",fill:"url(#p1)",width:"100%",height:"100%"})]}):null})}},61774:function(e,a,t){t.r(a);var r=t(59469),n=t(44855),i=t(20884),d=t(73247),l=t(40094),o=t(48730),s=t(71781),c=t(54448),u=t(17856);a.default=function(e){var a=e.currentPage,t=e.currentWidgetId,m=e.modifyLargeScreenElement,p=e.changeLargeScreenElement,f=e.currentWidget,g=e.cale,h=e.screen,x=e.currentWidgetGroupId,v=function(){var e;null===(e=document.querySelector("#js-content-menu"))||void 0===e||e.setAttribute("style","display: none")},w=function(e,a){e.preventDefault(),e.stopPropagation(),v(),a.id!==t&&p(a.id,a.id)},V=function(e,a,r){e.preventDefault(),e.stopPropagation(),v(),a.id!==t&&(!e.ctrlKey||r||x?p(a.id,null===r||void 0===r?void 0:r.id):p(t?"".concat(t,",").concat(a.id):a.id))};(0,n.useEffect)((function(){var e=function(e){v()},a=document.querySelector("#js-elements-body");return window.addEventListener("click",e),window.addEventListener("contextmenu",e),null===a||void 0===a||a.addEventListener("scroll",e),function(){window.removeEventListener("click",e),window.removeEventListener("contextmenu",e),null===a||void 0===a||a.removeEventListener("scroll",e)}}),[]);return(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)(s.default,{screen:h}),(0,u.jsx)(c.default,{screen:h}),a&&a.widgets?function e(n,s,c){return(0,u.jsx)(u.Fragment,{children:n.map((function(n,p){if(n.widgets){var h=d.Z[n.code]||d.Z[n.type];if(h){for(var v={},b=0;b<a.widgets.length;b++)a.widgets[b].linkageIds.includes(n.id)&&(v=(0,r.Z)((0,r.Z)({},v),a.widgets[b].dataValue.params));return(0,u.jsx)(o.default,{item:n,currentWidgetId:t,currentWidgetGroupId:x,currentWidget:f,cale:g,modifyLargeScreenElement:m,className:"react-draggable-group",children:(0,u.jsxs)("div",{onContextMenu:function(e){w(e,n),(0,i._u)(e)},onClick:function(e){return w(e,n)},className:"app-widget__item ".concat(t.includes(n.id)?"is-active":""),children:[(0,u.jsxs)("div",{className:"mask",children:[(0,u.jsx)("div",{className:"line-top"}),(0,u.jsx)("div",{className:"line-left"}),(0,u.jsxs)("div",{className:"label",children:[n.coordinateValue.left,",",n.coordinateValue.top]})]}),(0,u.jsx)(l.Z,{isPlaceholder:!0,method:n.dataValue.method,url:n.dataValue.url,params:JSON.stringify((0,r.Z)((0,r.Z)({},n.dataValue.params),v)||{}),render:function(a,t){return(0,u.jsx)(u.Fragment,{children:(0,u.jsx)(h,{options:(0,r.Z)((0,r.Z)({},n.configureValue),n.coordinateValue),className:n.id===x?"is-active":"",children:e(n.widgets,(0,r.Z)((0,r.Z)({},n),{},{dataValue:(0,r.Z)((0,r.Z)({},n.dataValue),{},{mock:n.dataValue.useInterface?a:n.dataValue.mock}),success:t,parentParams:(0,r.Z)((0,r.Z)({},n.dataValue.params),v)}),n)})})}})]})},n.id)}}else{var j=d.Z[n.code]||d.Z[n.type];if(j){for(var N={},y=0;y<a.widgets.length;y++)a.widgets[y].linkageIds.includes(n.id)&&(N=(0,r.Z)((0,r.Z)({},N),a.widgets[y].dataValue.params));return(0,u.jsx)(o.default,{item:n,currentWidgetGroupId:x,currentWidgetId:t,currentWidget:f,cale:g,modifyLargeScreenElement:m,className:"",children:(0,u.jsxs)("div",{onContextMenu:function(e){(0,i._u)(e),V(e,n,s)},onClick:function(e){return V(e,n,s)},className:"app-widget__item ".concat(t.includes(n.id)?"is-active":""),children:[(0,u.jsxs)("div",{className:"mask",children:[(0,u.jsx)("div",{className:"line-top"}),(0,u.jsx)("div",{className:"line-left"}),(0,u.jsxs)("div",{className:"label",children:[n.coordinateValue.left,",",n.coordinateValue.top]})]}),(0,u.jsx)(l.Z,{isPlaceholder:!0,method:n.dataValue.useInterface?"":n.dataValue.method,url:n.dataValue.useInterface?"":s&&s.dataValue&&s.dataValue.useInterface?s.success?n.dataValue.url:"":n.dataValue.url,params:JSON.stringify(Object.assign((0,r.Z)({},n.dataValue.params),s&&s.parentParams?s.parentParams:{},N)||{}),render:function(e,a){var t=null;return t=n.dataValue.useInterface&&s&&s.dataValue?s.dataValue.mock:"mock"===n.dataValue.dataType?n.dataValue.mock:a?e:null,(0,u.jsx)(j,{modifyLargeScreenElement:m,parentWidget:c,paramName:n.dataValue.paramName,paramValue:s&&s.parentParams&&n.dataValue.paramName?s.parentParams[n.dataValue.paramName]:"",className:"".concat(n.configureValue.animateName),field:n.dataValue.field,data:t,options:(0,r.Z)((0,r.Z)({},n.configureValue),n.coordinateValue)})}})]})},n.id)}}}))})}(a.widgets):null]})}}}]);