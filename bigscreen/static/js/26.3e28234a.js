"use strict";(self.webpackChunkmain=self.webpackChunkmain||[]).push([[26,431],{1222:function(e,n,a){a.d(n,{Z:function(){return o}});var r=a(12822),l=a(57467),t=a(77504),i=a(17856),o=function(e){var n=e.loading,a=e.error,o=e.nodata,s=e.children;return(0,i.jsxs)("div",{className:"app-wrapper",children:[n&&(0,i.jsx)("div",{className:"app-wrapper__loading",children:(0,i.jsx)(r.Z,{tip:"loading..."})}),a&&!n&&(0,i.jsxs)("div",{className:"app-wrapper__error",children:[(0,i.jsx)(t.Z,{}),(0,i.jsx)("p",{style:{color:"#00000040",margin:"0"},children:"\u52a0\u8f7d\u5931\u8d25"})]}),!n&&!a&&o&&(0,i.jsx)("div",{className:"app-wrapper__nodata",children:(0,i.jsx)(l.Z,{image:l.Z.PRESENTED_IMAGE_SIMPLE})}),!n&&!a&&!o&&s]})}},61026:function(e,n,a){a.r(n),a.d(n,{default:function(){return B}});var r=a(59469),l=a(45308),t=a(33374),i=a(44855),o=(a(78431),a(30913)),s=a(44327),c=a(9431),d=a(88650),u=a(1055),p=a(81337),m=a(85014),h=a(76546),f=a(26436),g=a(29642),x=a(46937),b=a(39746),j=a(1222),Z=a(24687),v=a(19530),y=a(39924),C=a(70437),N=a(56365),w=a(29072),V=a(77234),F=a(89648),S=a.n(F),I=(a(45149),a(17856)),k=function(e){var n=e.value,a=e.onChange,l=e.options,t=void 0===l?{}:l,o=(0,i.useRef)(null),s=(0,i.useRef)(null),c=(0,i.useCallback)((function(){if(!s.current){var e=(0,r.Z)({mode:"code",onChange:function(){var e;a&&a(null===(e=s.current)||void 0===e?void 0:e.get())}},t);s.current=new(S())(o.current,e,n)}}),[a,t,n]);return(0,i.useEffect)((function(){c()}),[c]),(0,i.useEffect)((function(){return function(){s.current&&s.current.destroy()}}),[s]),(0,I.jsx)("div",{ref:o,className:"app-json-editor"})},q=V.Z.widgetTypesConfiguration,_=V.Z.widgetConfiguration,E=V.Z.baseConfiguration,A=o.Z.TextArea,P=s.Z.TabPane,O=c.Z.Option,T=d.Z.Panel,B=function(e){var n=e.screen,a=e.modifyScreen,V=e.currentWidgetId,F=e.currentWidget,S=e.modifyLargeScreenElement,B=e.currentPage,D=e.setRightFlag,J=e.rightFlag,L=(e.currentWidgetGroupId,e.showOrHideLargeScreenElement),R=e.changeLargeScreenElement,U=(0,i.useState)("1"),W=(0,t.Z)(U,2),G=W[0],M=W[1],H=u.Z.useForm(),K=(0,t.Z)(H,1)[0],z=u.Z.useForm(),Q=(0,t.Z)(z,1)[0],X=u.Z.useForm(),Y=(0,t.Z)(X,1)[0],$=u.Z.useForm(),ee=(0,t.Z)($,1)[0];(0,i.useEffect)((function(){F.configureValue&&K.setFieldsValue(F.configureValue),F.coordinateValue&&Y.setFieldsValue(F.coordinateValue),F.dataValue&&ee.setFieldsValue(F.dataValue)}),[F]);var ne=function(e,n){return Object.prototype.toString.call(e)==n},ae=function(e,n,a,r){if(r){var t=JSON.parse(JSON.stringify(F));t[r][n]=a,e&&e(V,t)}else e&&e((0,l.Z)({},n,a))},re=function(e,n,a,r){var t=!(arguments.length>4&&void 0!==arguments[4])||arguments[4];return(0,I.jsxs)(I.Fragment,{children:["Input"===e.componentName&&(0,I.jsx)(u.Z.Item,{label:e.label,name:e.name,tooltip:e.tooltip,rules:[{required:e.require}],children:(0,I.jsx)(o.Z,{allowClear:!0,disabled:e.disabled,onBlur:function(n){return t&&ae(a,e.name,n.target.value,r)},placeholder:e.placeholder})}),"InputNumber"===e.componentName&&(0,I.jsx)(u.Z.Item,{label:e.label,name:e.name,tooltip:e.tooltip,rules:[{required:e.require}],children:(0,I.jsx)(p.Z,{disabled:e.disabled,min:e.min,max:e.max,onBlur:function(n){return t&&ae(a,e.name,n.target.value?Number(n.target.value):0,r)},style:{width:"100%"},placeholder:e.placeholder})}),"TextArea"===e.componentName&&(0,I.jsx)(u.Z.Item,{label:e.label,name:e.name,tooltip:e.tooltip,rules:[{required:e.require}],children:(0,I.jsx)(A,{allowClear:!0,disabled:e.disabled,onBlur:function(n){return t&&ae(a,e.name,n.target.value,r)},rows:8,placeholder:e.placeholder})}),"Switch"===e.componentName&&(0,I.jsx)(u.Z.Item,{label:e.label,name:e.name,tooltip:e.tooltip,valuePropName:"checked",rules:[{required:e.require}],children:(0,I.jsx)(m.Z,{disabled:e.disabled,onChange:function(n){return t&&ae(a,e.name,n,r)}})}),"Slider"===e.componentName&&(0,I.jsx)(u.Z.Item,{label:e.label,name:e.name,tooltip:e.tooltip,rules:[{required:e.require}],children:(0,I.jsx)(h.Z,{min:e.min||0,max:e.max||100,disabled:e.disabled,onAfterChange:function(n){return t&&ae(a,e.name,n,r)}})}),"Select"===e.componentName&&(0,I.jsx)(u.Z.Item,{label:e.label,name:e.name,tooltip:e.tooltip,rules:[{required:e.require}],children:(0,I.jsx)(c.Z,{allowClear:!0,disabled:e.disabled,onChange:function(n){return t&&ae(a,e.name,n,r)},placeholder:e.placeholder,children:e.options.map((function(e){return(0,I.jsx)(O,{value:e.code,children:e.name},e.code)}))})}),"SketchPicker"===e.componentName&&(0,I.jsx)(u.Z.Item,{label:e.label,children:(0,I.jsxs)(f.Z,{children:[(0,I.jsx)(g.Z,{span:12,children:(0,I.jsx)(u.Z.Item,{noStyle:!0,name:e.name,tooltip:e.tooltip,rules:[{required:e.require}],children:(0,I.jsx)(o.Z,{allowClear:!0,disabled:e.disabled,onBlur:function(n){return t&&ae(a,e.name,n.target.value,r)},placeholder:e.placeholder})})}),(0,I.jsx)(g.Z,{span:11,offset:1,children:(0,I.jsx)(u.Z.Item,{shouldUpdate:!0,noStyle:!0,children:function(){return(0,I.jsxs)("div",{className:"color-wrapper",style:{background:n.getFieldValue(e.name),width:"100%"},children:["\u83b7\u53d6\u989c\u8272",(0,I.jsx)("div",{className:"color",children:(0,I.jsx)(b.AI,{color:n.getFieldValue(e.name),onChangeComplete:function(i){n.setFieldsValue((0,l.Z)({},e.name,"rgba(".concat(i.rgb.r,",").concat(i.rgb.g,",").concat(i.rgb.b,",").concat(i.rgb.a,")"))),t?ae(a,e.name,"rgba(".concat(i.rgb.r,",").concat(i.rgb.g,",").concat(i.rgb.b,",").concat(i.rgb.a,")"),r):n.setFieldValue(e.name,"rgba(".concat(i.rgb.r,",").concat(i.rgb.g,",").concat(i.rgb.b,",").concat(i.rgb.a,")"))}})})]})}})})]})}),"JsonEdit"===e.componentName&&(0,I.jsx)(u.Z.Item,{label:e.label,name:e.name,tooltip:e.tooltip,rules:[{required:e.require}],children:(0,I.jsx)(u.Z.Item,{shouldUpdate:!0,noStyle:!0,children:(0,I.jsx)(k,{value:n.getFieldValue(e.name),onChange:function(l){return t?ae(a,e.name,l,r):n.setFieldValue(e.name,l)}})})})]})},le=function e(n,a,r,l){var t=!(arguments.length>4&&void 0!==arguments[4])||arguments[4];return n.map((function(n,i){if(ne(n,"[object Object]")){var o=void 0!==n.relationFields?n.relationFields.split(","):[];return(0,I.jsx)("div",{children:o.length?(0,I.jsx)(u.Z.Item,{noStyle:!0,shouldUpdate:!0,children:function(e){var i=e.getFieldValue;if(o.every((function(e){return n.relationValues.includes(String(i(e)))})))return re(n,a,r,l,t)}}):re(n,a,r,l,t)},i)}if(ne(n,"[object Array]"))return(0,I.jsx)("div",{children:n.map((function(n,i){var o=void 0!==n.relationFields?n.relationFields.split(","):[];return(0,I.jsx)(d.Z,{children:void 0===n.relationFields?(0,I.jsx)(T,{header:n.name,children:e(n.list,a,r,l,t)},n+i):(0,I.jsx)(u.Z.Item,{noStyle:!0,shouldUpdate:!0,children:function(s){var c=s.getFieldValue;if(o.every((function(e){return n.relationValues.includes(String(c(e)))})))return(0,I.jsx)(d.Z,{children:(0,I.jsx)(T,{header:n.name,children:e(n.list,a,r,l,t)},n+i)},i)}})},i)}))},i)}))},te=function(e,n,a){e.stopPropagation(),e.preventDefault(),n!==V&&R(n,a)},ie=function(e,n,a){e.stopPropagation(),e.preventDefault(),L(n,a)};return(0,I.jsxs)("div",{className:"app-screen-disign__body--right",style:{right:J?0:-400},children:[(0,I.jsx)("div",{onClick:function(){return D(!J)},className:"operation",children:J?(0,I.jsx)(N.Z,{}):(0,I.jsx)(w.Z,{})}),(0,I.jsxs)(s.Z,{className:"custom-tabs",activeKey:G,onChange:function(e){return M(e)},destroyInactiveTabPane:!0,children:[(0,I.jsx)(P,{tab:"\u56fe\u5c42\u7ba1\u7406",children:(0,I.jsx)(j.Z,{loading:!1,error:!1,nodata:Boolean(B&&B.widgets&&!B.widgets.length),children:(0,I.jsx)("div",{className:"app-screen-disign__layer",children:function e(n,a){return n.map((function(n){return n.widgets?(0,I.jsxs)("div",{className:"app-screen-disign__layer",children:[(0,I.jsxs)("div",{onClick:function(e){return te(e,n.id,n.id)},className:"header ".concat(n.id===V?"is-active":""),children:[(0,I.jsx)("span",{onClick:function(e){return ie(e,n.id)},className:"show",children:"block"===n.configureValue.styleDisplay?(0,I.jsx)(Z.Z,{}):(0,I.jsx)(v.Z,{})}),(0,I.jsx)("span",{className:"file",children:(0,I.jsx)(y.Z,{})}),(0,I.jsx)("span",{className:"label",children:n.label})]}),e(n.widgets,n.id)]},n.id):(0,I.jsx)("div",{className:"app-screen-disign__layer--item",children:(0,I.jsxs)("div",{onClick:function(e){return te(e,n.id,a)},className:"header ".concat(n.id===V?"is-active":""),children:[(0,I.jsx)("span",{onClick:function(e){return ie(e,n.id,a)},className:"show",children:"block"===n.configureValue.styleDisplay?(0,I.jsx)(Z.Z,{}):(0,I.jsx)(v.Z,{})}),(0,I.jsx)("span",{className:"file",children:(0,I.jsx)(C.Z,{})}),(0,I.jsx)("span",{className:"label",children:n.label})]})},n.id)}))}(B.widgets||[])})})},"5"),(0,I.jsx)(P,{tab:"\u9879\u76ee\u914d\u7f6e",children:(0,I.jsx)(u.Z,{preserve:!0,form:Q,labelCol:{span:6},wrapperCol:{span:18},autoComplete:"off",labelAlign:"left",initialValues:n,children:le(E.page.configure||[],Q,a,"")})},"1"),V&&!V.includes(",")&&(0,I.jsxs)(I.Fragment,{children:[(0,I.jsx)(P,{tab:"\u914d\u7f6e",children:(0,I.jsx)(u.Z,{form:K,labelCol:{span:6},wrapperCol:{span:18},autoComplete:"off",labelAlign:"left",children:q[F.code]?le(q[F.code].configure||[],K,S,"configureValue",!0):q[F.type]?le(q[F.type].configure||[],K,S,"configureValue",!0):null})},"2"),q[F.code]&&q[F.code].data||q[F.type]&&q[F.type].data?(0,I.jsx)(P,{tab:"\u6570\u636e",children:(0,I.jsxs)(u.Z,{preserve:!0,form:ee,labelCol:{span:6},wrapperCol:{span:18},autoComplete:"off",labelAlign:"left",onFinish:function(e){var n=JSON.parse(JSON.stringify(F));n.dataValue=e,_[n.code]&&(n.dataValue=(0,r.Z)((0,r.Z)({},_[n.code].dataValue),e),S(V,n))},children:[q[F.code]?le(q[F.code].data||[],ee,S,"dataValue",!1):q[F.type]?le(q[F.type].data||[],ee,S,"dataValue",!1):null,(0,I.jsx)(u.Z.Item,{wrapperCol:{offset:6,span:18},children:(0,I.jsx)(x.Z,{type:"primary",htmlType:"submit",block:!0,children:"\u4fdd\u5b58"})})]})},"3"):null,(0,I.jsx)(P,{tab:"\u5750\u6807",children:(0,I.jsx)(u.Z,{preserve:!0,form:Y,labelCol:{span:6},wrapperCol:{span:18},autoComplete:"off",labelAlign:"left",children:le(E.coordinate.configure||[],Y,S,"coordinateValue",!0)})},"4")]})]})]})}},78431:function(e,n,a){a.r(n),n.default={}}}]);