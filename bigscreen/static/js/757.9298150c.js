"use strict";(self.webpackChunkmain=self.webpackChunkmain||[]).push([[757,492],{79757:function(e,n,s){s.r(n),s.d(n,{default:function(){return b}});var c=s(59469),a=s(44855),l=s(31969),i=s(70866),t=s(27217),r=s(61577),d=s(21400),o=s(43049),p=s(48836),m=s(54662),u=s(25666),h=function(e){var n=e.children,s=(0,a.useRef)(document.createElement("div"));return(0,a.useEffect)((function(){return document.body.appendChild(s.current),function(){document.body.removeChild(s.current)}}),[]),u.createPortal(n,s.current)},j=s(20884),x=(s(21492),s(78274)),f=s(17856),N=p.Z.widgetConfiguration,b=function(e){var n=e.addLargeScreenElement,s=e.currentPageId,p=e.pastPage,u=e.futurePage,b=e.currentWidgetId,g=e.currentWidget,k=e.undoLargeScreen,C=e.redoLargeScreen,_=e.modifyLargeScreenElement,Z=e.currentWidgetGroupId,v=e.delLargeScreenElement,y=e.copyLargeScreenElement,P=e.group,w=e.cancelGroup,E=(0,x.k6)(),L=function(e){s?N[e]?n((0,c.Z)({id:(0,j.M8)()},N[e])):l.ZP.info("\u8be5\u7ec4\u4ef6\u6b63\u5728\u5f00\u53d1\u4e2d..."):l.ZP.error("\u8bf7\u5148\u6dfb\u52a0\u9875\u9762\u54e6")},S=(0,a.useCallback)((function(){p.length&&k()}),[p.length,k]),V=(0,a.useCallback)((function(){u.length&&C()}),[u.length,C]),I=(0,a.useCallback)((function(e){b&&!b.includes(",")&&(v(),l.ZP.success("\u5220\u9664\u6210\u529f"))}),[b]),O=(0,a.useCallback)((function(e){b&&!b.includes(",")&&(y(),l.ZP.success("\u590d\u5236\u6210\u529f"))}),[b]),W=(0,a.useCallback)((function(e){b&&b.includes(",")&&(P(),l.ZP.success("\u5206\u7ec4\u6210\u529f"))}),[b]),G=(0,a.useCallback)((function(e){b&&Z===b&&(w(),l.ZP.success("\u53d6\u6d88\u5206\u7ec4\u6210\u529f"))}),[b]),J=(0,a.useCallback)((function(e){if(b){var n=JSON.parse(JSON.stringify(g));switch(e){case"top":n.coordinateValue.top=n.coordinateValue.top-1;break;case"left":n.coordinateValue.left=n.coordinateValue.left-1;break;case"bottom":n.coordinateValue.top=n.coordinateValue.top+1;break;default:n.coordinateValue.left=n.coordinateValue.left+1}_(b,Z,n)}}),[b,g,_]),K=function(e,n){i.Z.confirm({title:"\u60a8\u786e\u5b9a\u8981".concat(e,"?"),icon:(0,f.jsx)(r.Z,{}),content:"\u6e29\u99a8\u63d0\u793a",onOk:function(){n&&n()}})};return(0,a.useEffect)((function(){var e=function(e){if(e.preventDefault(),e.stopPropagation(),e.ctrlKey)switch(e.keyCode){case 90:e.altKey?V():S();break;case 37:J("left");break;case 38:J("top");break;case 39:J("right");break;case 40:J("bottom")}else if(46===e.keyCode)K("\u5220\u9664",I)};return document.addEventListener("keyup",e),function(){document.removeEventListener("keyup",e)}}),[S,V,J,I,O,b,K]),(0,f.jsxs)("div",{className:"app-screen-disign__header",children:[(0,f.jsx)(h,{children:(0,f.jsxs)("ul",{className:"app-content-menu",id:"js-content-menu",children:[(0,f.jsxs)("li",{onClick:O,className:"app-content-menu__item ".concat(b&&!b.includes(",")?"":"is-disabled"),children:[(0,f.jsx)("span",{className:"app-icon",children:"\ue7bc"}),(0,f.jsx)("span",{className:"name",children:"\u590d\u5236\u56fe\u5c42"})]}),(0,f.jsxs)("li",{onClick:function(){return K("\u5220\u9664",I)},className:"app-content-menu__item is-border ".concat(b&&!b.includes(",")?"":"is-disabled"),children:[(0,f.jsx)("span",{className:"app-icon",children:"\ue7c3"}),(0,f.jsx)("span",{className:"name",children:"\u5220\u9664\u56fe\u5c42"}),(0,f.jsx)("span",{children:"delete"})]}),(0,f.jsxs)("li",{className:"app-content-menu__item",children:[(0,f.jsx)("span",{className:"app-icon",children:"\ue7ef"}),(0,f.jsx)("span",{className:"name",children:"\u4e0a\u79fb\u4e00\u5c42"}),(0,f.jsx)("span",{children:"alt+\u2191"})]}),(0,f.jsxs)("li",{className:"app-content-menu__item",children:[(0,f.jsx)("span",{className:"app-icon",children:"\ue7f1"}),(0,f.jsx)("span",{className:"name",children:"\u4e0b\u79fb\u4e00\u5c42"}),(0,f.jsx)("span",{children:"alt+\u2193"})]}),(0,f.jsxs)("li",{className:"app-content-menu__item",children:[(0,f.jsx)("span",{className:"app-icon",children:"\ue786"}),(0,f.jsx)("span",{className:"name",children:"\u7f6e\u9876\u56fe\u5c42"}),(0,f.jsx)("span",{children:"ctrl+shfit+\u2191"})]}),(0,f.jsxs)("li",{className:"app-content-menu__item is-border",children:[(0,f.jsx)("span",{className:"app-icon",children:"\ue742"}),(0,f.jsx)("span",{className:"name",children:"\u7f6e\u5e95\u56fe\u5c42"}),(0,f.jsx)("span",{children:"ctrl+shfit+\u2193"})]}),(0,f.jsxs)("li",{onClick:W,className:"app-content-menu__item  ".concat(Z||!b.includes(",")?"is-disabled":""),children:[(0,f.jsx)("span",{className:"app-icon",children:"\ue83f"}),(0,f.jsx)("span",{className:"name",children:"\u5206\u7ec4"})]}),(0,f.jsxs)("li",{onClick:G,className:"app-content-menu__item  ".concat(Z&&Z===b?"":"is-disabled"),children:[(0,f.jsx)("span",{className:"app-icon",children:"\ue632"}),(0,f.jsx)("span",{className:"name",children:"\u62c6\u5206"})]})]})}),(0,f.jsx)("ul",{className:"app-screen-disign__header--left",children:m.R.map((function(e,n){return(0,f.jsxs)("li",{className:"".concat(s?"":"is-disabled"),onClick:function(){e.datas||L(e.widgetName)},children:[(0,f.jsx)("span",{className:"app-icon",dangerouslySetInnerHTML:{__html:e.icon}}),(0,f.jsx)("p",{children:e.name}),e.datas&&e.datas.length?(0,f.jsx)("div",{className:"elements",children:e.datas.map((function(n,s){return(0,f.jsxs)("div",{onClick:function(){n.widgetName&&("form"===e.type&&Z||"form"!==e.type)&&L(n.widgetName)},children:[(0,f.jsx)("div",{className:"img",children:n.src?(0,f.jsx)("img",{src:n.src}):(0,f.jsx)(d.Z,{})}),(0,f.jsx)("div",{className:"name",title:n.name,children:n.name})]},s)}))}):""]},e.type)}))}),(0,f.jsxs)("div",{className:"app-screen-disign__header--center",children:[(0,f.jsxs)("ul",{className:"shortcuts-group",children:[(0,f.jsx)("li",{onClick:W,className:"".concat(Z||!b.includes(",")?"is-disabled":""),children:(0,f.jsxs)(t.Z,{title:"\u5206\u7ec4",placement:"bottom",children:[(0,f.jsx)("span",{className:"app-icon",children:"\ue83f"}),(0,f.jsx)("p",{children:"\u5206\u7ec4"})]})}),(0,f.jsx)("li",{onClick:G,className:"".concat(Z&&Z===b?"":"is-disabled"),children:(0,f.jsxs)(t.Z,{title:"\u62c6\u5206",placement:"bottom",children:[(0,f.jsx)("span",{className:"app-icon",children:"\ue632"}),(0,f.jsx)("p",{children:"\u62c6\u5206"})]})})]}),(0,f.jsxs)("ul",{className:"shortcuts-group",children:[(0,f.jsx)("li",{onClick:O,className:"".concat(b&&!b.includes(",")?"":"is-disabled"),children:(0,f.jsxs)(t.Z,{title:"\u590d\u5236",placement:"bottom",children:[(0,f.jsx)("span",{className:"app-icon",children:"\ue7bc"}),(0,f.jsx)("p",{children:"\u590d\u5236"})]})}),(0,f.jsx)("li",{onClick:function(){return K("\u5220\u9664",I)},className:"".concat(b&&!b.includes(",")?"":"is-disabled"),children:(0,f.jsxs)(t.Z,{title:"\u5220\u9664(ctrl+delete)",placement:"bottom",children:[(0,f.jsx)("span",{className:"app-icon",children:"\ue7c3"}),(0,f.jsx)("p",{children:"\u5220\u9664"})]})})]}),(0,f.jsxs)("ul",{className:"shortcuts-group",children:[(0,f.jsx)("li",{onClick:function(){return J("top")},className:"".concat(!b||b.includes(",")?"is-disabled":""),children:(0,f.jsxs)(t.Z,{title:"\u4e0a\u79fb(ctrl+\u2191)",placement:"bottom",children:[(0,f.jsx)("span",{className:"app-icon",children:"\ue7ef"}),(0,f.jsx)("p",{children:"\u4e0a\u79fb"})]})}),(0,f.jsx)("li",{onClick:function(){return J("bottom")},className:"".concat(!b||b.includes(",")?"is-disabled":""),children:(0,f.jsxs)(t.Z,{title:"\u4e0b\u79fb(ctrl+\u2193)",placement:"bottom",children:[(0,f.jsx)("span",{className:"app-icon",children:"\ue7f1"}),(0,f.jsx)("p",{children:"\u4e0b\u79fb"})]})}),(0,f.jsx)("li",{onClick:function(){return J("left")},className:"".concat(!b||b.includes(",")?"is-disabled":""),children:(0,f.jsxs)(t.Z,{title:"\u5de6\u79fb(ctrl+\u2190)",placement:"bottom",children:[(0,f.jsx)("span",{className:"app-icon",children:"\ue7f0"}),(0,f.jsx)("p",{children:"\u5de6\u79fb"})]})}),(0,f.jsx)("li",{onClick:function(){return J("right")},className:"".concat(!b||b.includes(",")?"is-disabled":""),children:(0,f.jsxs)(t.Z,{title:"\u53f3\u79fb(ctrl+\u2192)",placement:"bottom",children:[(0,f.jsx)("span",{className:"app-icon",children:"\ue7ee"}),(0,f.jsx)("p",{children:"\u53f3\u79fb"})]})})]}),(0,f.jsxs)("ul",{className:"shortcuts-group",children:[(0,f.jsx)("li",{className:"".concat(s?"":"is-disabled"),children:(0,f.jsxs)(t.Z,{title:"\u4fdd\u5b58(ctrl+s)",placement:"bottom",children:[(0,f.jsx)("span",{className:"app-icon",children:"\ue791"}),(0,f.jsx)("p",{children:"\u4fdd\u5b58"})]})}),(0,f.jsx)("li",{onClick:function(){s&&E.push("/frame/preview?pageId=".concat(s))},className:"".concat(s?"":"is-disabled"),children:(0,f.jsxs)(t.Z,{title:"\u9884\u89c8(ctrl+p)",placement:"bottom",children:[(0,f.jsx)("span",{className:"app-icon",children:"\ue78f"}),(0,f.jsx)("p",{children:"\u9884\u89c8"})]})})]})]}),(0,f.jsx)("ul",{className:"app-screen-disign__header--right",children:(0,f.jsx)("li",{onClick:function(){return E.goBack()},children:(0,f.jsx)(o.Z,{})})})]})}},21492:function(e,n,s){s.r(n),n.default={}}}]);