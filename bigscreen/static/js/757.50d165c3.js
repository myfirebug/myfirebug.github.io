"use strict";(self.webpackChunkmain=self.webpackChunkmain||[]).push([[757,492],{79757:function(e,n,s){s.r(n),s.d(n,{default:function(){return f}});var c=s(59469),i=s(44855),a=s(7885),l=s(63748),t=s(99026),r=s(73247),d=s(25666),o=function(e){var n=e.children,s=(0,i.useRef)(document.createElement("div"));return(0,i.useEffect)((function(){return document.body.appendChild(s.current),function(){document.body.removeChild(s.current)}}),[s]),d.createPortal(n,s.current)},u=s(20884),p=(s(21492),s(15879)),m=s(17856),h=t.Z.widgetConfiguration,f=function(e){var n=e.addLargeScreenElement,s=e.currentPageId,t=e.pastPage,d=e.futurePage,f=e.currentWidgetId,x=e.currentWidget,j=e.undoLargeScreen,N=e.redoLargeScreen,g=e.modifyLargeScreenElement,b=e.currentWidgetGroupId,k=e.delLargeScreenElement,C=e.copyLargeScreenElement,w=e.group,_=e.cancelGroup,v=e.currentPage,y=e.topLargescreenElement,E=e.bottomLargescreenElement,L=e.upLargescreenElement,I=e.downLargescreenElement,S=(0,p.k6)(),V=function(e){s?h[e]?n((0,c.Z)({id:(0,u.M8)(),linkageIds:""},h[e])):a.yw.info("\u8be5\u7ec4\u4ef6\u6b63\u5728\u5f00\u53d1\u4e2d..."):a.yw.error("\u8bf7\u5148\u6dfb\u52a0\u9875\u9762\u54e6")},P=(0,i.useCallback)((function(){t.length&&j()}),[t.length,j]),O=(0,i.useCallback)((function(){d.length&&N()}),[d.length,N]),M=(0,i.useCallback)((function(e){f&&!f.includes(",")&&(k(),a.yw.success("\u5220\u9664\u6210\u529f"))}),[f,k]),W=(0,i.useCallback)((function(e){C(),a.yw.success("\u590d\u5236\u6210\u529f")}),[C]),G=(0,i.useCallback)((function(e){f&&f.includes(",")&&(w(),a.yw.success("\u5206\u7ec4\u6210\u529f"))}),[f,w]),J=(0,i.useCallback)((function(e){f&&b===f&&(_(),a.yw.success("\u53d6\u6d88\u5206\u7ec4\u6210\u529f"))}),[f,_]),K=(0,i.useCallback)((function(e){if(f){var n=JSON.parse(JSON.stringify(x));switch(e){case"top":n.coordinateValue.top=n.coordinateValue.top-1;break;case"left":n.coordinateValue.left=n.coordinateValue.left-1;break;case"bottom":n.coordinateValue.top=n.coordinateValue.top+1;break;default:n.coordinateValue.left=n.coordinateValue.left+1}g(f,b,n)}}),[f,x,b,g]),R=function(e,n){a.u_.confirm({title:"\u60a8\u786e\u5b9a\u8981".concat(e,"?"),icon:(0,m.jsx)(l.ExclamationCircleOutlined,{}),content:"\u6e29\u99a8\u63d0\u793a",onOk:function(){n&&n()}})};(0,i.useEffect)((function(){var e=function(e){if(e.preventDefault(),e.stopPropagation(),e.ctrlKey)switch(e.keyCode){case 90:e.altKey?O():P();break;case 37:K("left");break;case 38:K("top");break;case 39:K("right");break;case 40:K("bottom")}else if(46===e.keyCode)f&&!f.includes(",")&&R("\u5220\u9664",M)};return document.addEventListener("keyup",e),function(){document.removeEventListener("keyup",e)}}),[P,O,K,M,W,f,R]);var Z=(0,i.useMemo)((function(){if(!v.widgets)return false;var e=v.widgets.findIndex((function(e){return e.id===b}));if(-1!==e&&b!==f){if(v.widgets[e].widgets.findIndex((function(e){return e.id===f}))>0)return!0}else if(v.widgets.findIndex((function(e){return e.id===f}))>0)return!0;return false}),[v,b,f]),B=(0,i.useMemo)((function(){if(!v.widgets)return false;var e=v.widgets.findIndex((function(e){return e.id===b}));if(-1!==e&&b!==f){if(v.widgets[e].widgets.findIndex((function(e){return e.id===f}))!=v.widgets[e].widgets.length-1)return!0}else if(v.widgets.findIndex((function(e){return e.id===f}))!==v.widgets.length-1)return!0;return false}),[v,b,f]);return(0,m.jsxs)("div",{className:"app-screen-disign__header",children:[(0,m.jsx)(o,{children:(0,m.jsxs)("ul",{className:"app-content-menu",id:"js-content-menu",children:[(0,m.jsxs)("li",{onClick:W,className:"app-content-menu__item ".concat(f&&!f.includes(",")?"":"is-disabled"),children:[(0,m.jsx)("span",{className:"app-icon",children:"\ue7bc"}),(0,m.jsx)("span",{className:"name",children:"\u590d\u5236\u56fe\u5c42"})]}),(0,m.jsxs)("li",{onClick:function(){return R("\u5220\u9664",M)},className:"app-content-menu__item is-border ".concat(f&&!f.includes(",")?"":"is-disabled"),children:[(0,m.jsx)("span",{className:"app-icon",children:"\ue7c3"}),(0,m.jsx)("span",{className:"name",children:"\u5220\u9664\u56fe\u5c42"})]}),(0,m.jsxs)("li",{onClick:function(){Z&&L()},className:"app-content-menu__item ".concat(Z?"":"is-disabled"),children:[(0,m.jsx)("span",{className:"app-icon",children:"\ue7ef"}),(0,m.jsx)("span",{className:"name",children:"\u4e0a\u79fb\u4e00\u5c42"})]}),(0,m.jsxs)("li",{onClick:function(){B&&I()},className:"app-content-menu__item ".concat(B?"":"is-disabled"),children:[(0,m.jsx)("span",{className:"app-icon",children:"\ue7f1"}),(0,m.jsx)("span",{className:"name",children:"\u4e0b\u79fb\u4e00\u5c42"})]}),(0,m.jsxs)("li",{onClick:function(){Z&&y()},className:"app-content-menu__item ".concat(Z?"":"is-disabled"),children:[(0,m.jsx)("span",{className:"app-icon",children:"\ue786"}),(0,m.jsx)("span",{className:"name",children:"\u7f6e\u9876\u56fe\u5c42"})]}),(0,m.jsxs)("li",{onClick:function(){B&&E()},className:"app-content-menu__item is-border ".concat(B?"":"is-disabled"),children:[(0,m.jsx)("span",{className:"app-icon",children:"\ue742"}),(0,m.jsx)("span",{className:"name",children:"\u7f6e\u5e95\u56fe\u5c42"})]}),(0,m.jsxs)("li",{onClick:G,className:"app-content-menu__item  ".concat(b||!f.includes(",")?"is-disabled":""),children:[(0,m.jsx)("span",{className:"app-icon",children:"\ue83f"}),(0,m.jsx)("span",{className:"name",children:"\u5206\u7ec4"})]}),(0,m.jsxs)("li",{onClick:J,className:"app-content-menu__item  ".concat(b&&b===f?"":"is-disabled"),children:[(0,m.jsx)("span",{className:"app-icon",children:"\ue632"}),(0,m.jsx)("span",{className:"name",children:"\u62c6\u5206"})]})]})}),(0,m.jsx)("ul",{className:"app-screen-disign__header--left",children:r.R.map((function(e,n){return(0,m.jsxs)("li",{className:"".concat(s?"":"is-disabled"),onClick:function(){e.datas||V(e.widgetName)},children:[(0,m.jsx)("span",{className:"app-icon",dangerouslySetInnerHTML:{__html:e.icon}}),(0,m.jsx)("p",{children:e.name}),e.datas&&e.datas.length?(0,m.jsx)("div",{className:"elements",children:e.datas.map((function(n,s){return(0,m.jsxs)("div",{onClick:function(){n.widgetName&&("form"===e.type&&b||"form"!==e.type)&&V(n.widgetName)},children:[(0,m.jsx)("div",{className:"img",children:n.src?(0,m.jsx)("img",{src:n.src}):(0,m.jsx)(l.PictureOutlined,{})}),(0,m.jsx)("div",{className:"name",title:n.name,children:n.name})]},s)}))}):""]},e.type)}))}),(0,m.jsxs)("div",{className:"app-screen-disign__header--center",children:[(0,m.jsxs)("ul",{className:"shortcuts-group",children:[(0,m.jsx)("li",{onClick:G,className:"".concat(b||!f.includes(",")?"is-disabled":""),children:(0,m.jsxs)(a.u,{title:"\u5206\u7ec4",placement:"bottom",children:[(0,m.jsx)("span",{className:"app-icon",children:"\ue83f"}),(0,m.jsx)("p",{children:"\u5206\u7ec4"})]})}),(0,m.jsx)("li",{onClick:J,className:"".concat(b&&b===f?"":"is-disabled"),children:(0,m.jsxs)(a.u,{title:"\u62c6\u5206",placement:"bottom",children:[(0,m.jsx)("span",{className:"app-icon",children:"\ue632"}),(0,m.jsx)("p",{children:"\u62c6\u5206"})]})})]}),(0,m.jsxs)("ul",{className:"shortcuts-group",children:[(0,m.jsx)("li",{onClick:W,className:"".concat(f&&!f.includes(",")?"":"is-disabled"),children:(0,m.jsxs)(a.u,{title:"\u590d\u5236",placement:"bottom",children:[(0,m.jsx)("span",{className:"app-icon",children:"\ue7bc"}),(0,m.jsx)("p",{children:"\u590d\u5236"})]})}),(0,m.jsx)("li",{onClick:function(){return R("\u5220\u9664",M)},className:"".concat(f&&!f.includes(",")?"":"is-disabled"),children:(0,m.jsxs)(a.u,{title:"\u5220\u9664(delete)",placement:"bottom",children:[(0,m.jsx)("span",{className:"app-icon",children:"\ue7c3"}),(0,m.jsx)("p",{children:"\u5220\u9664"})]})})]}),(0,m.jsxs)("ul",{className:"shortcuts-group",children:[(0,m.jsx)("li",{onClick:function(){return K("top")},className:"".concat(!f||f.includes(",")?"is-disabled":""),children:(0,m.jsxs)(a.u,{title:"\u4e0a\u79fb(ctrl+\u2191)",placement:"bottom",children:[(0,m.jsx)("span",{className:"app-icon",children:"\ue7ef"}),(0,m.jsx)("p",{children:"\u4e0a\u79fb"})]})}),(0,m.jsx)("li",{onClick:function(){return K("bottom")},className:"".concat(!f||f.includes(",")?"is-disabled":""),children:(0,m.jsxs)(a.u,{title:"\u4e0b\u79fb(ctrl+\u2193)",placement:"bottom",children:[(0,m.jsx)("span",{className:"app-icon",children:"\ue7f1"}),(0,m.jsx)("p",{children:"\u4e0b\u79fb"})]})}),(0,m.jsx)("li",{onClick:function(){return K("left")},className:"".concat(!f||f.includes(",")?"is-disabled":""),children:(0,m.jsxs)(a.u,{title:"\u5de6\u79fb(ctrl+\u2190)",placement:"bottom",children:[(0,m.jsx)("span",{className:"app-icon",children:"\ue7f0"}),(0,m.jsx)("p",{children:"\u5de6\u79fb"})]})}),(0,m.jsx)("li",{onClick:function(){return K("right")},className:"".concat(!f||f.includes(",")?"is-disabled":""),children:(0,m.jsxs)(a.u,{title:"\u53f3\u79fb(ctrl+\u2192)",placement:"bottom",children:[(0,m.jsx)("span",{className:"app-icon",children:"\ue7ee"}),(0,m.jsx)("p",{children:"\u53f3\u79fb"})]})})]}),(0,m.jsxs)("ul",{className:"shortcuts-group",children:[(0,m.jsx)("li",{className:"".concat(s?"":"is-disabled"),children:(0,m.jsxs)(a.u,{title:"\u4fdd\u5b58(ctrl+s)",placement:"bottom",children:[(0,m.jsx)("span",{className:"app-icon",children:"\ue791"}),(0,m.jsx)("p",{children:"\u4fdd\u5b58"})]})}),(0,m.jsx)("li",{onClick:function(){s&&S.push("/frame/preview?pageId=".concat(s))},className:"".concat(s?"":"is-disabled"),children:(0,m.jsxs)(a.u,{title:"\u9884\u89c8(ctrl+p)",placement:"bottom",children:[(0,m.jsx)("span",{className:"app-icon",children:"\ue78f"}),(0,m.jsx)("p",{children:"\u9884\u89c8"})]})})]})]}),(0,m.jsx)("ul",{className:"app-screen-disign__header--right",children:(0,m.jsx)("li",{onClick:function(){return S.goBack()},children:(0,m.jsx)(l.CloseOutlined,{})})})]})}},21492:function(e,n,s){s.r(n),n.default={}}}]);