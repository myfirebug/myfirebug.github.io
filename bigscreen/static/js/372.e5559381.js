"use strict";(self.webpackChunkmain=self.webpackChunkmain||[]).push([[372,381],{36345:function(n,e,t){var r=t(26234),a=t(59469),u=t(38166),i=(t(44855),t(1222)),o=t(45378),c=t(37091),d=t.n(c),f=t(17856);e.Z=function(n){var e=n.method,t=n.url,c=n.params,l=n.isPlaceholder,s=n.render,p=(0,o.Z)((0,u.Z)((0,r.Z)().mark((function n(){return(0,r.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,new Promise((function(n,r){d()({url:t,method:e,params:(0,a.Z)({},JSON.parse(c))}).then((function(e){n(e.data.data||e.data)})).catch((function(n){r(n)}))}));case 2:return n.abrupt("return",n.sent);case 3:case"end":return n.stop()}}),n)}))),{refreshDeps:[c,t],ready:Boolean(t)}),m=p.data,h=p.loading,g=p.error;return(0,f.jsx)(f.Fragment,{children:l?(0,f.jsx)(i.Z,{loading:h,error:Boolean(g),nodata:!1,children:s(t?m:null,!t||!g)}):s(t?m:null,!t||!g)})}},1222:function(n,e,t){t.d(e,{Z:function(){return o}});var r=t(24082),a=t(58489),u=t(77504),i=t(17856),o=function(n){var e=n.loading,t=n.error,o=n.nodata,c=n.children;return(0,i.jsxs)("div",{className:"app-wrapper",children:[e&&(0,i.jsx)("div",{className:"app-wrapper__loading",children:(0,i.jsx)(r.Z,{})}),t&&!e&&(0,i.jsxs)("div",{className:"app-wrapper__error",children:[(0,i.jsx)(u.Z,{}),(0,i.jsx)("p",{style:{color:"#00000040",margin:"0"},children:"\u52a0\u8f7d\u5931\u8d25"})]}),!e&&!t&&o&&(0,i.jsx)("div",{className:"app-wrapper__nodata",children:(0,i.jsx)(a.Z,{image:a.Z.PRESENTED_IMAGE_SIMPLE})}),!e&&!t&&!o&&c]})}},59372:function(n,e,t){t.r(e);var r=t(59469),a=t(33374),u=t(44855),i=t(61038),o=t(47740),c=t(54662),d=t(36345),f=(t(23381),t(17856)),l={modifyLargeScreenElement:o.x4};e.default=(0,i.$j)((function(n){return{currentPage:n.largeScreen.currentPage,screen:n.largeScreen.screen}}),l)((function(n){var e=n.currentPage,t=n.screen,i=n.modifyLargeScreenElement,o=(0,u.useRef)(null),l=(0,u.useState)(0),s=(0,a.Z)(l,2),p=s[0],m=s[1],h=(0,u.useState)({}),g=(0,a.Z)(h,2),V=g[0],w=g[1];(0,u.useEffect)((function(){V.width&&t.width&&m(Number((V.width/Number(t.width)).toFixed(4)))}),[t.width,V.width]),(0,u.useEffect)((function(){var n=function(){var n;w({width:null===(n=o.current)||void 0===n?void 0:n.offsetWidth})};return n(),window.addEventListener("resize",n),function(){window.removeEventListener("resize",n)}}),[o.current]);return(0,f.jsx)("div",{className:"app-preview",ref:o,children:(0,f.jsx)("div",{className:"app-preview__container",style:{width:t.width,height:t.height,transform:"scale(".concat(p,")"),transformOrigin:"0 0",background:"url(".concat(t.backgroundImage,") no-repeat ").concat(t.backgroundColor,"  0% 0% / 100% 100%")},children:e&&e.widgets?function n(t,a,u){return(0,f.jsx)(f.Fragment,{children:t.map((function(t,o){if(t.widgets){var l=c.Z[t.code]||c.Z[t.type];if(l)return(0,f.jsx)("div",{className:"app-widget__item",style:{position:"absolute",width:t.coordinateValue.width,height:t.coordinateValue.height,left:t.coordinateValue.left,top:t.coordinateValue.top},children:(0,f.jsx)(d.Z,{isPlaceholder:!1,method:t.dataValue.method,url:t.dataValue.url,params:JSON.stringify(t.dataValue.params||{}),render:function(e,a){return(0,f.jsx)(f.Fragment,{children:(0,f.jsx)(l,{options:(0,r.Z)((0,r.Z)({},t.configureValue),t.coordinateValue),children:n(t.widgets,(0,r.Z)((0,r.Z)({},t),{},{dataValue:(0,r.Z)((0,r.Z)({},t.dataValue),{},{mock:t.dataValue.useInterface?e:t.dataValue.mock}),success:a,parentParams:t.dataValue.params}),t)})})}})},t.id)}else{var s=c.Z[t.code]||c.Z[t.type];if(s){for(var p={},m=0;m<e.widgets.length;m++)e.widgets[m].linkageIds.includes(t.id)&&(p=(0,r.Z)((0,r.Z)({},p),e.widgets[m].dataValue.params));return(0,f.jsx)("div",{className:"app-widget__item",style:{position:"absolute",width:t.coordinateValue.width,height:t.coordinateValue.height,left:t.coordinateValue.left,top:t.coordinateValue.top},children:(0,f.jsx)(d.Z,{isPlaceholder:!0,method:t.dataValue.useInterface?"":t.dataValue.method,url:t.dataValue.useInterface?"":a&&a.dataValue.useInterface?a.success?t.dataValue.url:"":t.dataValue.url,params:JSON.stringify(Object.assign((0,r.Z)({},t.dataValue.params),p,a&&a.dataValue&&a.dataValue.params?a.dataValue.params:{})||{}),render:function(n,e){var o=null;return o=t.dataValue.useInterface&&a&&a.dataValue?a.dataValue.mock:"mock"===t.dataValue.dataType?t.dataValue.mock:e?n:null,(0,f.jsx)(s,{modifyLargeScreenElement:i,parentWidget:u,paramName:t.dataValue.paramName,paramValue:a&&a.parentParams&&t.dataValue.paramName?a.parentParams[t.dataValue.paramName]:"",className:"".concat(t.configureValue.animateName),field:t.dataValue.field,data:o,options:(0,r.Z)((0,r.Z)({},t.configureValue),t.coordinateValue)})}})},t.id)}}}))})}(e.widgets):null})})}))},47740:function(n,e,t){t.d(e,{C4:function(){return v},FJ:function(){return o},Fk:function(){return Z},Hc:function(){return a},JC:function(){return i},L9:function(){return m},UY:function(){return c},WX:function(){return p},h6:function(){return x},iK:function(){return V},ny:function(){return l},o9:function(){return y},qA:function(){return g},r0:function(){return j},ru:function(){return w},ss:function(){return d},x4:function(){return s},xk:function(){return h},xn:function(){return f},zG:function(){return u}});var r=t(25162),a=function(n){return function(e){e(function(n){return{type:r.OV,datas:n}}(n))}},u=function(n,e){return function(t){t(function(n){return{type:r.zN,data:n}}(n)),e&&e()}},i=function(n,e){return function(t){t(function(n){return{type:r.m,id:n}}(n)),e&&e()}},o=function(n,e,t){return function(a){a(function(n,e){return{type:r.Vo,id:n,data:e}}(n,e)),t&&t()}},c=function(n,e){return function(t){t(function(n){return{type:r.zI,id:n}}(n)),e&&e()}},d=function(n,e){return function(t){t(function(n,e){return{type:r.WI,data:n,groupId:e}}(n,e))}},f=function(){return function(n){n({type:r.Kq})}},l=function(n,e){return function(t){t(function(n,e){return{type:r.bR,id:n,groupId:e}}(n,e))}},s=function(n,e,t){return function(a){a(function(n,e,t){return{type:r.CO,id:n,groupId:e,data:t}}(n,e,t))}},p=function(n,e){return function(t){t(function(n,e){return{type:r.gT,id:n,groupId:e}}(n,e))}},m=function(){return function(n){n({type:r.TQ})}},h=function(){return function(n){n({type:r.ZY})}},g=function(){return function(n){n({type:r.iZ})}},V=function(n){return function(e){e(function(n){return{type:r.t0,datas:n}}(n))}},w=function(){return function(n){n({type:r.oG})}},y=function(){return function(n){n({type:r.PY})}},Z=function(){return function(n){n({type:r.S_})}},v=function(){return function(n){n({type:r.UQ})}},x=function(){return function(n){n({type:r.m9})}},j=function(){return function(n){n({type:r.xT})}}},23381:function(n,e,t){t.r(e),e.default={}}}]);