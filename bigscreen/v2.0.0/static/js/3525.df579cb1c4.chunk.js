"use strict";(self.webpackChunklarge_screen_configuration=self.webpackChunklarge_screen_configuration||[]).push([[3525],{89880:function(e,t,l){l.d(t,{Ao:function(){return a}});const a=new class{constructor(){this.moveItem=new Map}set(e,t){this.moveItem.set(e,t)}remove(e){this.moveItem.delete(e)}get(e){return this.moveItem.get(e)}}},45073:function(e,t,l){l.d(t,{Z:function(){return i}});var a=l(67294),n=l(18045),o=l(81615),r=JSON.parse('{"color":["#c1232b","#27727b","#fcce10","#e87c25","#b5c334","#fe8463","#9bca63","#fad860","#f3a43b","#60c0dd","#d7504b","#c6e579","#f4e001","#f0805a","#26c0c0"],"backgroundColor":"transparent","textStyle":{},"title":{"textStyle":{"color":"#ffffff"},"subtextStyle":{"color":"rgba(255,255,255,0.5)"}},"line":{"itemStyle":{"borderWidth":"1"},"lineStyle":{"width":"2"},"symbolSize":"5","symbol":"emptyCircle","smooth":true},"radar":{"itemStyle":{"borderWidth":"1"},"lineStyle":{"width":"2"},"symbolSize":"5","symbol":"emptyCircle","smooth":true},"bar":{"itemStyle":{"barBorderWidth":"0","barBorderColor":"rgba(255,255,255,0.1)"}},"pie":{"itemStyle":{"borderWidth":"0","borderColor":"rgba(255,255,255,0.1)"}},"scatter":{"itemStyle":{"borderWidth":"0","borderColor":"rgba(255,255,255,0.1)"}},"boxplot":{"itemStyle":{"borderWidth":"0","borderColor":"rgba(255,255,255,0.1)"}},"parallel":{"itemStyle":{"borderWidth":"0","borderColor":"rgba(255,255,255,0.1)"}},"sankey":{"itemStyle":{"borderWidth":"0","borderColor":"rgba(255,255,255,0.1)"}},"funnel":{"itemStyle":{"borderWidth":"0","borderColor":"rgba(255,255,255,0.1)"}},"gauge":{"itemStyle":{"borderWidth":"0","borderColor":"rgba(255,255,255,0.1)"}},"candlestick":{"itemStyle":{"color":"#c1232b","color0":"#b5c334","borderColor":"#c1232b","borderColor0":"#b5c334","borderWidth":1}},"graph":{"itemStyle":{"borderWidth":"0","borderColor":"rgba(255,255,255,0.1)"},"lineStyle":{"width":1,"color":"#aaaaaa"},"symbolSize":"5","symbol":"emptyCircle","smooth":true,"color":["#c1232b","#27727b","#fcce10","#e87c25","#b5c334","#fe8463","#9bca63","#fad860","#f3a43b","#60c0dd","#d7504b","#c6e579","#f4e001","#f0805a","#26c0c0"],"label":{"color":"rgba(255,255,255,0.5)"}},"map":{"itemStyle":{"areaColor":"#dddddd","borderColor":"#eeeeee","borderWidth":0.5},"label":{"color":"#c1232b"},"emphasis":{"itemStyle":{"areaColor":"#fe994e","borderColor":"#444","borderWidth":1},"label":{"color":"rgb(100,0,0)"}}},"geo":{"itemStyle":{"areaColor":"#dddddd","borderColor":"#eeeeee","borderWidth":0.5},"label":{"color":"#c1232b"},"emphasis":{"itemStyle":{"areaColor":"#fe994e","borderColor":"#444","borderWidth":1},"label":{"color":"rgb(100,0,0)"}}},"categoryAxis":{"axisLine":{"show":true,"lineStyle":{"color":"rgba(255,255,255,0.2)"}},"axisTick":{"show":true,"lineStyle":{"color":"rgba(255,255,255,0.2)"}},"axisLabel":{"show":true,"color":"rgba(255,255,255,0.6)"},"splitLine":{"show":false,"lineStyle":{"color":["#ccc"]}},"splitArea":{"show":false,"areaStyle":{"color":["rgba(250,250,250,0.3)","rgba(200,200,200,0.3)"]}}},"valueAxis":{"axisLine":{"show":false,"lineStyle":{"color":"#333"}},"axisTick":{"show":false,"lineStyle":{"color":"#333"}},"axisLabel":{"show":true,"color":"rgba(255,255,255,0.6)"},"splitLine":{"show":true,"lineStyle":{"color":["rgba(255,255,255,0.2)"]}},"splitArea":{"show":false,"areaStyle":{"color":["rgba(250,250,250,0.3)","rgba(200,200,200,0.3)"]}}},"logAxis":{"axisLine":{"show":true,"lineStyle":{"color":"#27727b"}},"axisTick":{"show":true,"lineStyle":{"color":"#333"}},"axisLabel":{"show":true,"color":"#333"},"splitLine":{"show":true,"lineStyle":{"color":["#ccc"]}},"splitArea":{"show":false,"areaStyle":{"color":["rgba(250,250,250,0.3)","rgba(200,200,200,0.3)"]}}},"timeAxis":{"axisLine":{"show":true,"lineStyle":{"color":"#27727b"}},"axisTick":{"show":true,"lineStyle":{"color":"#333"}},"axisLabel":{"show":true,"color":"#333"},"splitLine":{"show":true,"lineStyle":{"color":["#ccc"]}},"splitArea":{"show":false,"areaStyle":{"color":["rgba(250,250,250,0.3)","rgba(200,200,200,0.3)"]}}},"toolbox":{"iconStyle":{"borderColor":"#c1232b"},"emphasis":{"iconStyle":{"borderColor":"#e87c25"}}},"legend":{"textStyle":{"color":"rgba(255,255,255,0.6)"}},"tooltip":{"axisPointer":{"lineStyle":{"color":"rgba(255,255,255,0.6)","width":1},"crossStyle":{"color":"rgba(255,255,255,0.6)","width":1}}},"timeline":{"lineStyle":{"color":"#293c55","width":1},"itemStyle":{"color":"#27727b","borderWidth":1},"controlStyle":{"color":"#27727b","borderColor":"#27727b","borderWidth":0.5},"checkpointStyle":{"color":"#c1232b","borderColor":"#c23531"},"label":{"color":"#293c55"},"emphasis":{"itemStyle":{"color":"#72d4e0"},"controlStyle":{"color":"#27727b","borderColor":"#27727b","borderWidth":0.5},"label":{"color":"#293c55"}}},"visualMap":{"color":["#c1232b","#fcce10"]},"dataZoom":{"backgroundColor":"rgba(0,0,0,0)","dataBackgroundColor":"rgba(181,195,52,0.3)","fillerColor":"rgba(181,195,52,0.2)","handleColor":"#27727b","handleSize":"100%","textStyle":{"color":"#999999"}},"markPoint":{"label":{"color":"rgba(255,255,255,0.5)"},"emphasis":{"label":{"color":"rgba(255,255,255,0.5)"}}}}');n.aW("infographic",r);var i=(0,a.memo)((e=>{const{theme:t,group:l,initOptions:n,option:r,updateOptions:i,loading:c=!1,loadingOptions:d,autoresize:m={}}=e,s=(0,a.useRef)(null),u=(0,a.useRef)(),p=(0,a.useRef)(0),g=(0,a.useRef)(-1),b=(0,a.useCallback)((()=>{if(!r.series||!r.series.length)return!1;u.current&&(p.current&&clearInterval(p.current),p.current=setInterval((()=>{var e,t,l,a;const n=r.series&&r.series.length?(null===(e=r.series[0])||void 0===e?void 0:e.data).length:0;null==u||null===(t=u.current)||void 0===t||t.dispatchAction({type:"downplay",seriesIndex:0}),g.current=(g.current+1)%n,null==u||null===(l=u.current)||void 0===l||l.dispatchAction({type:"highlight",seriesIndex:0,dataIndex:g.current}),null==u||null===(a=u.current)||void 0===a||a.dispatchAction({type:"showTip",seriesIndex:0,dataIndex:g.current})}),3e3))}),[u,p,r,g]),f=(0,a.useCallback)((e=>{var t,l;clearInterval(p.current),g.current=e.dataIndex,null==u||null===(t=u.current)||void 0===t||t.dispatchAction({type:"downplay",seriesIndex:0}),null==u||null===(l=u.current)||void 0===l||l.dispatchAction({type:"highlight",seriesIndex:0,dataIndex:g.current})}),[]),h=(0,a.useCallback)((()=>{s.current&&(u.current||(u.current=(0,o.S1)(s.current,t||"infographic",n)),l&&(u.current.group=l),c?u.current.showLoading(d):u.current.hideLoading(),r&&(u.current.setOption({...r,tooltip:{trigger:"axis",backgroundColor:"#000",borderColor:"rgba(255,255,255,.2)",padding:[8,8],textStyle:{color:"#fff",fontSize:14},...r.tooltip}},i),b()))}),[n,r,t,l,c,d,i,b]),v=(0,a.useCallback)((()=>{u.current&&(u.current.off("mouseover",f),u.current.off("mouseout",b),u.current.dispose(),u.current=void 0)}),[b,f]);return(0,a.useEffect)((()=>{h();const{onResize:e}=m,t=new ResizeObserver((t=>{var l;Array.isArray(t)&&t.length&&(null===(l=u.current)||void 0===l||l.resize(),null==e||e())}));return t.observe(s.current),()=>{v(),t.disconnect()}}),[v,h,m]),(0,a.useEffect)((()=>{u.current&&(u.current.on("mouseover",f),u.current.on("mouseout",b))}),[b,f]),a.createElement("div",{className:"cms-echarts",ref:s,style:{width:"100%",height:"100%"}})}),((e,t)=>JSON.stringify(e)===JSON.stringify(t)))},440:function(e,t,l){var a=l(67294),n=l(240);t.Z=e=>{let{datas:t,selectedId:l,onChange:o,configureValue:r}=e;return a.createElement("div",{className:"cms-config-layout__navigation",style:(0,n.Wi)(r||{},"navigationStyle")},t.map((e=>a.createElement("div",{key:e.pageId,onClick:()=>o(e.pageId),className:e.pageId===l?"is-active":""},e.name))))}},53525:function(e,t,l){var a=l(67294),n=l(2639),o=l(24618),r=l(88581),i=l(440);t.Z=e=>{let{open:t,onClose:l,title:c,width:d,height:m,pageType:s="widget",data:u}=e;return a.createElement(n.Z,{title:c,open:t,onClose:l,onCancel:l,centered:!0,width:"auto",footer:null},a.createElement("div",{style:{width:d+"px",height:m+"px",position:"relative"},className:"cms-preview-dialog"},"widget"===s?(e=>{var t;const[l,n]=(0,a.useState)((()=>e));return(0,a.useEffect)((()=>{n(e)}),[e]),a.createElement(o.Z,{data:l,configureValue:null==l||null===(t=l.configuration)||void 0===t?void 0:t.configureValue,isDroppable:!0,isResizable:!0,staticed:!0,onChangeParams:(e,t)=>{n((t=>{var l,a,n;return{...t,configuration:{...null==t?void 0:t.configuration,dataValue:{...null==t||null===(l=t.configuration)||void 0===l?void 0:l.dataValue,params:{...null==t||null===(a=t.configuration)||void 0===a||null===(n=a.dataValue)||void 0===n?void 0:n.params,...e}}}}}))}})})(u):null,"page"===s?(e=>{var t;const[l,n]=(0,a.useState)((()=>e));return(0,a.useEffect)((()=>{n(e)}),[e]),a.createElement(r.Z,{data:l||{},configureValue:null==l||null===(t=l.configuration)||void 0===t?void 0:t.configureValue,widgets:(null==l?void 0:l.widgets)||[],onChangeParams:(e,t)=>{n((l=>{const a=JSON.parse(JSON.stringify(l)),n=null==a?void 0:a.widgets.findIndex((e=>e.widgetId===t));var o,r,i,c,d,m;return-1!==n&&(a.widgets[n]={...a.widgets[n],configuration:{...null===(o=a.widgets[n])||void 0===o?void 0:o.configuration,dataValue:{...null===(r=a.widgets[n])||void 0===r||null===(i=r.configuration)||void 0===i?void 0:i.dataValue,params:{...null===(c=a.widgets[n])||void 0===c||null===(d=c.configuration)||void 0===d||null===(m=d.dataValue)||void 0===m?void 0:m.params,...e}}}}),a}))}})})(u):null,"project"===s?(e=>{var t,l;const[n,o]=(0,a.useState)((()=>e)),[c,d]=(0,a.useState)("");(0,a.useEffect)((()=>{var t,l;o(e),d(null==e||null===(t=e.pages)||void 0===t||null===(l=t[0])||void 0===l?void 0:l.pageId)}),[e]);const m=(0,a.useMemo)((()=>null==n?void 0:n.pages.find((e=>e.pageId===c))),[null==n?void 0:n.pages,c]);return a.createElement(a.Fragment,null,a.createElement(r.Z,{data:n||{},configureValue:null==n||null===(t=n.configuration)||void 0===t?void 0:t.configureValue,widgets:(null==m?void 0:m.widgets)||[],onChangeParams:(e,t)=>{var l;const a=JSON.parse(JSON.stringify(n));let r=a.pages.find((e=>e.pageId===c));const i=null==r||null===(l=r.widgets)||void 0===l?void 0:l.findIndex((e=>e.widgetId===t));var d,m,s,u,p,g;"number"==typeof i&&(r.widgets[i]={...r.widgets[i],configuration:{...null===(d=r.widgets[i])||void 0===d?void 0:d.configuration,dataValue:{...null===(m=r.widgets[i])||void 0===m||null===(s=m.configuration)||void 0===s?void 0:s.dataValue,params:{...null===(u=r.widgets[i])||void 0===u||null===(p=u.configuration)||void 0===p||null===(g=p.dataValue)||void 0===g?void 0:g.params,...e}}}},o(a))}}),a.createElement(i.Z,{configureValue:null==e||null===(l=e.configuration)||void 0===l?void 0:l.configureValue,datas:null==e?void 0:e.pages,selectedId:c,onChange:e=>{d(e)}}))})(u):null))}},88581:function(e,t,l){var a=l(72389),n=l(5676),o=l(67294),r=l(24618);t.Z=e=>{let{data:t,configureValue:l,isDroppable:i=!0,isResizable:c=!0,staticed:d=!0,selectedId:m,onDrop:s,onDragStop:u,onResizeStop:p,onClose:g,widgets:b,transformScale:f,onChangeParams:h}=e;const v=(0,o.useCallback)((e=>{let t={};for(let s=0;s<b.length;s++){var l,a,n,o,r,i,c,d,m;if(null!==(l=b[s])&&void 0!==l&&null!==(a=l.configuration)&&void 0!==a&&null!==(n=a.dataValue)&&void 0!==n&&n.linkageIds&&null!==(o=b[s])&&void 0!==o&&null!==(r=o.configuration)&&void 0!==r&&null!==(i=r.dataValue)&&void 0!==i&&i.linkageIds.includes(e))t={...t,...null===(c=b[s])||void 0===c||null===(d=c.configuration)||void 0===d||null===(m=d.dataValue)||void 0===m?void 0:m.params}}return t}),[b]);return o.createElement(n.Z,{data:t,header:o.createElement(a.Z,{datas:(null==b?void 0:b.filter((e=>"header"===e.position)))||[],selectedId:m,render:e=>o.createElement(r.Z,{data:e,linkageParams:v(e.widgetId),transformScale:f,configureValue:l,onChangeParams:h}),configureValue:l,row:1,column:null==l?void 0:l.horizontalNumber,onDrop:(e,t)=>null==s?void 0:s(e,t,"header"),isDroppable:i,isResizable:c,staticed:d,onDragStop:u,onResizeStop:p,onClose:g,transformScale:f}),body:o.createElement(a.Z,{datas:(null==b?void 0:b.filter((e=>"body"===e.position)))||[],selectedId:m,render:e=>o.createElement(r.Z,{transformScale:f,data:e,linkageParams:v(e.widgetId),configureValue:l,onChangeParams:h}),configureValue:l,row:null==l?void 0:l.verticalNumber,column:null==l?void 0:l.horizontalNumber,onDrop:(e,t)=>null==s?void 0:s(e,t,"body"),isDroppable:i,isResizable:c,staticed:d,onDragStop:u,onResizeStop:p,onClose:g,transformScale:f})})}},24618:function(e,t,l){l.d(t,{Z:function(){return A}});var a=l(67294),n=l(52861),o=l(240);var r=(0,a.memo)((e=>{const{method:t,url:l,params:r,render:i}=e,[c,d]=(0,a.useState)(null),[m,s]=(0,a.useState)(!1),[u,p]=(0,a.useState)(!1),g=(0,a.useCallback)((async()=>{l&&t&&(s(!0),await(0,o.pQ)(2e3),await(0,n.Z)({url:l,method:t,params:JSON.parse(r)}).then((e=>{s(!1),p(!0),d(e.data.data||e.data)})).catch((e=>{s(!1),p(!1)})))}),[t,r,l]);return(0,a.useEffect)((()=>{g()}),[g]),a.createElement(a.Fragment,null,i(m,u,c))})),i=l(48022),c=l(5676),d=l(72389);var m=l(97005);var s=l(45073);var u=(0,a.memo)((e=>{const{options:t,data:l,field:n}=e,r=(0,a.useMemo)((()=>{const e=(0,o.P2)(t),a=l&&l[n]?l[n]:[],{legendData:r,xAxisData:i,yAxisData:c,series:d}=(0,o.Cf)(a);return{...e,legend:{...e.legend,data:r},xAxis:{...e.xAxis,data:i},yAxis:{...e.yAxis,data:c},series:d?d.map((t=>({...e.line.series,...t}))):[]}}),[l,n,t]),i=(0,a.useMemo)((()=>(0,o.Wi)(t)),[t]);return a.createElement("div",{style:{...i,width:"100%",height:"100%"}},a.createElement(s.Z,{option:r}))})),p=l(18045),g=l(97234);var b=(0,a.memo)((e=>{const{options:t,data:l,field:n}=e,r=(0,a.useMemo)((()=>{const e=(0,o.P2)(t),a=l&&l[n]?l[n]:[],{legendData:r,xAxisData:i,yAxisData:c,series:d}=(0,o.Cf)(a),m=t=>e.color[t%(e.color.length-1)];return{...e,legend:{...e.legend,data:r},xAxis:{...e.xAxis,data:i},yAxis:{...e.yAxis,data:c},series:d?d.map(((l,a)=>({...e.bar.series,...l,itemStyle:{borderRadius:(null==t?void 0:t.barBorderRadius)||0,color:t.barGradation?new p.Q.o(0,0,"vertical"===t.barOrient?1:0,"vertical"===t.barOrient?0:1,[{offset:0,color:(0,g.Z)(m(a)).lighten(15).toString()},{offset:.5,color:m(a)},{offset:1,color:(0,g.Z)(m(a)).darken(15).toString()}]):m(a)}}))):[]}}),[l,n,t]),i=(0,a.useMemo)((()=>(0,o.Wi)(t)),[t]);return a.createElement("div",{style:{...i,width:"100%",height:"100%"}},a.createElement(s.Z,{option:r}))}));var f=(0,a.memo)((e=>{const{options:t,data:l,field:n}=e,r=(0,a.useMemo)((()=>{const e=(0,o.P2)(t),a=l&&l[n]?l[n]:[],{legendData:r,xAxisData:i,yAxisData:c,series:d}=(0,o.Cf)(a,"pie");return{...e,tooltip:{trigger:"item"},legend:{...e.legend,data:r,formatter:function(e){let a=["{a|"+e+"}"];if(1===l.series.length&&t.legendTotal){let t=0,n=0;for(let a=0;a<l.series[0].data.length;a++)t+=l.series[0].data[a].value,l.series[0].data[a].name===e&&(n=l.series[0].data[a].value);a.push("{b|"+(n/t*100).toFixed(2)+"%}")}return a.join("  ")},textStyle:{padding:[8,0,0,0],rich:{a:{fontSize:14,width:80,color:"#fff"},b:{fontSize:14,width:70,align:"right",color:"#fff"}}}},xAxis:{...e.xAxis,data:i},yAxis:{...e.yAxis,data:c},series:d?d.map(((l,n)=>({...e.pie.series,...l,data:a[n].data,itemStyle:{borderWidth:t.seriesItemStyleColorBorderWidth,borderColor:t.seriesItemStyleBorderColor,borderRadius:t.seriesItemStyleColorBorderRadius},center:[`${t.seriesHorizontalPosition}%`,`${t.seriesVerticalPosition}%`],emphasis:{scaleSize:t.emphasisScaleSize,label:{show:!0,fontSize:t.emphasisLabelFontSize,fontWeight:t.emphasisLabelFontWeight,color:t.emphasisLabelColor},itemStyle:{shadowBlur:t.emphasisStyleShadowBlur,shadowOffsetX:t.emphasisStyleShadowOffsetX,shadowOffsetY:t.emphasisStyleShadowOffsetY,shadowColor:t.emphasisStyleShadowColor}}}))):[]}}),[l,n,t]),i=(0,a.useMemo)((()=>(0,o.Wi)(t)),[t]);return a.createElement("div",{style:{...i,width:"100%",height:"100%"}},a.createElement(s.Z,{option:r}))})),h=l(41431);const v=e=>{let{data:t,field:l,options:n}=e;const r=(0,a.useMemo)((()=>(0,o.Wi)(n)),[n]);return a.createElement("div",{className:"cms-base-image",style:r},a.createElement(h.Z,{width:"100%",height:"100%",src:t&&t[l]?t[l]:"https://zos.alipayobjects.com/rmsportal/jkjgkEfvpUPVyRjUImniVslZfWPnJuuZ.png"}))};var y=l(36869),E=l(98678);var S=e=>{let{loop:t=!1,spaceBetween:l=0,slidesPerView:n=1,rows:o=1,pagination:r=!1,navigation:i=!1,autoplay:c=!1,datas:d=[],direction:m="horizontal",render:s}=e;const u=(0,a.useMemo)((()=>{let e=[];return c&&e.push(E.pt),r&&e.push(E.tl),i&&e.push(E.W_),e}),[c,i,r]),p=(0,a.useRef)(null);return(0,a.useEffect)((()=>{setTimeout((()=>{var e,t,l,a,n,o;c?null===(e=p.current)||void 0===e||null===(t=e.swiper)||void 0===t||null===(l=t.autoplay)||void 0===l||l.start():null===(a=p.current)||void 0===a||null===(n=a.swiper)||void 0===n||null===(o=n.autoplay)||void 0===o||o.stop()}),100)}),[c]),a.createElement("div",{className:"cms-swiper"},a.createElement(y.tq,{ref:p,loop:t,spaceBetween:l,slidesPerView:n,modules:u,navigation:i,pagination:r,direction:m},new Array(Math.ceil(d.length/o)).fill(null).map(((e,t)=>a.createElement(y.o5,{key:t},new Array(o).fill(null).map(((e,n)=>a.createElement("div",{style:{display:"flex",alignItems:"center",height:100/o+"%",marginTop:`${l}px`},key:n},s&&t*o+n<d.length&&s(null==d?void 0:d[t*o+n],t*o+n)))))))))};const N=(0,a.memo)((e=>{const{data:t,field:l,options:n}=e,r=(0,a.useMemo)((()=>(0,o.Wi)(n)),[n]);return a.createElement("div",{className:"cms-banner",style:r},a.createElement(S,{loop:n.loop||!1,autoplay:n.autoplay||!1,datas:t[l]||[],rows:n.rows||1,slidesPerView:n.slidesPerView||1,spaceBetween:n.spaceBetween||0,pagination:n.pagination||!1,navigation:n.navigation||!1,render:e=>a.createElement("img",{src:e.src,alt:e.name,width:"100%",height:"100%"})}))}));var w=(0,a.memo)((e=>{const{data:t,field:l,options:n}=e,r=(0,a.useMemo)((()=>(0,o.Wi)(n)),[n]),i=(0,a.useMemo)((()=>t[l]&&t[l].length>n.slidesPerView&&t[l].length%2==1?[...t[l],...t[l]]:t[l]),[t,l,n.slidesPerView]);return a.createElement("div",{className:"cms-table",style:r},a.createElement("div",{className:"cms-table__header",style:{background:n.tableHeaderBackgroudColor,color:n.tableHeaderColor,display:n.tableShowHeader?"flex":"none"}},n.tableColumn.map(((e,t)=>a.createElement("div",{key:t,className:"cms-table__cell",style:{width:`${e.width}px`,flex:e.width?"none":1,justifyContent:"right"===e.align?"end":"start"}},e.title)))),a.createElement("div",{className:"cms-table__body",style:{color:n.tableTbodyColor}},a.createElement(S,{loop:n.loop||!1,autoplay:n.autoplay||!1,datas:i,rows:n.rows||1,slidesPerView:n.slidesPerView||1,spaceBetween:n.spaceBetween||0,direction:"vertical",render:(e,t)=>a.createElement("div",{key:t,className:"cms-table__row",style:t%2==0?(0,o.Wi)(n,"tableTbodyOdd"):(0,o.Wi)(n,"tableTbodyEven")},n.tableColumn.map(((l,r)=>a.createElement("div",{key:r,className:"cms-table__cell",style:{width:`${l.width}px`,flex:l.width?"none":1,justifyContent:"right"===l.align?"end":"start"}},"index"===l.dataIndex?a.createElement("span",{className:"cms-table__serialNumber "+(n.serialNumberRank?"is-"+t:""),style:(0,o.Wi)(n,"serialNumber")},t+1):((e,t)=>"progress"===t?a.createElement("div",{className:"cms-table__progress",style:{background:n.progressBackgroundColor}},a.createElement("div",{style:{width:e,background:n.progressForegroundColor}})):a.createElement(a.Fragment,null,e))(e[l.dataIndex],l.components)))))})))})),x=l(16117);var I=l(34041);var C={BaseText:e=>{let{data:t,field:l,options:n}=e;const r=(0,a.useMemo)((()=>(0,o.Wi)(n)),[n]),i=(0,a.useMemo)((()=>(0,o.Wi)(n,"iconStyle")),[n]);return a.createElement("div",{className:"cms-base-text",style:r},n.iconStyleSelect?a.createElement("span",{className:"cms-icon",style:i,dangerouslySetInnerHTML:{__html:n.iconStyleSelect}}):null,t&&t[l]?t[l]:"文本框")},Line:u,Bar:b,CountUp:e=>{let{data:t,field:n,options:r}=e;const i=(0,a.useRef)(null),c=(0,a.useRef)(null),d=(0,a.useMemo)((()=>(0,o.Wi)(r)),[r]),m=(0,a.useMemo)((()=>(0,o.Wi)(r,"countUpStyle")),[r]),s=(0,a.useMemo)((()=>(0,o.Wi)(r,"addonBeforeStyle")),[r]),u=(0,a.useMemo)((()=>(0,o.Wi)(r,"addonAfterStyle")),[r]),p=(0,a.useCallback)((async()=>{const e=await l.e(8273).then(l.bind(l,8273));c.current=new e.CountUp(i.current,t[n],{decimalPlaces:2}),c.current.error||c.current.start()}),[t,n]);return(0,a.useEffect)((()=>(p(),()=>{c.current=null})),[p]),a.createElement("div",{className:"cms-countUp",style:d},r.addonBefore&&a.createElement("div",{className:"cms-countUp__before",style:s},r.addonBefore),a.createElement("div",{className:"cms-countUp__content",ref:i,style:m}),r.addonAfter&&a.createElement("div",{className:"cms-countUp__aftter",style:u},r.addonAfter))},Pie:f,MessageText:e=>{let{data:t,field:l,options:n}=e;const r=(0,a.useMemo)((()=>(0,o.Wi)(n)),[n]),i=(0,a.useMemo)((()=>(0,o.Wi)(n,"iconStyle")),[n]);return a.createElement("div",{className:"cms-message-text",style:r},a.createElement("span",{className:"cms-icon",style:i},""),a.createElement(m.Z,{pauseOnHover:!0,gradient:!1},t&&t[l]?t[l]:"I can be a React component, multiple React components, or just some text."))},BaseImage:v,BaseBanner:N,DateText:e=>{let{options:t}=e;const l=(0,a.useRef)(null),[n,r]=(0,a.useState)((()=>(0,o.G$)((new Date).getTime(),"yyyy-MM-dd hh:mm:ss"))),i=(0,a.useCallback)((()=>{r((0,o.G$)((new Date).getTime(),t.fmtDate||"yyyy-MM-dd hh:mm:ss"))}),[t.fmtDate]);return(0,a.useEffect)((()=>(l.current=setInterval(i,1e3),()=>{clearInterval(l.current)})),[l,i]),a.createElement("div",{style:(0,o.Wi)(t)},n)},Table:w,FormRadio:e=>{let{options:t,data:l,field:n,other:o}=e;const r=(0,a.useMemo)((()=>l&&l[n]&&Array.isArray(l[n])?l[n]:[]),[l,n]),i=(0,a.useMemo)((()=>{var e;return(null==o||null===(e=o.params)||void 0===e?void 0:e[null==o?void 0:o.paramName])||(r.length?r[0].value:"")}),[r,null==o?void 0:o.paramName,null==o?void 0:o.params]);return a.createElement("div",{className:"cms-form__radio",style:{justifyContent:t.radioTextAlign}},a.createElement(x.ZP.Group,{value:i,size:null==t?void 0:t.radioSize,onChange:e=>{var t;null==o||null===(t=o.onChangeHandler)||void 0===t||t.call(o,e.target.value)},optionType:(null==t?void 0:t.radioOptionType)||"default"},r.map((e=>a.createElement(x.ZP,{value:e.value,key:e.value},e.label)))))},FormSelect:e=>{let{options:t,data:l,field:n,other:o}=e;const r=(0,a.useMemo)((()=>l&&l[n]&&Array.isArray(l[n])?l[n]:[]),[l,n]),i=(0,a.useMemo)((()=>{var e;return(null==o||null===(e=o.params)||void 0===e?void 0:e[null==o?void 0:o.paramName])||(r.length?r[0].value:"")}),[r,null==o?void 0:o.paramName,null==o?void 0:o.params]);return a.createElement("div",{className:"cms-form__select",style:{justifyContent:t.radioTextAlign}},a.createElement(I.default,{value:i,size:null==t?void 0:t.radioSize,onChange:e=>{var t;null==o||null===(t=o.onChangeHandler)||void 0===t||t.call(o,e)}},r.map((e=>a.createElement(I.default.Option,{value:e.value,key:e.value},e.label)))))}};var k=e=>{let{data:t,realData:l,params:n,onChangeParams:r,widgetId:i}=e;const[c,d]=(0,a.useState)(!1);return(0,a.useEffect)((()=>{const e=setTimeout((()=>{d(!0)}),300);return()=>{clearTimeout(e)}}),[]),c?t.element&&C[(0,o.fm)(t.element)]?a.createElement(C[(0,o.fm)(t.element)],{options:t.configuration.configureValue,data:null!==(m=t.configuration)&&void 0!==m&&null!==(s=m.dataValue)&&void 0!==s&&s.useInterface?l||{}:null===(u=t.configuration)||void 0===u||null===(p=u.dataValue)||void 0===p?void 0:p.mock,field:null===(g=t.configuration)||void 0===g||null===(b=g.dataValue)||void 0===b?void 0:b.field,other:"form"===t.type?{onChangeHandler:e=>{var l,a;null==r||r({[null===(l=t.configuration)||void 0===l||null===(a=l.dataValue)||void 0===a?void 0:a.paramName]:e},i)},params:n||{},paramName:null===(f=t.configuration)||void 0===f||null===(h=f.dataValue)||void 0===h?void 0:h.paramName}:null}):a.createElement("div",null,"你访问的组件不存在请联系售后人员"):null;var m,s,u,p,g,b,f,h},_=l(83309);var A=e=>{var t,l,n,o,m,s;let{data:u,configureValue:p,isDroppable:g=!0,isResizable:b=!0,staticed:f=!0,selectedId:h,onDrop:v,onDragStop:y,onResizeStop:E,onClose:S,transformScale:N=1,onChangeParams:w,linkageParams:x={}}=e;const[I,C]=(0,a.useState)(!1);return(0,a.useEffect)((()=>{const e=setTimeout((()=>{C(!0)}),200);return()=>{clearTimeout(e)}}),[]),a.createElement(a.Fragment,null,I?a.createElement(r,{method:null==u||null===(t=u.configuration)||void 0===t||null===(l=t.dataValue)||void 0===l?void 0:l.method,url:null==u||null===(n=u.configuration)||void 0===n||null===(o=n.dataValue)||void 0===o?void 0:o.url,params:JSON.stringify({...(null==u||null===(m=u.configuration)||void 0===m||null===(s=m.dataValue)||void 0===s?void 0:s.params)||{},...x}),render:(e,t,l)=>{var n,o;return a.createElement(a.Fragment,null,e?a.createElement("div",{style:{position:"absolute",left:0,right:0,top:0,bottom:0,width:(null==u||null===(n=u.configuration)||void 0===n?void 0:n.width)+"px",height:(null==u||null===(o=u.configuration)||void 0===o?void 0:o.height)+"px",zIndex:1e3}},a.createElement(i.Z,{style:{position:"absolute",left:"50%",top:"50%",transform:"tranlate(-50%, -50%)",zIndex:1e3}})):null,a.createElement(c.Z,{data:u,header:a.createElement(d.Z,{datas:(null==u?void 0:u.elements.filter((e=>"header"===e.position)))||[],transformScale:N,selectedId:h,configureValue:p,column:_.yt,row:_.GK,gap:_.gq,render:e=>{var t,n;return a.createElement(k,{data:e,realData:l,widgetId:u.widgetId,params:null==u||null===(t=u.configuration)||void 0===t||null===(n=t.dataValue)||void 0===n?void 0:n.params,onChangeParams:w})},isDroppable:g,isResizable:b,staticed:f,onDrop:(e,t)=>null==v?void 0:v(e,t,"header"),onDragStop:y,onResizeStop:E,onClose:S}),body:a.createElement(d.Z,{configureValue:p,datas:(null==u?void 0:u.elements.filter((e=>"body"===e.position)))||[],transformScale:N,selectedId:h,column:_.UK,row:_.XR,gap:_.hU,render:e=>{var t,n;return a.createElement(k,{data:e,realData:l,widgetId:u.widgetId,params:null==u||null===(t=u.configuration)||void 0===t||null===(n=t.dataValue)||void 0===n?void 0:n.params,onChangeParams:w})},isDroppable:g,isResizable:b,staticed:f,onDrop:(e,t)=>null==v?void 0:v(e,t,"body"),onDragStop:y,onResizeStop:E,onClose:S})}))}}):null)}},56664:function(e,t,l){l.d(t,{G6:function(){return p},Gd:function(){return S},My:function(){return _},is:function(){return Z},zc:function(){return T},JE:function(){return f},k1:function(){return ge},yO:function(){return q},$X:function(){return me},Kp:function(){return ie},TC:function(){return F},vD:function(){return pe},JB:function(){return se},S5:function(){return ue},hp:function(){return le}});var a=l(67294),n=l(89250),o=l(24404),r=l(2639),i=l(48093),c=l(71258),d=l(34002),m=l(83309);var s=e=>{let{name:t,open:l,onClose:n,pageType:s,modifyNameSuccessHander:u}=e;return a.createElement(r.Z,{open:l,onClose:n,onCancel:n,footer:null,title:`${t?"修改":"新增"}${m.E0[s]}名称`,destroyOnClose:!0},a.createElement(i.Z,{onFinish:e=>{null==u||u(e.name),o.ZP.success("保存成功"),n()},initialValues:{name:t||""},autoComplete:"off"},a.createElement(i.Z.Item,{name:"name",rules:[{required:!0,message:`请输入${m.E0[s]}名称`}]},a.createElement(c.Z,{placeholder:`请输入${m.E0[s]}名称`})),a.createElement(i.Z.Item,null,a.createElement(d.ZP,{type:"primary",htmlType:"submit",block:!0},"保存"))))},u=l(46148);const p=e=>{let{name:t,logo:l,pageType:o,modifyNameSuccessHander:r,previewHandler:i,publishHandler:c}=e;const{$t:d}=(0,a.useContext)(u.R),m=(0,n.s0)(),[p,g]=(0,a.useState)(!1);return a.createElement(a.Fragment,null,a.createElement("div",{className:"cms-config-layout__header"},a.createElement("div",{className:"cms-config-layout__header--left"},a.createElement("span",{className:"cms-icon logo",dangerouslySetInnerHTML:{__html:l||"&#xe625;"}}),a.createElement("h1",{className:"name"},t),a.createElement("span",{className:"cms-icon edit",onClick:()=>g(!0)},"")),a.createElement("div",{className:"cms-config-layout__header--right"},a.createElement("div",{className:"preview",onClick:i},a.createElement("i",{className:"cms-icon"},""),d("operation_view")),a.createElement("div",{className:"publish",onClick:c},a.createElement("i",{className:"cms-icon"},""),d("operation_publish")),a.createElement("div",{className:"preview",onClick:()=>m(-1)},a.createElement("i",{className:"cms-icon"},""),d("operation_return")))),a.createElement(s,{name:t||"",pageType:o,open:p,onClose:()=>g(!1),modifyNameSuccessHander:r}))};var g=()=>{const e=Array.from(new Array(100).keys());return a.createElement("div",{className:"cms-config-layout__ruler"},a.createElement("div",{className:"cms-config-layout__ruler--hwrapper"},a.createElement("div",{className:"cms-config-layout__ruler--h"},a.createElement("span",{className:"ruler-h-50"},a.createElement("b",null,"50"),a.createElement("i",null),a.createElement("i",null),a.createElement("i",null),a.createElement("i",null),a.createElement("i",null),a.createElement("i",null),a.createElement("i",null),a.createElement("i",null),a.createElement("i",null),a.createElement("i",null)),e.map(((e,t)=>a.createElement("span",{className:"ruler-h-50",key:t},a.createElement("b",null,50*t),a.createElement("i",null),a.createElement("i",null),a.createElement("i",null),a.createElement("i",null),a.createElement("i",null),a.createElement("i",null),a.createElement("i",null),a.createElement("i",null),a.createElement("i",null),a.createElement("i",null)))))),a.createElement("div",{className:"cms-config-layout__ruler--vwrapper"},a.createElement("div",{className:"cms-config-layout__ruler--v"},a.createElement("span",{className:"ruler-h-50"},a.createElement("b",null,"50"),a.createElement("i",null),a.createElement("i",null),a.createElement("i",null),a.createElement("i",null),a.createElement("i",null),a.createElement("i",null),a.createElement("i",null),a.createElement("i",null),a.createElement("i",null),a.createElement("i",null)),e.map(((e,t)=>a.createElement("span",{className:"ruler-h-50",key:t},a.createElement("b",null,50*t),a.createElement("i",null),a.createElement("i",null),a.createElement("i",null),a.createElement("i",null),a.createElement("i",null),a.createElement("i",null),a.createElement("i",null),a.createElement("i",null),a.createElement("i",null),a.createElement("i",null)))))))},b=l(54732);const f=e=>{let{children:t,style:l,id:n,scale:o,setScale:r}=e;return a.createElement("div",{className:"cms-config-layout__main"},a.createElement("div",{className:"cms-config-layout__body"},a.createElement("div",{className:"cms-config-layout__center"},a.createElement(g,null),a.createElement("div",{id:n,style:{...l,transform:`scale(${o?o/100:1})`,transformOrigin:"0 0"}},t))),o&&r?a.createElement("div",{className:"cms-config-layout__footer"},a.createElement("span",null,"缩放比例："),a.createElement(b.Z,{tooltip:{formatter:e=>`${e}%`,open:!0},style:{width:300},min:50,max:100,defaultValue:o,onChange:e=>{r(e)}})):null)};var h=l(53807),v=l(54549);var y=e=>{let{title:t,children:l,onClose:n}=e;return a.createElement("div",{className:"cms-box",style:{display:t?"flex":"none"}},a.createElement("div",{className:"cms-box__header"},a.createElement("div",{className:"name"},t),a.createElement(v.Z,{onClick:n})),a.createElement("div",{className:"cms-box__body"},l))};const E=[{icon:"&#xe652;",type:"element"},{icon:"&#xe634;",type:"widget"},{icon:"&#xe625;",type:"page"},{icon:"&#xe628;",type:"project"}],S=e=>{let{render:t,navs:l}=e;const[n,o]=(0,a.useState)("element"),[r,i]=(0,a.useState)([]);return(0,a.useEffect)((()=>{i((()=>E.filter((e=>l.includes(e.type))))),o(l[0])}),[l,i,o]),a.createElement("div",{className:"cms-config-layout__leftAside"},a.createElement("ul",{className:"cms-config-layout__leftAside--tabs"},r.map((e=>a.createElement("li",{className:"cms-config-layout__leftAside--tabItem "+(n===e.type?"is-active":""),onClick:()=>o(e.type),key:e.type},a.createElement(h.Z,{placement:"left",title:m.E0[e.type]},a.createElement("i",{className:"cms-icon",dangerouslySetInnerHTML:{__html:e.icon}})))))),a.createElement("div",{className:"cms-config-layout__leftAside--tabContent",style:{borderRight:n?"1px solid var(--cms-divider-color)":"none"}},a.createElement(y,{title:n?m.E0[n]:"",onClose:()=>o("")},t(n))))};var N=l(32008),w=l(41431),x=l(45795),I=l(89880);var C=e=>{let{title:t,children:l,data:n,groupName:o="DrapDrop"}=e;return a.createElement("div",{className:"cms-drag__item",draggable:!0,onDragStart:e=>{I.Ao.set(o,n)},onDragEnd:e=>{I.Ao.remove(o)}},a.createElement("div",{className:"cms-drag__item--body"},l),a.createElement("div",{className:"cms-drag__item--footer"},t))};const k=["text","image","table","line","bar","pie","form"],_=()=>{var e,t;const[l,n]=(0,a.useState)("text"),{getElements:o,elementsList:r,elementsLoading:i}=(0,N.Rm)();return(0,a.useEffect)((()=>{o()}),[o]),a.createElement("div",{className:"cms-config-layout__elements"},a.createElement("ul",{className:"cms-config-layout__elements--left"},k.map((e=>a.createElement("div",{key:e,className:l===e?"is-active":"",onClick:()=>n(e)},m.JN[e])))),a.createElement("div",{className:"cms-config-layout__elements--right"},null===(e=r.filter((e=>e.type===l)))||void 0===e?void 0:e.map((e=>a.createElement(C,{key:e.code,title:e.name,data:e,groupName:"elements"},a.createElement(w.Z,{width:174,height:86,src:`./elements/${e.code}.png`,preview:!1})))),!i&&!(null!==(t=r.filter((e=>e.type===l)))&&void 0!==t&&t.length)&&a.createElement(x.Z,{image:x.Z.PRESENTED_IMAGE_SIMPLE})))},A=["text","image","table","line","bar","pie"],T=()=>{var e,t;const[l,n]=(0,a.useState)("text"),{getWidgets:o,widgetsLoading:r,widgetsList:i}=(0,N.DA)();return(0,a.useEffect)((()=>{o()}),[o]),a.createElement("div",{className:"cms-config-layout__widgets"},a.createElement("ul",{className:"cms-config-layout__widgets--left"},A.map((e=>a.createElement("div",{key:e,className:l===e?"is-active":"",onClick:()=>n(e)},m.JN[e])))),a.createElement("div",{className:"cms-config-layout__widgets--right"},null===(e=i.filter((e=>e.type===l)))||void 0===e?void 0:e.map((e=>a.createElement(C,{key:e.widgetId,title:e.name,data:e,groupName:"elements"},a.createElement(w.Z,{width:174,src:e.url,preview:!1})))),!r&&!(null!==(t=i.filter((e=>e.type===l)))&&void 0!==t&&t.length)&&a.createElement(x.Z,{image:x.Z.PRESENTED_IMAGE_SIMPLE})))},Z=e=>{let{onClick:t}=e;const{getPages:l,pagesList:n,pagesLoading:o}=(0,N.xw)();return(0,a.useEffect)((()=>{l()}),[l]),a.createElement("div",{className:"cms-config-layout__pages"},a.createElement("div",{className:"cms-config-layout__pages--right"},null==n?void 0:n.map((e=>a.createElement("div",{className:"cms-config-layout__pages--item",key:e.pageId,onClick:()=>t(e)},a.createElement(w.Z,{width:220,src:e.url,preview:!1}),a.createElement("div",{className:"name"},e.name)))),!o&&!(null!=n&&n.length)&&a.createElement(x.Z,{image:x.Z.PRESENTED_IMAGE_SIMPLE})))},V=[{icon:"&#xe63c;",type:"layer"},{icon:"&#xe652;",type:"element"},{icon:"&#xe634;",type:"widget"},{icon:"&#xe62e;",type:"data"},{icon:"&#xe625;",type:"page"},{icon:"&#xe628;",type:"project"},{icon:"&#xe61c;",type:"linkage"}],q=e=>{let{render:t,navs:l,onChange:n}=e;const[o,r]=(0,a.useState)("element"),[i,c]=(0,a.useState)([]);return(0,a.useEffect)((()=>{c((()=>V.filter((e=>l.includes(e.type))))),r(l[0]),null==n||n(l[0])}),[l,c,r,n]),a.createElement("div",{className:"cms-config-layout__rightAside"},a.createElement("div",{className:"cms-config-layout__rightAside--tabContent",style:{borderLeft:o?"1px solid var(--cms-divider-color)":"none"}},a.createElement(y,{title:""+(o?m.E0[o]+"配置":""),onClose:()=>{r(""),null==n||n("")}},t(o))),a.createElement("ul",{className:"cms-config-layout__rightAside--tabs"},i.map((e=>a.createElement("li",{className:"cms-config-layout__rightAside--tabItem "+(o===e.type?"is-active":""),onClick:()=>{r(e.type),null==n||n(e.type)},key:e.type},a.createElement(h.Z,{placement:"left",title:`${m.E0[e.type]}配置`},a.createElement("i",{className:"cms-icon",dangerouslySetInnerHTML:{__html:e.icon}})))))))};var P=l(91816),M=l(63258),D=l(44545),B=l(55241);const z=e=>{const{datas:t,pageId:l,widgetId:n,elementId:o,onSelected:r,pid:i,projectId:c,pageType:d,onEditHandler:m,onDeleteHandler:s,setSelect:u}=e;return t.map(((e,t)=>{var p,g,b,f,h,v;return a.createElement("div",{className:"cms-config-layout__layer--item",key:t},a.createElement("div",{className:"title "+(e.projectId===c&&c||e.pageId===l&&l||e.widgetId===n&&n||e.elementId===o&&o?"is-active":"")},null!=e&&null!==(p=e.pages)&&void 0!==p&&p.length||null!=e&&null!==(g=e.widgets)&&void 0!==g&&g.length||null!=e&&null!==(b=e.elements)&&void 0!==b&&b.length?a.createElement(P.Z,null):a.createElement(M.Z,null)," ",a.createElement("div",{className:"name",onClick:()=>null==r?void 0:r(e.projectId?"project":e.pageId?"page":e.widgetId?"widget":"element",e.projectId||e.pageId||e.widgetId||e.elementId,i)},e.name),e.widgetId&&d&&["project","page"].includes(d)||e.elementId&&d&&["element"].includes(d)?a.createElement("div",{className:"controls"},a.createElement(B.Z,{content:a.createElement("div",{className:"project-controls"},a.createElement("p",{onClick:()=>null==u?void 0:u((t=>({...t,name:e.name,pageType:e.projectId?"project":e.pageId?"page":e.widgetId?"widget":"element",pId:i,id:e.projectId||e.pageId||e.widgetId||e.elementId,show:!0})))},"编辑"),a.createElement("p",{onClick:()=>null==s?void 0:s(e.projectId?"project":e.pageId?"page":e.widgetId?"widget":"element",e.projectId||e.pageId||e.widgetId||e.elementId,i)},"删除"))},a.createElement(D.Z,null))):null),null!=e&&null!==(f=e.pages)&&void 0!==f&&f.length||null!=e&&null!==(h=e.widgets)&&void 0!==h&&h.length||null!=e&&null!==(v=e.elements)&&void 0!==v&&v.length?a.createElement(a.Fragment,null,z({datas:(null==e?void 0:e.pages)||e.widgets||e.elements,pageId:l,widgetId:n,elementId:o,onSelected:r,pid:e.pageId||e.widgetId||e.elementId,projectId:c,pageType:d,onEditHandler:m,onDeleteHandler:s,setSelect:u})):null)}))},F=e=>{let{datas:t,widgetId:l,elementId:n,pageId:o,onSelected:r,projectId:i,pageType:c,onEditHandler:d,onDeleteHandler:m}=e;const[u,p]=(0,a.useState)((()=>({pageType:"",name:"",id:"",pId:"",show:!1}))),g=(0,a.useCallback)((e=>{null==d||d(u.pageType,u.id,e,u.pId)}),[d,u.id,u.pId,u.pageType]);return a.createElement("div",{className:"cms-config-layout__layer"},a.createElement(s,{onClose:()=>p((e=>({...e,id:"",pId:"",name:"",pageType:"",show:!1}))),name:u.name,pageType:u.pageType,open:u.show,modifyNameSuccessHander:g}),t.length?z({datas:t,pageId:o,widgetId:l,elementId:n,onSelected:r,projectId:i,pageType:c,onEditHandler:d,onDeleteHandler:m,setSelect:p}):a.createElement(x.Z,{image:x.Z.PRESENTED_IMAGE_SIMPLE}))};var R=l(34913),W=l(34041),H=l(91153),O=l(32904),L=l(16553),Y=l(13807),j=l.n(Y);var $=e=>{let{value:t,onChange:l,options:n={}}=e;const o=(0,a.useRef)(null),r=(0,a.useRef)(null),i=(0,a.useCallback)((()=>{if(!r.current){const e={mode:"code",onChange:()=>{var e;l&&l(null===(e=r.current)||void 0===e?void 0:e.get())},...n};r.current=new(j())(o.current,e,t)}}),[l,n,t]);return(0,a.useEffect)((()=>{i()}),[i]),(0,a.useEffect)((()=>()=>{r.current&&r.current.destroy()}),[r]),a.createElement("div",{ref:o,className:"cms-json-editor"})},U=l(56860);const{Option:X}=W.default;var J=e=>{let{item:t,form:l,callback:n,formSubmit:o}=e;return a.createElement(a.Fragment,null,"Input"===t.componentName&&a.createElement(i.Z.Item,{label:t.label,name:t.name,tooltip:t.tooltip,rules:[{required:t.required}],validateTrigger:"onBlur"},a.createElement(c.Z,{size:"small",allowClear:!0,disabled:t.disabled,placeholder:t.placeholder,onBlur:e=>!o&&n(t.name,e.target.value)})),"InputNumber"===t.componentName&&a.createElement(i.Z.Item,{label:t.label,name:t.name,tooltip:t.tooltip,validateTrigger:"onBlur",rules:[{required:t.required}]},a.createElement(H.Z,{size:"small",disabled:t.disabled,min:t.min,max:t.max,style:{width:"100%"},addonAfter:t.addonAfter||"",placeholder:t.placeholder,onBlur:e=>!o&&n(t.name,e.target.value)})),"TextArea"===t.componentName&&a.createElement(i.Z.Item,{label:t.label,name:t.name,tooltip:t.tooltip,rules:[{required:t.required}],validateTrigger:"onBlur"},a.createElement(U.Z,{size:"small",allowClear:!0,disabled:t.disabled,rows:8,placeholder:t.placeholder,onBlur:e=>!o&&n(t.name,e.target.value)})),"Switch"===t.componentName&&a.createElement(i.Z.Item,{label:t.label,name:t.name,tooltip:t.tooltip,valuePropName:"checked",rules:[{required:t.required}]},a.createElement(O.Z,{size:"small",disabled:t.disabled,onChange:e=>!o&&n(t.name,e)})),"Slider"===t.componentName&&a.createElement(i.Z.Item,{label:t.label,name:t.name,tooltip:t.tooltip,rules:[{required:t.required}]},a.createElement(b.Z,{min:t.min||0,max:t.max||100,disabled:t.disabled,step:t.step||1,onChangeComplete:e=>!o&&n(t.name,e)})),"Select"===t.componentName&&a.createElement(i.Z.Item,{label:t.label,name:t.name,tooltip:t.tooltip,rules:[{required:t.required}]},a.createElement(W.default,{size:"small",allowClear:!0,disabled:t.disabled,placeholder:t.placeholder,onChange:e=>!o&&n(t.name,e)},t.options.map((e=>a.createElement(X,{key:e.code,value:e.code},a.createElement("div",{className:""+("iconStyleSelect"===t.name?"cms-icon":""),dangerouslySetInnerHTML:{__html:e.name}})))))),"SketchPicker"===t.componentName&&a.createElement(i.Z.Item,{label:t.label,name:t.name,rules:[{required:t.required}]},a.createElement(L.Z,{size:"small",allowClear:!0,format:"hex",showText:!0,disabled:t.disabled,onChangeComplete:e=>o?l.setFieldValue(t.name,`#${e.toHex()}`):n(t.name,`#${e.toHex()}`)})),"JsonEdit"===t.componentName&&a.createElement(i.Z.Item,{name:t.name,tooltip:t.tooltip,rules:[{required:t.required}]},a.createElement(i.Z.Item,{shouldUpdate:!0,noStyle:!0},a.createElement("div",{style:{paddingBottom:10}},t.label,":"),a.createElement($,{value:l.getFieldValue(t.name),onChange:e=>o?l.setFieldValue(t.name,e):n(t.name,e)}))))};const{Panel:G}=R.default,K=(e,t)=>Object.prototype.toString.call(e)===t,Q=e=>{let{datas:t,form:l,callback:n,formSubmit:o}=e;return t.map(((e,t)=>{if(K(e,"[object Object]")){const r=void 0!==e.relationFields?e.relationFields.split(","):[];return a.createElement("div",{key:t},r.length?a.createElement(i.Z.Item,{noStyle:!0,shouldUpdate:!0},(t=>{let{getFieldValue:i}=t;if(r.every((t=>e.relationValues.includes(String(i(t))))))return a.createElement(J,{item:e,form:l,callback:n,formSubmit:o})})):a.createElement(J,{item:e,form:l,callback:n,formSubmit:o}))}return K(e,"[object Array]")?a.createElement("div",{key:t},e.map(((e,r)=>{const c=void 0!==e.relationFields?e.relationFields.split(","):[];return a.createElement(R.default,{key:r,size:"small",defaultActiveKey:["0-0"],bordered:!1},void 0===e.relationFields?a.createElement(G,{header:e.name,key:`${t}-${r}`},a.createElement(Q,{formSubmit:o,datas:e.list,form:l,callback:n})):a.createElement(i.Z.Item,{noStyle:!0,shouldUpdate:!0},(i=>{let{getFieldValue:d}=i;if(c.every((t=>e.relationValues.includes(String(d(t))))))return a.createElement(R.default,{key:r,size:"small",bordered:!1},a.createElement(G,{header:e.name,key:`${t}-${r}`},a.createElement(Q,{formSubmit:o,datas:e.list,form:l,callback:n})))})))}))):null}))};var ee=Q,te=l(52741);const le=e=>{let{configureValue:t,onFinish:l}=e;const[n]=i.Z.useForm();return a.createElement("div",{className:"cms-config-layout__widget"},a.createElement(i.Z,{labelCol:{flex:"110px"},labelAlign:"left",form:n,initialValues:t},a.createElement(ee,{datas:te.X3.configure||[],form:n,callback:(e,a)=>{const n=a&&!isNaN(a)&&"boolean"!=typeof a?Number(a):a;t[e]!==n&&l({[e]:n})}})))},ae={code:"baseText",configure:[[{name:"基础设置",list:[...te.r.configure,[{name:"文字阴影",list:[{componentName:"InputNumber",label:"X轴偏移",name:"styleTextShadowX",required:!1,placeholder:"请输入X轴偏移",addonAfter:"px"},{componentName:"InputNumber",label:"Y轴偏移",name:"styleTextShadowY",required:!1,placeholder:"请输入Y轴偏移",addonAfter:"px"},{componentName:"InputNumber",label:"模糊值",name:"styleTextShadowF",required:!1,placeholder:"请输入模糊值",addonAfter:"px"},{componentName:"SketchPicker",label:"颜色",name:"styleTextShadowC",required:!1,placeholder:"请选择颜色"}]},...te.c2.configure]]},{name:"icon图标",list:[{componentName:"Select",label:"图标",name:"iconStyleSelect",required:!1,placeholder:"",options:[{code:"&#xe621",name:"&#xe621"},{code:"&#xe62e",name:"&#xe62e"},{code:"&#xeb04",name:"&#xeb04"},{code:"&#xec89",name:"&#xec89"},{code:"&#xe668",name:"&#xe668"},{code:"&#xe620",name:"&#xe620"},{code:"&#xe652",name:"&#xe652"},{code:"&#xe63d",name:"&#xe63d"},{code:"&#xe65a",name:"&#xe65a"},{code:"&#xe7de",name:"&#xe7de"},{code:"&#xe7b0",name:"&#xe7b0"},{code:"&#xe7b1",name:"&#xe7b1"}]},{componentName:"InputNumber",label:"字体大小",name:"iconStyleFontSize",required:!1,min:12,placeholder:"",addonAfter:"px"},{componentName:"SketchPicker",label:"字体颜色",name:"iconStyleColor",required:!1,placeholder:"请选择字体颜色"}]}]]},ne={code:"messageText",configure:[[{name:"基础设置",list:[{componentName:"SketchPicker",label:"背景颜色",name:"styleBackgroundColor",required:!1,placeholder:""},{componentName:"InputNumber",label:"字体大小",name:"styleFontSize",required:!1,min:12,placeholder:"",addonAfter:"px"},{componentName:"InputNumber",label:"行高",name:"styleLineHeight",required:!1,placeholder:"",addonAfter:"px"},{componentName:"Select",label:"字体样式",name:"styleFontFamily",required:!1,placeholder:"",options:[{code:"SimSun",name:"宋体"},{code:"KaiTi",name:"楷体"},{code:"Microsoft YaHei",name:"微软雅黑"},{code:"STHeiti",name:"华文黑体"},{code:"arial",name:"无衬线体"},{code:"serif",name:"有衬线体"},{code:"cursive",name:"草书"},{code:"monospace",name:"等宽字体"},{code:"courier",name:"打印字体"}]},{componentName:"Select",label:"文字粗细",name:"styleFontWeight",required:!1,placeholder:"",options:[{code:"normal",name:"正常"},{code:"bold",name:"粗体"},{code:"bolder",name:"特粗体"},{code:"lighter",name:"细体"}]},[...te.c2.configure]]},{name:"icon图标",list:[{componentName:"InputNumber",label:"字体大小",name:"iconStyleFontSize",required:!1,min:12,placeholder:"",addonAfter:"px"},{componentName:"SketchPicker",label:"字体颜色",name:"iconStyleColor",required:!1,placeholder:"请选择字体颜色"}]}]]},oe={code:"dateText",configure:[{componentName:"Input",label:"自定义格式",name:"fmtDate",required:!1,placeholder:""},...te.r.configure,[{name:"文字阴影",list:[{componentName:"InputNumber",label:"X轴偏移",name:"styleTextShadowX",required:!1,placeholder:"请输入X轴偏移",addonAfter:"px"},{componentName:"InputNumber",label:"Y轴偏移",name:"styleTextShadowY",required:!1,placeholder:"请输入Y轴偏移",addonAfter:"px"},{componentName:"InputNumber",label:"模糊值",name:"styleTextShadowF",required:!1,placeholder:"请输入模糊值",addonAfter:"px"},{componentName:"SketchPicker",label:"颜色",name:"styleTextShadowC",required:!1,placeholder:"请选择颜色"}]}]]};var re={baseText:ae,line:{code:"line",configure:[[{name:"基础设置",list:[...te.YM.line,...te.YM.seriesStack,te.YM.seriesLabel,te.YM.symbol]},{name:"标题",list:te.YM.title},{name:"图例",list:te.YM.legend},{name:"网格",list:te.YM.grid},{name:"X轴",list:te.YM.xAxis},{name:"y轴",list:te.YM.yAxis},{name:"自定义颜色",list:te.YM.echartColor},...te.hV.configure]]},bar:{code:"bar",configure:[[{name:"柱状设置",list:[...te.YM.seriesStack,...te.YM.bar,te.YM.seriesLabel]},{name:"标题",list:te.YM.title},{name:"图例",list:te.YM.legend},{name:"网格",list:te.YM.grid},{name:"X轴",list:te.YM.xAxis},{name:"y轴",list:te.YM.yAxis},{name:"自定义颜色",list:te.YM.echartColor},...te.hV.configure]]},countUp:{code:"countUp",configure:[[{name:"基础设置",list:[{componentName:"Select",label:"水平对齐方式",name:"styleJustifyContent",required:!1,placeholder:"",options:[{code:"flex-start",name:"左对齐"},{code:"flex-end",name:"右对齐"},{code:"center",name:"居中"},{code:"space-between",name:"两端对齐"},{code:"space-around",name:"间隔相等"}]},{componentName:"Select",label:"垂直对齐方式",name:"styleAlignItems",required:!1,placeholder:"",options:[{code:"flex-start",name:"上对齐"},{code:"flex-end",name:"下对齐"},{code:"center",name:"居中"}]},{componentName:"InputNumber",label:"行高",name:"styleLineHeight",required:!1,placeholder:"",addonAfter:"px"}]},{name:"滚动区域",list:[{componentName:"InputNumber",label:"字体大小",name:"countUpStyleFontSize",required:!1,min:12,placeholder:"",addonAfter:"px"},{componentName:"SketchPicker",label:"字体颜色",name:"countUpStyleColor",required:!1,placeholder:"请选择字体颜色"},{componentName:"Select",label:"字体样式",name:"countUpStyleFontFamily",required:!1,placeholder:"",options:[{code:"SimSun",name:"宋体"},{code:"KaiTi",name:"楷体"},{code:"Microsoft YaHei",name:"微软雅黑"},{code:"STHeiti",name:"华文黑体"},{code:"arial",name:"无衬线体"},{code:"serif",name:"有衬线体"},{code:"cursive",name:"草书"},{code:"monospace",name:"等宽字体"},{code:"courier",name:"打印字体"}]},{componentName:"Select",label:"文字粗细",name:"countUpStyleFontWeight",required:!1,placeholder:"",options:[{code:"normal",name:"正常"},{code:"bold",name:"粗体"},{code:"bolder",name:"特粗体"},{code:"lighter",name:"细体"}]}]},{name:"前置标签",list:[{componentName:"Input",label:"前置文本",name:"addonBefore",required:!1,placeholder:"请输入前置文本"},{componentName:"InputNumber",label:"字体大小",name:"addonBeforeStyleFontSize",required:!1,min:12,placeholder:"",addonAfter:"px"},{componentName:"SketchPicker",label:"字体颜色",name:"addonBeforeStyleColor",required:!1,placeholder:"请选择字体颜色"}]},{name:"后置标签",list:[{componentName:"Input",label:"后置文本",name:"addonAfter",required:!1,placeholder:"请输入后置文本"},{componentName:"InputNumber",label:"字体大小",name:"addonAfterStyleFontSize",required:!1,min:12,placeholder:"",addonAfter:"px"},{componentName:"SketchPicker",label:"字体颜色",name:"addonAfterStyleColor",required:!1,placeholder:"请选择字体颜色"}]}]]},pie:{code:"pie",configure:[[{name:"饼图设置",list:[...te.YM.pie,te.YM.seriesLabel.map((e=>({...e,list:e.list.map((e=>"seriesLabelPosition"===e.name?{...e,options:[{code:"outside",name:"outside"},{code:"inside",name:"inside"},{code:"center",name:"center"}]}:e))}))),te.YM.seriesItemStyle,te.YM.emphasis]},{name:"标题",list:[...te.YM.title]},{name:"图例",list:[...te.YM.legend]},{name:"自定义颜色",list:[...te.YM.echartColor]},...te.hV.configure]]},messageText:ne,baseImage:{code:"baseImage",configure:[te.c2.configure]},baseBanner:{code:"baseBanner",configure:[te.O$.configure,te.c2.configure]},dateText:oe,table:{code:"table",configure:[[{name:"滚动设置",list:[{componentName:"Switch",label:"循环播放",name:"loop",required:!1,placeholder:""},{componentName:"Switch",label:"自动播放",name:"autoplay",required:!1,placeholder:""},{componentName:"InputNumber",label:"间距",name:"spaceBetween",required:!1,min:0,placeholder:"请输入间距",addonAfter:"px"},{componentName:"InputNumber",label:"一屏幻灯片数量",name:"slidesPerView",required:!1,min:1,placeholder:"请输入一屏幻灯片数量",addonAfter:"个"},{componentName:"JsonEdit",label:"Column数据",name:"tableColumn",required:!1,placeholder:"请输入Column数据"}]}],[{name:"进度条",list:[{componentName:"SketchPicker",label:"前景颜色",name:"progressForegroundColor",required:!1,placeholder:""},{componentName:"SketchPicker",label:"背景颜色",name:"progressBackgroundColor",required:!1,placeholder:""}]},{name:"序号",list:[{componentName:"Switch",label:"使用排名图标",name:"serialNumberRank",required:!1,placeholder:""},{componentName:"InputNumber",label:"字体大小",name:"serialNumberFontSize",required:!1,min:12,placeholder:"",addonAfter:"px"},{componentName:"SketchPicker",label:"字体颜色",name:"serialNumberColor",required:!1,placeholder:"请选择字体颜色"},{componentName:"SketchPicker",label:"背景颜色",name:"serialNumberBackgroundColor",required:!1,placeholder:"请选择背景颜色"}]},{name:"表头",list:[{componentName:"Switch",label:"是否显示",name:"tableShowHeader",required:!1,placeholder:""},{componentName:"SketchPicker",label:"背景颜色",name:"tableHeaderBackgroudColor",required:!1,placeholder:"请选择背景颜色",relationFields:"tableShowHeader",relationValues:"true"},{componentName:"SketchPicker",label:"字体颜色",name:"tableHeaderColor",required:!1,placeholder:"请选择字体颜色",relationFields:"tableShowHeader",relationValues:"true"}]},{name:"表体",list:[{componentName:"SketchPicker",label:"字体颜色",name:"tableTbodyColor",required:!1,placeholder:"请选择字体颜色"},[{name:"奇数行配置",list:[{componentName:"SketchPicker",label:"背景颜色",name:"tableTbodyOddBackgroudColor",required:!1,placeholder:""},[{name:"盒子阴影",list:[{componentName:"Switch",label:"内阴影",name:"tableTbodyOddBoxInset",required:!1,placeholder:""},{componentName:"InputNumber",label:"X轴偏移",name:"tableTbodyOddBoxShadowX",required:!1,placeholder:"请输入X轴偏移",addonAfter:"px"},{componentName:"InputNumber",label:"Y轴偏移",name:"tableTbodyOddBoxShadowY",required:!1,placeholder:"请输入Y轴偏移",addonAfter:"px"},{componentName:"InputNumber",label:"模糊值",name:"tableTbodyOddBoxShadowF",required:!1,placeholder:"请输入模糊值",addonAfter:"px"},{componentName:"SketchPicker",label:"颜色",name:"tableTbodyOddBoxShadowC",required:!1,placeholder:"请选择颜色"}]},{name:"边框",list:[{componentName:"Select",label:"边框样式",name:"tableTbodyOddBorderStyle",required:!1,placeholder:"请选择边框样式",options:[{code:"none",name:"无"},{code:"solid",name:"直线"},{code:"dashed",name:"破折线"},{code:"dotted",name:"点状线"},{code:"double",name:"双划线"},{code:"groove",name:"3D凹槽"},{code:"ridge",name:"3D垄状"},{code:"inset",name:"3D内嵌"},{code:"outset",name:"3D外嵌"}]},{componentName:"InputNumber",label:"边框尺寸",name:"tableTbodyOddBorderWidth",required:!1,placeholder:"请输入尺寸",addonAfter:"px"},{componentName:"SketchPicker",label:"颜色",name:"tableTbodyOddBorderColor",required:!1,placeholder:"请选择边框颜色"}]}]]}],[{name:"偶数行配置",list:[{componentName:"SketchPicker",label:"背景颜色",name:"tableTbodyEvenBackgroudColor",required:!1,placeholder:""},[{name:"盒子阴影",list:[{componentName:"Switch",label:"内阴影",name:"tableTbodyEvenBoxInset",required:!1,placeholder:""},{componentName:"InputNumber",label:"X轴偏移",name:"tableTbodyEvenBoxShadowX",required:!1,placeholder:"请输入X轴偏移",addonAfter:"px"},{componentName:"InputNumber",label:"Y轴偏移",name:"tableTbodyEvenBoxShadowY",required:!1,placeholder:"请输入Y轴偏移",addonAfter:"px"},{componentName:"InputNumber",label:"模糊值",name:"tableTbodyEvenBoxShadowF",required:!1,placeholder:"请输入模糊值",addonAfter:"px"},{componentName:"SketchPicker",label:"颜色",name:"tableTbodyEvenBoxShadowC",required:!1,placeholder:"请选择颜色"}]},{name:"边框",list:[{componentName:"Select",label:"边框样式",name:"tableTbodyEvenBorderStyle",required:!1,placeholder:"请选择边框样式",options:[{code:"none",name:"无"},{code:"solid",name:"直线"},{code:"dashed",name:"破折线"},{code:"dotted",name:"点状线"},{code:"double",name:"双划线"},{code:"groove",name:"3D凹槽"},{code:"ridge",name:"3D垄状"},{code:"inset",name:"3D内嵌"},{code:"outset",name:"3D外嵌"}]},{componentName:"InputNumber",label:"边框尺寸",name:"tableTbodyEvenBorderWidth",required:!1,placeholder:"请输入尺寸",addonAfter:"px"},{componentName:"SketchPicker",label:"颜色",name:"tableTbodyEvenBorderColor",required:!1,placeholder:"请选择边框颜色"}]}]]}]]}]]},formRadio:{code:"formRadio",configure:[[{name:"基础设置",list:[{componentName:"Select",label:"大小",name:"radioSize",required:!1,placeholder:"",options:[{code:"large",name:"large"},{code:"middle",name:"middle"},{code:"small",name:"small"}]},{componentName:"Select",label:"类型",name:"radioOptionType",required:!1,placeholder:"",options:[{code:"default",name:"default"},{code:"button",name:"button"}]},{componentName:"Select",label:"对齐方式",name:"radioTextAlign",required:!1,placeholder:"",options:[{code:"center",name:"居中"},{code:"flex-start",name:"左对齐"},{code:"flex-end",name:"右对齐"}]}]}]],data:[...te.R.configure]},formSelect:{code:"formSelect",configure:[[{name:"基础设置",list:[{componentName:"Select",label:"大小",name:"radioSize",required:!1,placeholder:"",options:[{code:"large",name:"large"},{code:"middle",name:"middle"},{code:"small",name:"small"}]},{componentName:"Select",label:"对齐方式",name:"radioTextAlign",required:!1,placeholder:"",options:[{code:"center",name:"居中"},{code:"flex-start",name:"左对齐"},{code:"flex-end",name:"右对齐"}]}]}]],data:[...te.R.configure]}};const ie=e=>{var t;let{configureValue:l,onFinish:n,element:o}=e;const[r]=i.Z.useForm();return a.createElement("div",{className:"cms-config-layout__element"},a.createElement(i.Z,{labelCol:{flex:"110px"},labelAlign:"left",form:r,initialValues:l},a.createElement(ee,{datas:(null==re||null===(t=re[o])||void 0===t?void 0:t.configure)||[],form:r,callback:(e,t)=>{const a=t&&!isNaN(t)&&"boolean"!=typeof t?Number(t):t;l[e]!==a&&n({[e]:a})}})))};var ce=l(42442);const{TabPane:de}=ce.default,me=e=>{let{widgetDataValue:t,elementDataValue:l,widgetOnFinish:n,elementOnFinish:o,isShowWidgetDataConfig:r,paramFields:c}=e;const[m]=i.Z.useForm(),[s]=i.Z.useForm(),[u,p]=(0,a.useState)("1");(0,a.useEffect)((()=>{p(l?"1":"2")}),[l]);const g=(0,a.useCallback)((e=>{l&&p(e)}),[l]);return a.createElement("div",{className:"cms-config-layout__data"},a.createElement(ce.default,{activeKey:u,centered:!0,onChange:g},a.createElement(de,{tabKey:"1",tab:"组件",key:"1",disabled:!Boolean(l)},a.createElement(i.Z,{layout:"vertical",labelAlign:"left",form:m,initialValues:l,onFinish:o},r?a.createElement(i.Z.Item,{label:"使用微件数据",name:"useInterface",tooltip:"该组件使用微件的接口数据",valuePropName:"checked"},a.createElement(O.Z,{size:"small"})):null,a.createElement(ee,{formSubmit:!0,datas:te.R.configure||[],form:m,callback:(e,t)=>{const a=t&&!isNaN(t)&&"boolean"!=typeof t?Number(t):t;l[e]!==a&&o({[e]:a})}}),null!=c&&c.length?a.createElement(i.Z.Item,{label:"接口参数字段",name:"paramName",tooltip:"从组组件的参数中选择"},a.createElement(W.default,{placeholder:"请选择"},c.map((e=>a.createElement(W.default.Option,{key:e},e))))):null,a.createElement(i.Z.Item,null,a.createElement(d.ZP,{type:"primary",htmlType:"submit",block:!0},"保存")))),r?a.createElement(de,{tabKey:"2",tab:"微件",key:"2",disabled:!Boolean(t)},a.createElement(i.Z,{layout:"vertical",labelAlign:"left",form:s,initialValues:t,onFinish:n},a.createElement(ee,{formSubmit:!0,datas:te.jF.configure||[],form:s,callback:(e,l)=>{const a=l&&!isNaN(l)&&"boolean"!=typeof l?Number(l):l;t[e]!==a&&n({[e]:a})}}),a.createElement(i.Z.Item,null,a.createElement(d.ZP,{type:"primary",htmlType:"submit",block:!0},"保存")))):null))},se=e=>{let{configureValue:t,onFinish:l}=e;const[n]=i.Z.useForm();return a.createElement("div",{className:"cms-config-layout__element"},a.createElement(i.Z,{labelCol:{flex:"80px"},labelAlign:"left",form:n,initialValues:t},a.createElement(ee,{datas:te.MP.configure||[],form:n,callback:(e,a)=>{const n=a&&!isNaN(a)&&"boolean"!=typeof a?Number(a):a;t[e]!==n&&l({[e]:n})}})))},ue=e=>{let{configureValue:t,onFinish:l,pages:n,pageId:o,addPageHandler:r,modifyPageHandler:c,selectPageHandler:m,deletePageHandler:u}=e;const[p]=i.Z.useForm(),[g,b]=(0,a.useState)(!1),[f,h]=(0,a.useState)((()=>({name:"",pageId:o})));return a.createElement("div",{className:"cms-config-layout__project"},a.createElement(s,{onClose:()=>b(!1),name:f.name,open:g,modifyNameSuccessHander:e=>{f.name&&f.pageId?c({name:e,pageId:f.pageId}):r(e)},pageType:"page"}),a.createElement("div",{className:"page"},a.createElement("div",{className:"page-header"},"页面列表"),a.createElement("div",{className:"page-body"},n.length?a.createElement("ul",{className:"pag-list"},n.map((e=>a.createElement("li",{className:"page-item "+(e.pageId===o?"is-active":""),key:e.pageId},a.createElement("div",{className:"name",onClick:()=>{e.pageId!==o&&m(e.pageId)}},e.name),a.createElement("div",{className:"controls"},a.createElement(B.Z,{content:a.createElement("div",{className:"project-controls"},a.createElement("p",{onClick:()=>{h((t=>({...t,name:e.name,pageId:e.pageId}))),b(!0)}},"编辑"),a.createElement("p",{onClick:()=>u(e.pageId)},"删除"))},a.createElement(D.Z,null))))))):a.createElement(x.Z,{image:x.Z.PRESENTED_IMAGE_SIMPLE})),a.createElement("div",{className:"page-footer"},a.createElement(d.ZP,{type:"primary",block:!0,onClick:()=>{h((e=>({...e,name:""}))),b(!0)}},"添加页面"))),a.createElement(i.Z,{style:{display:n.length?"block":"none"},labelCol:{flex:"80px"},labelAlign:"left",form:p,initialValues:t},a.createElement(ee,{datas:te.Qy.configure||[],form:p,callback:(e,a)=>{const n=a&&!isNaN(a)&&"boolean"!=typeof a?Number(a):a;t[e]!==n&&l({[e]:n})}})))},pe=e=>{let{currentWidgetId:t,onFinish:l,widgets:n}=e;const[o]=i.Z.useForm(),r=(0,a.useMemo)((()=>{var e,l,a,o;return(null===(e=n.find((e=>e.widgetId===t)))||void 0===e||null===(l=e.configuration)||void 0===l||null===(a=l.dataValue)||void 0===a||null===(o=a.linkageIds)||void 0===o?void 0:o.split(","))||void 0}),[t,n]);return a.createElement("div",{className:"cms-config-layout__element",style:{paddingTop:10}},a.createElement(i.Z,{labelCol:{flex:"60px"},labelAlign:"left",form:o,initialValues:{linkageIds:r}},a.createElement(i.Z.Item,{label:"微件关联",name:"linkageIds",validateTrigger:"onBlur"},a.createElement(W.default,{mode:"multiple",placeholder:"请选择联动组件",onChange:e=>l({linkageIds:e?null==e?void 0:e.join(","):""})},n.filter((e=>e.widgetId!==t)).map((e=>a.createElement(W.default.Option,{key:e.widgetId,value:e.widgetId},e.name)))))))},ge=()=>a.createElement("div",{className:"cms-config-layout__mask"})},72389:function(e,t,l){l.d(t,{Z:function(){return s}});var a=l(89880),n=l(67294),o=l(69968),r=l.n(o);var i=e=>{let{gap:t,column:l,width:a,height:o,row:r,borderColor:i="rgba(255, 255, 255, 0.2)"}=e;const c=(0,n.useMemo)((()=>({display:"grid",gap:`${t}px`,gridTemplateColumns:`repeat(${l}, ${(a-(l+1)*t)/l}px)`,gridTemplateRows:`repeat(${r},  ${(o-(r+1)*t)/r}px)`,width:"100%",height:"100%",padding:`${t}px`})),[l,t,o,r,a]);return n.createElement("div",{className:"cms-grid-layout__auxiliaryLine",style:c},new Array(l*r).fill(null).map(((e,t)=>n.createElement("div",{key:t,style:{borderColor:i||"rgba(255, 255, 255, 0.2)"}}))))},c=l(90877);var d=e=>{let{render:t}=e;const[l,a]=(0,n.useState)({width:0,height:0}),o=(0,c.Z)(l,{wait:50,trailing:!0}),r=(0,n.useRef)(null),i=(0,n.useCallback)((()=>{var e;if(!r.current)return;const{width:t,height:l}=null===(e=r.current)||void 0===e?void 0:e.getBoundingClientRect();a({width:t,height:l})}),[]);return(0,n.useEffect)((()=>{i();const e=new ResizeObserver((e=>{Array.isArray(e)&&e.length&&i()}));return e.observe(r.current),()=>{e.disconnect()}}),[i]),n.createElement("div",{ref:r,style:{width:"100%",height:"100%"}},t(o.width,o.height))},m=l(56664);var s=(0,n.memo)((e=>{const{configureValue:t,groupName:l="elements",row:o=3,column:c=4,datas:s,gap:u=10,isDroppable:p=!0,isResizable:g=!0,staticed:b=!1,render:f,onDrop:h,onDragStop:v,onResizeStop:y,onClose:E,selectedId:S,transformScale:N=1}=e,w=(0,n.useMemo)((()=>{let e=[];return e=(null==s?void 0:s.map((e=>({i:e.widgetId||e.elementId,w:e.row,h:e.column,x:e.x,y:e.y,static:b}))))||[],e}),[s,b]);return n.createElement(d,{render:(e,d)=>n.createElement("div",{className:"cms-grid-layout__main"},b?null:n.createElement(i,{gap:u,column:c,width:e,height:d,row:o,borderColor:null==t?void 0:t.auxiliaryLineBorderColor}),n.createElement(r(),{className:"cms-grid-layout",layout:w,isDroppable:p,isResizable:g,rowHeight:(d-u*(o+1))/o,maxRows:o,width:e,cols:c,transformScale:N,compactType:null,preventCollision:!0,margin:[u,u],onDrop:(e,t,n)=>{const r=a.Ao.get(l);t.x<=c&&t.y<=o&&(null==h||h(t,r))},onResizeStop:(e,t,l)=>{t.w===l.w&&t.h===l.h||null==y||y(l)},onDragStop:(e,t,l)=>{t.x===l.x&&t.y===l.y||null==v||v(l)}},null==s?void 0:s.map(((e,t)=>n.createElement("div",{key:e.widgetId||e.elementId,className:"cms-grid-layout__item"},b?null:n.createElement("div",{className:"cms-grid-layout__close",onClick:t=>{t.stopPropagation(),t.preventDefault(),null==E||E(e)}}),!S||S!==e.widgetId&&S!==e.elementId?null:n.createElement(m.k1,null),n.createElement("div",{className:"cms-grid-layout__item--content"},null==f?void 0:f(e)))))))})}))},5676:function(e,t,l){var a=l(67294),n=l(240);t.Z=e=>{var t,l,o,r,i,c,d,m,s,u,p,g,b,f,h;let{data:v,header:y,body:E,id:S,style:N}=e;return a.createElement("div",{className:"cms-preview-layout",style:{...(0,n.Wi)((null==v||null===(t=v.configuration)||void 0===t?void 0:t.configureValue)||{}),...N},id:S},null!=v&&null!==(l=v.configuration)&&void 0!==l&&null!==(o=l.configureValue)&&void 0!==o&&o.headerShow?a.createElement("div",{className:"cms-preview-layout__header",style:{...(0,n.Wi)((null==v||null===(r=v.configuration)||void 0===r?void 0:r.configureValue)||{},"headerStyle"),height:null!=v&&null!==(i=v.configuration)&&void 0!==i&&null!==(c=i.configureValue)&&void 0!==c&&c.bodyShow||void 0===(null==v||null===(d=v.configuration)||void 0===d||null===(m=d.configureValue)||void 0===m?void 0:m.bodyShow)?`${(null==v||null===(s=v.configuration)||void 0===s||null===(u=s.configureValue)||void 0===u?void 0:u.headerStyleHeight)||40}px`:"100%"}},y):null,null!=v&&null!==(p=v.configuration)&&void 0!==p&&null!==(g=p.configureValue)&&void 0!==g&&g.bodyShow||void 0===(null==v||null===(b=v.configuration)||void 0===b||null===(f=b.configureValue)||void 0===f?void 0:f.bodyShow)?a.createElement("div",{className:"cms-preview-layout__body",style:(0,n.Wi)((null==v||null===(h=v.configuration)||void 0===h?void 0:h.configureValue)||{},"bodyStyle")},E):null)}}}]);
//# sourceMappingURL=3525.df579cb1c4.chunk.js.map