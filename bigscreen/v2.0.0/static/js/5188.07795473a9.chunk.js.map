{"version":3,"file":"static/js/5188.07795473a9.chunk.js","mappings":"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","sources":["webpack://large-screen-configuration/./src/pages/web/projectList/edit/index.tsx","webpack://large-screen-configuration/./src/pages/web/projectList/edit/store/reducers.ts","webpack://large-screen-configuration/./src/pages/web/projectList/edit/store/type.ts"],"sourcesContent":["import React, {\r\n  FC,\r\n  useCallback,\r\n  useEffect,\r\n  useMemo,\r\n  useReducer,\r\n  useState,\r\n} from \"react\";\r\nimport { useLocation } from \"react-router-dom\";\r\n\r\nimport {\r\n  ConfigLayoutHeader,\r\n  ConfigLayoutMain,\r\n  ConfigLayoutLeftAside,\r\n  ConfigLayoutRightAside,\r\n  ConfigLayoutRightAsideLayer,\r\n  ConfigLayoutLeftAsideWidget,\r\n  ConfigLayoutRightAsideWidget,\r\n  ConfigLayoutRightAsideElement,\r\n  ConfigLayoutRightAsideData,\r\n  ConfigLayoutRightAsidePage,\r\n  ConfigLayoutRightAsideProject,\r\n  ConfigLayoutLeftAsidePage,\r\n  ConfigLayoutRightAsideLinkage,\r\n} from \"@src/layout/configLayout\";\r\n\r\nimport \"@src/layout/configLayout/index.scss\";\r\nimport { initialState, projectReducer } from \"./store/reducers\";\r\nimport \"animate.css\";\r\nimport { guid } from \"@src/utils\";\r\nimport { pageConfig, projectConfig } from \"@src/core/config/base\";\r\nimport \"./index.scss\";\r\n\r\nimport { IWidget } from \"@src/service\";\r\nimport { Layout } from \"react-grid-layout\";\r\nimport { Empty } from \"antd\";\r\nimport RenderPage from \"@src/compoents/renderPage\";\r\nimport Navigation from \"@src/compoents/navigation\";\r\nimport PreviewDialog from \"@src/compoents/previewDialog\";\r\nimport { web } from \"@src/core/hook\";\r\ninterface IConfigLayout {}\r\n\r\nconst ConfigLayout: FC<IConfigLayout> = () => {\r\n  let location = useLocation();\r\n  const [layout, dispatch] = useReducer(projectReducer, initialState);\r\n  const [show, setShow] = useState(false);\r\n  const [isShowAuxiliaryLine] = useState(true);\r\n  const { getProjects, projectsList } = web();\r\n  // const [scale, setScale] = useState(100);\r\n\r\n  useEffect(() => {\r\n    const queryParams = new URLSearchParams(location.search);\r\n    // 编辑\r\n    if (queryParams.size) {\r\n      const projectId = queryParams.get(\"projectId\");\r\n      if (projectId) {\r\n        if (!projectsList.length) {\r\n          getProjects();\r\n        } else {\r\n          const index = projectsList.findIndex(\r\n            (item) => item.projectId === projectId\r\n          );\r\n          if (index >= 0) {\r\n            dispatch({\r\n              type: \"PROJECT\",\r\n              data: projectsList[index],\r\n            });\r\n          }\r\n        }\r\n      }\r\n    } else {\r\n      dispatch({\r\n        type: \"PROJECT\",\r\n        data: {\r\n          name: \"未命名项目\",\r\n          url: \"\",\r\n          createTime: \"\",\r\n          projectId: guid(),\r\n          screenRatio: \"4*4\",\r\n          pages: [],\r\n          configuration: {\r\n            configureValue: { ...projectConfig.configureValue },\r\n          },\r\n        },\r\n      });\r\n    }\r\n  }, [location, getProjects, projectsList]);\r\n\r\n  // 判断右侧边栏所需模块\r\n  const rightAside = useMemo(() => {\r\n    let arr: PageType[] = [\"project\"];\r\n    if (layout?.projectId) {\r\n      if (layout?.pageId) {\r\n        arr = [\"layer\", \"project\"];\r\n        if (layout?.widgetId) {\r\n          if (layout?.elementId) {\r\n            arr = [\"layer\", \"element\", \"widget\", \"project\", \"data\", \"linkage\"];\r\n          } else {\r\n            arr = [\"layer\", \"widget\", \"project\", \"data\", \"linkage\"];\r\n          }\r\n        } else {\r\n          arr = [\"layer\", \"project\"];\r\n        }\r\n      }\r\n    } else {\r\n      arr = [\"layer\", \"project\"];\r\n    }\r\n\r\n    return arr;\r\n  }, [layout?.elementId, layout?.pageId, layout?.projectId, layout?.widgetId]);\r\n\r\n  // 图层选择\r\n  const layerSelectedHandle = useCallback(\r\n    (\r\n      type: \"page\" | \"widget\" | \"element\" | \"project\",\r\n      id: string,\r\n      pid?: string\r\n    ) => {\r\n      switch (type) {\r\n        case \"widget\": {\r\n          if (layout?.widgetId !== id) {\r\n            dispatch({\r\n              type: \"SELECT_WIDGET\",\r\n              widgetId: id,\r\n            });\r\n          }\r\n          return;\r\n        }\r\n        case \"element\": {\r\n          if (layout?.elementId !== id) {\r\n            dispatch({\r\n              type: \"SELECT_ELEMENT\",\r\n              widgetId: pid as string,\r\n              elementId: id,\r\n            });\r\n          }\r\n          return;\r\n        }\r\n        default:\r\n      }\r\n    },\r\n    [layout?.elementId, layout?.widgetId]\r\n  );\r\n  const currentPage = useMemo(() => {\r\n    return layout?.project?.pages?.find(\r\n      (item) => item.pageId === layout?.pageId\r\n    );\r\n  }, [layout?.pageId, layout?.project?.pages]);\r\n  // 当前选中的微件\r\n  const currentWidget = useMemo(() => {\r\n    return currentPage?.widgets.find(\r\n      (item) => layout?.widgetId && item.widgetId === layout?.widgetId\r\n    );\r\n  }, [currentPage?.widgets, layout?.widgetId]);\r\n  // 当前选中微件参数字段列表\r\n  const currentWidgetParamFields = useMemo(() => {\r\n    const params = currentWidget?.configuration?.dataValue?.params;\r\n    let arr: string[] = [];\r\n    try {\r\n      for (let field in params) {\r\n        arr.push(field);\r\n      }\r\n    } catch (err) {}\r\n    return arr;\r\n  }, [currentWidget?.configuration?.dataValue?.params]);\r\n  // 当前选中的组件\r\n  const currentElement = useMemo(() => {\r\n    return currentWidget?.elements.find(\r\n      (item) => layout?.elementId && item.elementId === layout?.elementId\r\n    );\r\n  }, [currentWidget?.elements, layout?.elementId]);\r\n  // 新增微件\r\n  const onDrop = useCallback(\r\n    (item: Layout, data: IWidget, type: \"header\" | \"body\") => {\r\n      dispatch({\r\n        type: \"ADD_WIDGET\",\r\n        data: {\r\n          ...data,\r\n          widgetId: guid(),\r\n          x: item.x,\r\n          y: item.y,\r\n          position: type,\r\n          url: \"\",\r\n          elements: data?.elements?.map((element) => ({\r\n            ...element,\r\n            elementId: guid(),\r\n            url: \"\",\r\n          })),\r\n        },\r\n      });\r\n    },\r\n    []\r\n  );\r\n  // 修改微件\r\n  const onDragStop = useCallback((item: Layout) => {\r\n    dispatch({\r\n      type: \"MODIFY_WIDGET\",\r\n      data: {\r\n        x: item.x,\r\n        y: item.y,\r\n        widgetId: item.i,\r\n      },\r\n    });\r\n  }, []);\r\n  // 改变大小\r\n  const onResizeStop = useCallback((item: Layout) => {\r\n    dispatch({\r\n      type: \"MODIFY_WIDGET\",\r\n      data: {\r\n        row: item.w,\r\n        column: item.h,\r\n        widgetId: item.i,\r\n      },\r\n    });\r\n  }, []);\r\n  // 删除微件\r\n  const onClose = useCallback((item: IAnyObject) => {\r\n    dispatch({\r\n      type: \"DELETE_WIDGET\",\r\n      id: item.widgetId,\r\n    });\r\n  }, []);\r\n\r\n  // 删除微件\r\n  const onDeleteHandler = useCallback(\r\n    (\r\n      type: \"page\" | \"widget\" | \"element\" | \"project\",\r\n      id: string,\r\n      pid?: string\r\n    ) => {\r\n      if (type === \"widget\") {\r\n        dispatch({\r\n          type: \"DELETE_WIDGET\",\r\n          id,\r\n        });\r\n      }\r\n    },\r\n    []\r\n  );\r\n  // 修改微件\r\n  const onEditHandler = useCallback(\r\n    (\r\n      type: \"page\" | \"widget\" | \"element\" | \"project\",\r\n      id: string,\r\n      name: string,\r\n      pid?: string\r\n    ) => {\r\n      if (type === \"widget\") {\r\n        dispatch({\r\n          type: \"MODIFY_WIDGET\",\r\n          data: { name, widgetId: id },\r\n        });\r\n      }\r\n    },\r\n    []\r\n  );\r\n  return (\r\n    <div className=\"cms-config-layout\">\r\n      <ConfigLayoutHeader\r\n        name={layout?.project?.name}\r\n        pageType=\"project\"\r\n        modifyNameSuccessHander={(name) => {\r\n          dispatch({\r\n            type: \"MODIFY_PROJECT\",\r\n            data: {\r\n              name,\r\n            },\r\n          });\r\n        }}\r\n        previewHandler={() => setShow(true)}\r\n        publishHandler={() => {\r\n          console.log(JSON.stringify(layout?.project));\r\n        }}\r\n        logo=\"&#xe628;\"\r\n      />\r\n      <div className=\"cms-config-layout__content\">\r\n        <ConfigLayoutLeftAside\r\n          navs={\r\n            currentPage?.widgets?.length || !currentPage\r\n              ? [\"widget\"]\r\n              : [\"widget\", \"page\"]\r\n          }\r\n          render={(data) => {\r\n            if (data === \"widget\") {\r\n              return <ConfigLayoutLeftAsideWidget />;\r\n            } else if (data === \"page\") {\r\n              return (\r\n                <ConfigLayoutLeftAsidePage\r\n                  onClick={(page) => {\r\n                    if (!currentPage?.widgets.length) {\r\n                      dispatch({\r\n                        type: \"ADD_WIDGET\",\r\n                        data: page.widgets.map((item) => ({\r\n                          ...item,\r\n                          widgetId: guid(),\r\n                        })),\r\n                      });\r\n                    }\r\n                  }}\r\n                />\r\n              );\r\n            }\r\n            return null;\r\n          }}\r\n        />\r\n        <ConfigLayoutMain\r\n          // scale={scale}\r\n          // setScale={setScale}\r\n          style={{\r\n            position: \"relative\",\r\n            width: `${\r\n              layout?.project?.configuration?.configureValue?.pageConfigWidth ||\r\n              1366\r\n            }px`,\r\n            height: `${\r\n              layout?.project?.configuration?.configureValue\r\n                ?.pageConfigHeight || 768\r\n            }px`,\r\n            background: \"var(--cms-background-color-secondary)\",\r\n          }}\r\n          id=\"js_project\"\r\n        >\r\n          {layout?.project?.pages?.length ? (\r\n            <>\r\n              <RenderPage\r\n                data={layout?.project || {}}\r\n                // transformScale={scale / 100}\r\n                configureValue={layout?.project?.configuration?.configureValue}\r\n                widgets={currentPage?.widgets || []}\r\n                selectedId={layout?.widgetId}\r\n                onDrop={onDrop}\r\n                isDroppable={isShowAuxiliaryLine}\r\n                isResizable={isShowAuxiliaryLine}\r\n                staticed={!isShowAuxiliaryLine}\r\n                onDragStop={onDragStop}\r\n                onResizeStop={onResizeStop}\r\n                onClose={onClose}\r\n              />\r\n              <Navigation\r\n                configureValue={layout?.project?.configuration?.configureValue}\r\n                datas={layout?.project?.pages}\r\n                selectedId={layout?.pageId as string}\r\n                onChange={(pageId: string) => {\r\n                  dispatch({\r\n                    type: \"MODIFY_PAGE\",\r\n                    data: {\r\n                      pageId: pageId,\r\n                    },\r\n                  });\r\n                }}\r\n              />\r\n            </>\r\n          ) : (\r\n            <Empty\r\n              style={{\r\n                position: \"absolute\",\r\n                left: \"50%\",\r\n                top: \"50%\",\r\n                transform: \"translate(-50%, -50%)\",\r\n              }}\r\n              image={Empty.PRESENTED_IMAGE_SIMPLE}\r\n              description=\"请先在右侧添加页面，才能进行后面的操作哦！\"\r\n            />\r\n          )}\r\n        </ConfigLayoutMain>\r\n        <ConfigLayoutRightAside\r\n          navs={rightAside}\r\n          render={(data) => {\r\n            if (data === \"layer\") {\r\n              return (\r\n                <div>\r\n                  <ConfigLayoutRightAsideLayer\r\n                    datas={currentPage ? [currentPage] : []}\r\n                    pageId={layout?.pageId}\r\n                    widgetId={layout?.widgetId}\r\n                    elementId={layout?.elementId}\r\n                    projectId={layout?.projectId}\r\n                    onSelected={layerSelectedHandle}\r\n                    pageType=\"project\"\r\n                    onDeleteHandler={onDeleteHandler}\r\n                    onEditHandler={onEditHandler}\r\n                  />\r\n                </div>\r\n              );\r\n            } else if (data === \"widget\") {\r\n              return (\r\n                <ConfigLayoutRightAsideWidget\r\n                  configureValue={\r\n                    (currentWidget?.configuration\r\n                      ?.configureValue as IAnyObject) || {}\r\n                  }\r\n                  onFinish={(data: IAnyObject) => {\r\n                    dispatch({\r\n                      type: \"MODIFY_WIDGET\",\r\n                      data: {\r\n                        ...currentWidget,\r\n                        configuration: {\r\n                          ...currentWidget?.configuration,\r\n                          configureValue: {\r\n                            ...currentWidget?.configuration?.configureValue,\r\n                            ...data,\r\n                          },\r\n                        },\r\n                      },\r\n                    });\r\n                  }}\r\n                />\r\n              );\r\n            } else if (data === \"element\") {\r\n              return (\r\n                <ConfigLayoutRightAsideElement\r\n                  element={currentElement?.element}\r\n                  configureValue={\r\n                    currentElement?.configuration.configureValue || {}\r\n                  }\r\n                  onFinish={(data: IAnyObject) => {\r\n                    dispatch({\r\n                      type: \"MODIFY_ELEMENT\",\r\n                      data: {\r\n                        ...currentElement,\r\n                        configuration: {\r\n                          ...currentElement?.configuration,\r\n                          configureValue: {\r\n                            ...currentElement?.configuration?.configureValue,\r\n                            ...data,\r\n                          },\r\n                        },\r\n                      },\r\n                    });\r\n                  }}\r\n                />\r\n              );\r\n            } else if (data === \"data\") {\r\n              return (\r\n                <ConfigLayoutRightAsideData\r\n                  isShowWidgetDataConfig\r\n                  paramFields={\r\n                    currentElement?.type === \"form\"\r\n                      ? currentWidgetParamFields\r\n                      : []\r\n                  }\r\n                  widgetDataValue={currentWidget?.configuration?.dataValue}\r\n                  widgetOnFinish={(data: IAnyObject) => {\r\n                    dispatch({\r\n                      type: \"MODIFY_WIDGET\",\r\n                      data: {\r\n                        ...currentWidget,\r\n                        configuration: {\r\n                          ...currentWidget?.configuration,\r\n                          dataValue: {\r\n                            ...currentWidget?.configuration?.dataValue,\r\n                            ...data,\r\n                          },\r\n                        },\r\n                      },\r\n                    });\r\n                  }}\r\n                  elementDataValue={currentElement?.configuration.dataValue}\r\n                  elementOnFinish={(data: IAnyObject) => {\r\n                    dispatch({\r\n                      type: \"MODIFY_ELEMENT\",\r\n                      data: {\r\n                        ...currentElement,\r\n                        configuration: {\r\n                          ...currentElement?.configuration,\r\n                          dataValue: {\r\n                            ...currentElement?.configuration?.dataValue,\r\n                            ...data,\r\n                          },\r\n                        },\r\n                      },\r\n                    });\r\n                  }}\r\n                />\r\n              );\r\n            } else if (data === \"page\") {\r\n              return (\r\n                <ConfigLayoutRightAsidePage\r\n                  configureValue={currentPage?.configuration?.configureValue}\r\n                  onFinish={(data) => {}}\r\n                />\r\n              );\r\n            } else if (data === \"project\") {\r\n              return (\r\n                <ConfigLayoutRightAsideProject\r\n                  configureValue={\r\n                    layout?.project?.configuration?.configureValue\r\n                  }\r\n                  pages={layout?.project?.pages || []}\r\n                  pageId={layout?.pageId}\r\n                  onFinish={(data) => {\r\n                    dispatch({\r\n                      type: \"MODIFY_PROJECT_CONFIGUREVALUE\",\r\n                      data,\r\n                    });\r\n                  }}\r\n                  modifyPageHandler={(data) => {\r\n                    dispatch({\r\n                      type: \"MODIFY_PAGE\",\r\n                      data,\r\n                    });\r\n                  }}\r\n                  addPageHandler={(name) => {\r\n                    dispatch({\r\n                      type: \"ADD_PAGE\",\r\n                      data: {\r\n                        name: name,\r\n                        id: \"\",\r\n                        url: \"\",\r\n                        createTime: \"\",\r\n                        count: 0,\r\n                        pageId: guid(),\r\n                        screenRatio: \"4*4\",\r\n                        widgets: [],\r\n                        configuration: {\r\n                          configureValue: { ...pageConfig.configureValue },\r\n                        },\r\n                      },\r\n                    });\r\n                  }}\r\n                  selectPageHandler={(pageId) => {\r\n                    dispatch({\r\n                      type: \"SELECT_PAGE\",\r\n                      pageId,\r\n                    });\r\n                  }}\r\n                  deletePageHandler={(pageId) => {\r\n                    dispatch({\r\n                      type: \"DELETE_PAGE\",\r\n                      pageId,\r\n                    });\r\n                  }}\r\n                />\r\n              );\r\n            } else if (data === \"linkage\") {\r\n              return (\r\n                <ConfigLayoutRightAsideLinkage\r\n                  widgets={currentPage?.widgets || []}\r\n                  currentWidgetId={currentWidget?.widgetId || \"\"}\r\n                  onFinish={(data) => {\r\n                    dispatch({\r\n                      type: \"MODIFY_WIDGET\",\r\n                      data: {\r\n                        ...currentWidget,\r\n                        configuration: {\r\n                          ...currentWidget?.configuration,\r\n                          dataValue: {\r\n                            ...currentWidget?.configuration?.dataValue,\r\n                            ...data,\r\n                          },\r\n                        },\r\n                      },\r\n                    });\r\n                  }}\r\n                />\r\n              );\r\n            }\r\n            return <div>{data}</div>;\r\n          }}\r\n        />\r\n      </div>\r\n      {/* 页面预览 */}\r\n      <PreviewDialog\r\n        data={layout?.project}\r\n        pageType=\"project\"\r\n        title=\"项目预览\"\r\n        open={show}\r\n        onClose={() => setShow(false)}\r\n        width={\r\n          layout?.project?.configuration?.configureValue?.widgetConfigWidth ||\r\n          1366\r\n        }\r\n        height={\r\n          layout?.project?.configuration?.configureValue?.widgetConfigHeight ||\r\n          768\r\n        }\r\n      />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ConfigLayout;\r\n","import { IElement, IPage, IWidget } from \"@src/service\";\r\nimport { ModifyActions } from \"./action\";\r\nimport {\r\n  ALL_STATE,\r\n  PROJECT,\r\n  MODIFY_PROJECT,\r\n  ADD_WIDGET,\r\n  DELETE_WIDGET,\r\n  MODIFY_WIDGET,\r\n  SELECT_WIDGET,\r\n  SELECT_ELEMENT,\r\n  ADD_PAGE,\r\n  MODIFY_PAGE,\r\n  SELECT_PAGE,\r\n  DELETE_PAGE,\r\n  MODIFY_PROJECT_CONFIGUREVALUE,\r\n  MODIFY_ELEMENT,\r\n} from \"./type\";\r\nimport { getPrefixStyle } from \"@src/utils\";\r\n\r\nexport const initialState: ALL_STATE = {\r\n  project: {\r\n    name: \"未命名项目\",\r\n    createTime: \"\",\r\n    url: \"\",\r\n    projectId: \"\",\r\n    configuration: {},\r\n    pages: [],\r\n    screenRatio: \"\",\r\n  },\r\n  elementId: undefined,\r\n  widgetId: undefined,\r\n  pageId: undefined,\r\n  projectId: undefined,\r\n};\r\n\r\nexport const projectReducer = (state = initialState, action: ModifyActions) => {\r\n  const copy: ALL_STATE = JSON.parse(JSON.stringify(state));\r\n  // 当前页面\r\n  let currentPage = copy.project.pages.find(\r\n    (item) => item.pageId === copy.pageId\r\n  );\r\n  // 当前微件\r\n  let currentWidget = currentPage?.widgets.find(\r\n    (item) => item.widgetId === copy.widgetId\r\n  );\r\n  switch (action.type) {\r\n    // 获取页面\r\n    case PROJECT: {\r\n      copy.project = action.data;\r\n      copy.pageId = action.data.pages[0]?.pageId;\r\n      copy.projectId = action.data.projectId;\r\n      return copy;\r\n    }\r\n    case MODIFY_PROJECT: {\r\n      copy.project = {\r\n        ...copy.project,\r\n        ...action.data,\r\n      };\r\n      return copy;\r\n    }\r\n    case MODIFY_PROJECT_CONFIGUREVALUE: {\r\n      let data: IAnyObject = getPrefixStyle(action.data, \"widget\");\r\n      if (JSON.stringify(data) !== \"{}\") {\r\n        for (let i = 0; i < copy.project.pages.length; i++) {\r\n          for (let j = 0; j < copy.project.pages[i].widgets.length; j++) {\r\n            copy.project.pages[i].widgets[j].configuration = {\r\n              ...copy.project.pages[i].widgets[j].configuration,\r\n              configureValue: {\r\n                ...copy.project.pages[i].widgets[j].configuration\r\n                  ?.configureValue,\r\n                ...data,\r\n              },\r\n            };\r\n          }\r\n        }\r\n      }\r\n      copy.project.configuration = {\r\n        ...copy.project.configuration,\r\n        configureValue: {\r\n          ...copy.project.configuration?.configureValue,\r\n          ...action.data,\r\n        },\r\n      };\r\n      return copy;\r\n    }\r\n    case ADD_WIDGET: {\r\n      let data: IAnyObject = getPrefixStyle(\r\n        copy?.project?.configuration?.configureValue || {},\r\n        \"widget\"\r\n      );\r\n      let widgets: IWidget[] = [];\r\n      if (Array.isArray(action.data)) {\r\n        widgets = action.data.map((item) => ({\r\n          ...item,\r\n          configuration: {\r\n            ...item?.configuration,\r\n            configureValue: {\r\n              ...item?.configuration?.configureValue,\r\n              ...data,\r\n            },\r\n          },\r\n        }));\r\n      } else {\r\n        copy.widgetId = action.data.widgetId;\r\n        widgets.push({\r\n          ...action.data,\r\n          configuration: {\r\n            ...action?.data?.configuration,\r\n            configureValue: {\r\n              ...action?.data?.configuration?.configureValue,\r\n              ...data,\r\n            },\r\n          },\r\n        });\r\n      }\r\n      (currentPage as IPage).widgets = (currentPage as IPage).widgets.concat(\r\n        widgets\r\n      );\r\n      copy.elementId = \"\";\r\n      return copy;\r\n    }\r\n    case DELETE_WIDGET: {\r\n      (currentPage as IPage).widgets = (currentPage as IPage).widgets.filter(\r\n        (item) => item.widgetId !== action.id\r\n      );\r\n      if (action.id === copy.widgetId) {\r\n        copy.widgetId = \"\";\r\n        copy.elementId = \"\";\r\n      }\r\n      return copy;\r\n    }\r\n    case MODIFY_WIDGET: {\r\n      const index = (currentPage as IPage).widgets.findIndex(\r\n        (item) => item.widgetId === action.data.widgetId\r\n      );\r\n      if (index !== -1) {\r\n        (currentPage as IPage).widgets[index] = {\r\n          ...(currentPage as IPage).widgets[index],\r\n          ...action.data,\r\n        };\r\n      }\r\n      return copy;\r\n    }\r\n    case SELECT_WIDGET: {\r\n      copy.widgetId = action.widgetId;\r\n      copy.elementId = \"\";\r\n      return copy;\r\n    }\r\n    case SELECT_ELEMENT: {\r\n      copy.widgetId = action.widgetId;\r\n      copy.elementId = action.elementId;\r\n      return copy;\r\n    }\r\n    case ADD_PAGE: {\r\n      copy.project.pages.push(action.data);\r\n      copy.pageId = action.data.pageId;\r\n      copy.elementId = \"\";\r\n      copy.widgetId = \"\";\r\n      return copy;\r\n    }\r\n    case MODIFY_PAGE: {\r\n      const index = copy?.project?.pages?.findIndex(\r\n        (item) => item.pageId === action.data.pageId\r\n      );\r\n      if (index !== -1) {\r\n        copy.project.pages[index] = {\r\n          ...copy.project.pages[index],\r\n          ...action.data,\r\n        };\r\n        if (copy.pageId !== action.data.pageId) {\r\n          copy.pageId = action.data.pageId;\r\n          copy.widgetId = \"\";\r\n          copy.elementId = \"\";\r\n        }\r\n      }\r\n      return copy;\r\n    }\r\n    case SELECT_PAGE: {\r\n      copy.pageId = action.pageId;\r\n      copy.widgetId = \"\";\r\n      copy.elementId = \"\";\r\n      return copy;\r\n    }\r\n    case DELETE_PAGE: {\r\n      copy.project.pages =\r\n        copy.project.pages?.filter((item) => item.pageId !== action.pageId) ||\r\n        [];\r\n      if (copy.pageId === action.pageId) {\r\n        copy.pageId = \"\";\r\n        copy.widgetId = \"\";\r\n        copy.elementId = \"\";\r\n      }\r\n      return copy;\r\n    }\r\n    case MODIFY_ELEMENT: {\r\n      const index = currentWidget?.elements?.findIndex(\r\n        (item) => item.elementId === copy.elementId\r\n      );\r\n      if (index !== -1) {\r\n        (currentWidget?.elements as IElement[])[index as number] = {\r\n          ...(currentWidget?.elements as IElement[])[index as number],\r\n          ...action.data,\r\n        };\r\n      }\r\n      console.log(copy, \"123\");\r\n      return copy;\r\n    }\r\n    default: {\r\n      console.log(\"你访问的类型不对，请自行检查\");\r\n    }\r\n  }\r\n};\r\n","import { IProject } from \"@src/service\";\r\n\r\n// 获取项目\r\nexport const PROJECT = \"PROJECT\";\r\nexport type PROJECT_TYPE = typeof PROJECT;\r\n\r\n// 修改项目\r\nexport const MODIFY_PROJECT = \"MODIFY_PROJECT\";\r\nexport type MODIFY_PROJECT_TYPE = typeof MODIFY_PROJECT;\r\n\r\n// 修改项目的configureValue\r\nexport const MODIFY_PROJECT_CONFIGUREVALUE = \"MODIFY_PROJECT_CONFIGUREVALUE\";\r\nexport type MODIFY_PROJECT_CONFIGUREVALUE_TYPE =\r\n  typeof MODIFY_PROJECT_CONFIGUREVALUE;\r\n\r\n// 添加微件\r\nexport const ADD_WIDGET = \"ADD_WIDGET\";\r\nexport type ADD_WIDGET_TYPE = typeof ADD_WIDGET;\r\n\r\n// 删除微件\r\nexport const DELETE_WIDGET = \"DELETE_WIDGET\";\r\nexport type DELETE_WIDGET_TYPE = typeof DELETE_WIDGET;\r\n\r\n// 修改微件\r\nexport const MODIFY_WIDGET = \"MODIFY_WIDGET\";\r\nexport type MODIFY_WIDGET_TYPE = typeof MODIFY_WIDGET;\r\n\r\n// 选中微件\r\nexport const SELECT_WIDGET = \"SELECT_WIDGET\";\r\nexport type SELECT_WIDGET_TYPE = typeof SELECT_WIDGET;\r\n\r\n// 选中组件\r\nexport const SELECT_ELEMENT = \"SELECT_ELEMENT\";\r\nexport type SELECT_ELEMENT_TYPE = typeof SELECT_ELEMENT;\r\n\r\n// 增加页面\r\nexport const ADD_PAGE = \"ADD_PAGE\";\r\nexport type ADD_PAGE_TYPE = typeof ADD_PAGE;\r\n\r\n// 编辑页面\r\nexport const MODIFY_PAGE = \"MODIFY_PAGE\";\r\nexport type MODIFY_PAGE_TYPE = typeof MODIFY_PAGE;\r\n\r\n// 选中页面\r\nexport const SELECT_PAGE = \"SELECT_PAGE\";\r\nexport type SELECT_PAGE_TYPE = typeof SELECT_PAGE;\r\n// 删除页面\r\nexport const DELETE_PAGE = \"DELETE_PAGE\";\r\nexport type DELETE_PAGE_TYPE = typeof DELETE_PAGE;\r\n\r\n// 修改组件\r\nexport const MODIFY_ELEMENT = \"MODIFY_ELEMENT\";\r\nexport type MODIFY_ELEMENT_TYPE = typeof MODIFY_ELEMENT;\r\n\r\nexport interface ALL_STATE {\r\n  project: IProject;\r\n  elementId: string | undefined;\r\n  widgetId: string | undefined;\r\n  pageId: string | undefined;\r\n  projectId: string | undefined;\r\n}\r\n"],"names":["ConfigLayout","_layout$project2","_currentWidget$config3","_currentWidget$config4","_layout$project3","_currentPage$widgets","_layout$project4","_layout$project4$conf","_layout$project4$conf2","_layout$project5","_layout$project5$conf","_layout$project5$conf2","_layout$project6","_layout$project6$page","_layout$project7","_layout$project7$conf","_layout$project8","_layout$project8$conf","_layout$project9","_layout$project12","_layout$project12$con","_layout$project12$con2","_layout$project13","_layout$project13$con","_layout$project13$con2","location","useLocation","layout","dispatch","useReducer","projectReducer","initialState","show","setShow","useState","isShowAuxiliaryLine","getProjects","projectsList","web","useEffect","queryParams","URLSearchParams","search","size","projectId","get","length","index","findIndex","item","type","data","name","url","createTime","guid","screenRatio","pages","configuration","configureValue","projectConfig","rightAside","useMemo","arr","pageId","widgetId","elementId","layerSelectedHandle","useCallback","id","pid","currentPage","_layout$project","_layout$project$pages","project","find","currentWidget","widgets","currentWidgetParamFields","_currentWidget$config","_currentWidget$config2","params","dataValue","field","push","err","currentElement","elements","onDrop","_data$elements","x","y","position","map","element","onDragStop","i","onResizeStop","row","w","column","h","onClose","onDeleteHandler","onEditHandler","React","className","ConfigLayoutHeader","pageType","modifyNameSuccessHander","previewHandler","publishHandler","logo","ConfigLayoutLeftAside","navs","render","ConfigLayoutLeftAsideWidget","ConfigLayoutLeftAsidePage","onClick","page","ConfigLayoutMain","style","width","pageConfigWidth","height","pageConfigHeight","background","RenderPage","selectedId","isDroppable","isResizable","staticed","Navigation","datas","onChange","Empty","left","top","transform","image","PRESENTED_IMAGE_SIMPLE","description","ConfigLayoutRightAside","ConfigLayoutRightAsideLayer","onSelected","ConfigLayoutRightAsideWidget","_currentWidget$config5","onFinish","_currentWidget$config6","ConfigLayoutRightAsideElement","_currentElement$confi","ConfigLayoutRightAsideData","isShowWidgetDataConfig","paramFields","widgetDataValue","_currentWidget$config7","widgetOnFinish","_currentWidget$config8","elementDataValue","elementOnFinish","_currentElement$confi2","ConfigLayoutRightAsidePage","_currentPage$configur","ConfigLayoutRightAsideProject","_layout$project10","_layout$project10$con","_layout$project11","modifyPageHandler","addPageHandler","count","pageConfig","selectPageHandler","deletePageHandler","ConfigLayoutRightAsideLinkage","currentWidgetId","_currentWidget$config9","PreviewDialog","title","open","widgetConfigWidth","widgetConfigHeight","undefined","state","arguments","action","copy","JSON","parse","stringify","PROJECT","_action$data$pages$","MODIFY_PROJECT","MODIFY_PROJECT_CONFIGUREVALUE","_copy$project$configu","getPrefixStyle","j","_copy$project$pages$i","ADD_WIDGET","_copy$project","_copy$project$configu2","_action$data","_action$data2","_action$data2$configu","Array","isArray","_item$configuration","concat","DELETE_WIDGET","filter","MODIFY_WIDGET","SELECT_WIDGET","SELECT_ELEMENT","ADD_PAGE","MODIFY_PAGE","_copy$project2","_copy$project2$pages","SELECT_PAGE","DELETE_PAGE","_copy$project$pages","MODIFY_ELEMENT","_currentWidget$elemen"],"sourceRoot":""}