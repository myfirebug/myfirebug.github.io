{"version":3,"file":"static/js/802.ca0f6a80c0.chunk.js","mappings":"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","sources":["webpack://cli/./src/template/default/web/components/avatar/index.tsx","webpack://cli/./src/template/default/web/components/module/index.tsx","webpack://cli/./src/template/default/web/topic/reply/index.tsx","webpack://cli/./src/utils/browser.util.ts","webpack://cli/./src/utils/storage.util.ts","webpack://cli/./src/utils/time.util.ts","webpack://cli/./src/utils/dom.util.ts","webpack://cli/./src/utils/url.util.ts"],"sourcesContent":["import React, { FC } from \"react\";\r\nimport \"./index.scss\";\r\ninterface IAvatar {\r\n  avatar: string;\r\n  alt?: string;\r\n  isRound?: boolean;\r\n  size?: \"default\" | \"small\" | \"large\";\r\n}\r\n\r\nconst Avatar: FC<IAvatar> = ({\r\n  avatar,\r\n  alt = \"图片\",\r\n  isRound = false,\r\n  size = \"default\",\r\n}) => {\r\n  return (\r\n    <div\r\n      className={`cms-avatar cms-avatar__${size} ${isRound ? \"is-round\" : \"\"}`}\r\n    >\r\n      <img src={avatar} alt={alt} />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Avatar;\r\n","import React, { ReactNode, memo, HtmlHTMLAttributes } from \"react\";\r\nimport \"./index.scss\";\r\ninterface IModule extends Omit<HtmlHTMLAttributes<HTMLDivElement>, \"title\"> {\r\n  title?: ReactNode | string;\r\n  children: ReactNode;\r\n}\r\n\r\nconst Module = memo((props: IModule) => {\r\n  const { title, children, style, className } = props;\r\n  return (\r\n    <div className={`cms-module ${className || \"\"}`} style={style}>\r\n      {title && (\r\n        <div\r\n          className={`cms-module__header ${\r\n            typeof title === \"string\" ? \"is-bold\" : \"\"\r\n          }`}\r\n        >\r\n          {title}\r\n        </div>\r\n      )}\r\n      <div className=\"cms-module__body\">{children}</div>\r\n    </div>\r\n  );\r\n});\r\n\r\nexport default Module;\r\n","import React, { FC } from \"react\";\r\nimport { IRepliyItem } from \"@service/index\";\r\nimport { timeUtil } from \"@src/utils\";\r\nimport { Link } from \"react-router-dom\";\r\nimport Module from \"../../components/module\";\r\n// 头像\r\nimport Avatar from \"../../components/avatar\";\r\nimport \"./index.scss\";\r\n\r\ninterface IReply {\r\n  replies: IRepliyItem[];\r\n}\r\n\r\nconst Reply: FC<IReply> = ({ replies }) => {\r\n  return (\r\n    <Module\r\n      className=\"cms-reply\"\r\n      style={{ marginTop: \"15px\" }}\r\n      title={`${replies.length}　回复`}\r\n    >\r\n      {replies.map((item, index) => (\r\n        <div className=\"cms-reply__item\" key={item.id}>\r\n          <div className=\"card\">\r\n            <Avatar\r\n              size=\"small\"\r\n              avatar={item.author.avatar_url}\r\n              alt={item.author.loginname}\r\n            />\r\n            <div className=\"content\">\r\n              <div className=\"user-info\">\r\n                <Link to={`/user/${item.author.loginname}`}>\r\n                  {item.author.loginname}\r\n                </Link>\r\n                <span className=\"reply-time\">{`${\r\n                  index + 1\r\n                }楼 • ${timeUtil.timeAgo(item.create_at)}`}</span>\r\n              </div>\r\n              <div\r\n                dangerouslySetInnerHTML={{\r\n                  __html: item.content,\r\n                }}\r\n              ></div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      ))}\r\n    </Module>\r\n  );\r\n};\r\n\r\nexport default Reply;\r\n","export const browserUtil = {\r\n  NAV: window.navigator,\r\n  UA() {\r\n    return this.NAV.userAgent.toLowerCase();\r\n  },\r\n  isIpad() {\r\n    return /ipad/i.test(this.UA());\r\n  },\r\n\r\n  isIphone() {\r\n    return /iphone/i.test(this.UA());\r\n  },\r\n  isIpod() {\r\n    return /ipod/i.test(this.UA());\r\n  },\r\n  isIos() {\r\n    return /ipad|iphone|ipod/i.test(this.UA());\r\n  },\r\n  isAndroid() {\r\n    return /android/i.test(this.UA());\r\n  },\r\n  isIe() {\r\n    return /(trident|microsoft)/i.test(this.NAV ? this.NAV.appName : \"\");\r\n  },\r\n  isMobile() {\r\n    return this.isIphone || this.isIos || this.isAndroid;\r\n  },\r\n  isChrome() {\r\n    return /chrome/i.test(this.UA());\r\n  },\r\n  isFirefox() {\r\n    return /firefox/i.test(this.UA());\r\n  },\r\n  isOpera() {\r\n    return /opera/i.test(this.UA());\r\n  },\r\n  isSafari() {\r\n    return /safari/i.test(this.UA());\r\n  },\r\n  isEdge() {\r\n    return /edge/i.test(this.UA());\r\n  },\r\n  isWechat() {\r\n    return /micromessenger/i.test(this.UA());\r\n  },\r\n  isQqbrowser() {\r\n    return /qqbrowser/i.test(this.UA());\r\n  },\r\n  isUcbrowser() {\r\n    return /ucbrowser/i.test(this.UA());\r\n  },\r\n  // 判断video标签在5大主流浏览器能否使用 国内浏览器兼容大\r\n  isVideo() {\r\n    return (\r\n      this.isChrome ||\r\n      this.isFirefox ||\r\n      this.isOpera ||\r\n      this.isSafari ||\r\n      this.isEdge\r\n    );\r\n  },\r\n  //判断浏览器是否支持css var变量\r\n  isCssVar() {\r\n    return window.CSS && window.CSS.supports && window.CSS.supports(\"--a\", \"0\");\r\n  },\r\n};\r\n","export const storageUtil = {\r\n  ls: window.localStorage,\r\n  ss: window.sessionStorage,\r\n\r\n  /*-----------------cookie---------------------*/\r\n  /*设置cookie*/\r\n  setCookie(name: string, value: any, day: any) {\r\n    let setting = arguments[0];\r\n    if (Object.prototype.toString.call(setting).slice(8, -1) === \"Object\") {\r\n      for (let i in setting) {\r\n        let oDate = new Date();\r\n        oDate.setDate(oDate.getDate() + day);\r\n        document.cookie = i + \"=\" + setting[i] + \";expires=\" + oDate;\r\n      }\r\n    } else {\r\n      let oDate = new Date();\r\n      oDate.setDate(oDate.getDate() + day);\r\n      document.cookie = name + \"=\" + value + \";expires=\" + oDate;\r\n    }\r\n  },\r\n\r\n  /*获取cookie*/\r\n  getCookie(name: string) {\r\n    let arr = document.cookie.split(\"; \");\r\n    for (let i = 0; i < arr.length; i++) {\r\n      let arr2 = arr[i].split(\"=\");\r\n      if (arr2[0] === name) {\r\n        return arr2[1];\r\n      }\r\n    }\r\n    return \"\";\r\n  },\r\n\r\n  /*删除cookie*/\r\n  removeCookie(name: string) {\r\n    this.setCookie(name, 1, -1);\r\n  },\r\n\r\n  /*-----------------localStorage---------------------*/\r\n  /*设置localStorage*/\r\n  setLocal(key: string, val: any) {\r\n    let setting = arguments[0];\r\n    if (Object.prototype.toString.call(setting).slice(8, -1) === \"Object\") {\r\n      for (let i in setting) {\r\n        this.ls.setItem(i, JSON.stringify(setting[i]));\r\n      }\r\n    } else {\r\n      this.ls.setItem(key, JSON.stringify(val));\r\n    }\r\n  },\r\n\r\n  /*获取localStorage*/\r\n  getLocal(key: string): string | null {\r\n    if (key) return JSON.parse(this.ls.getItem(key) as string);\r\n    return null;\r\n  },\r\n\r\n  /*移除localStorage*/\r\n  removeLocal(key: any) {\r\n    this.ls.removeItem(key);\r\n  },\r\n\r\n  /*移除所有localStorage*/\r\n  clearLocal() {\r\n    this.ls.clear();\r\n  },\r\n\r\n  /*-----------------sessionStorage---------------------*/\r\n  /*设置sessionStorage*/\r\n  setSession(key: any, val: any) {\r\n    let setting = arguments[0];\r\n    if (Object.prototype.toString.call(setting).slice(8, -1) === \"Object\") {\r\n      for (let i in setting) {\r\n        this.ss.setItem(i, JSON.stringify(setting[i]));\r\n      }\r\n    } else {\r\n      this.ss.setItem(key, JSON.stringify(val));\r\n    }\r\n  },\r\n\r\n  /*获取sessionStorage*/\r\n  getSession(key: any) {\r\n    if (key) return JSON.parse(this.ss.getItem(key) as string);\r\n    return null;\r\n  },\r\n\r\n  /*移除sessionStorage*/\r\n  removeSession(key: any) {\r\n    this.ss.removeItem(key);\r\n  },\r\n\r\n  /*移除所有sessionStorage*/\r\n  clearSession() {\r\n    this.ss.clear();\r\n  },\r\n};\r\n","export const timeUtil = {\r\n  /**\r\n   * 转换时间\r\n   * @param str\r\n   * @returns\r\n   */\r\n  timeAgo(str: string): string {\r\n    if (!str) return \"\";\r\n    var date = new Date(str);\r\n    var time = new Date().getTime() - date.getTime();\r\n    if (time < 0) {\r\n      return \"\";\r\n    } else if (time / 1000 < 30) {\r\n      return \"刚刚\";\r\n    } else if (time / 1000 < 60) {\r\n      return parseInt(time / 1000 + \"\") + \"秒前\";\r\n    } else if (time / 60000 < 60) {\r\n      return parseInt(time / 60000 + \"\") + \"分钟前\";\r\n    } else if (time / 3600000 < 24) {\r\n      return parseInt(time / 3600000 + \"\") + \"小时前\";\r\n    } else if (time / 86400000 < 31) {\r\n      return parseInt(time / 86400000 + \"\") + \"天前\";\r\n    } else if (time / 2592000000 < 12) {\r\n      return parseInt(time / 2592000000 + \"\") + \"月前\";\r\n    } else {\r\n      return parseInt(time / 31536000000 + \"\") + \"年前\";\r\n    }\r\n  },\r\n};\r\n","export const domUtil = {\r\n  /**\r\n   * [获取滚动条当前的位置]\r\n   * @return {[Number]} [scrollTop]\r\n   */\r\n  getScrollTop() {\r\n    let scrollTop = 0;\r\n    if (document.documentElement && document.documentElement.scrollTop) {\r\n      scrollTop = document.documentElement.scrollTop;\r\n    } else if (document.body) {\r\n      scrollTop = document.body.scrollTop;\r\n    }\r\n    return scrollTop;\r\n  },\r\n\r\n  /**\r\n   * [获取当前可视范围的高度]\r\n   * @return {[Number]} [clientHeight]\r\n   */\r\n  getClientHeight() {\r\n    let clientHeight = 0;\r\n    if (document.body.clientHeight && document.documentElement.clientHeight) {\r\n      clientHeight = Math.min(\r\n        document.body.clientHeight,\r\n        document.documentElement.clientHeight\r\n      );\r\n    } else {\r\n      clientHeight = Math.max(\r\n        document.body.clientHeight,\r\n        document.documentElement.clientHeight\r\n      );\r\n    }\r\n    return clientHeight;\r\n  },\r\n\r\n  /**\r\n   * [获取当前可视范围的高度]\r\n   * @return {[Number]} [clientHeight]\r\n   */\r\n  getScrollHeight() {\r\n    return Math.max(\r\n      document.body.scrollHeight,\r\n      document.documentElement.scrollHeight\r\n    );\r\n  },\r\n};\r\n","export const urlUtil = {\r\n  /**\r\n   * 获取参数值\r\n   * @param name\r\n   * @param url\r\n   * @returns {any}\r\n   */\r\n  getUrlParam(name: string, url?: string): string {\r\n    let reg = new RegExp(\"(^|&)\" + name + \"=([^&]*)(&|$)\");\r\n    let result =\r\n      (url || window.location.href).split(\"?\").length > 1 &&\r\n      (url || window.location.href).split(\"?\")[1].match(reg);\r\n    return result ? decodeURIComponent(result[2]) : \"\";\r\n  },\r\n\r\n  /**\r\n   * 修改url参数\r\n   * @param paramName\r\n   * @param replaceWith\r\n   * @param url\r\n   * @returns {string}\r\n   */\r\n  replaceParamVal(paramName: string, replaceWith: string, url: string): string {\r\n    let oUrl = url || window.location.href;\r\n    // eslint-disable-next-line no-eval\r\n    let re = eval(\"/(\" + paramName + \"=)([^&]*)/gi\");\r\n    let nUrl = oUrl.replace(re, paramName + \"=\" + replaceWith);\r\n    return nUrl;\r\n  },\r\n};\r\n"],"names":["_ref","avatar","alt","isRound","size","React","className","src","Module","memo","props","title","children","style","replies","marginTop","length","map","item","index","key","id","Avatar","author","avatar_url","loginname","Link","to","timeUtil","timeAgo","create_at","dangerouslySetInnerHTML","__html","content","browserUtil","NAV","window","navigator","UA","this","userAgent","toLowerCase","isIpad","test","isIphone","isIpod","isIos","isAndroid","isIe","appName","isMobile","isChrome","isFirefox","isOpera","isSafari","isEdge","isWechat","isQqbrowser","isUcbrowser","isVideo","isCssVar","CSS","supports","localStorage","sessionStorage","str","date","Date","time","getTime","parseInt","domUtil","getScrollTop","scrollTop","document","documentElement","body","getClientHeight","clientHeight","Math","min","max","getScrollHeight","scrollHeight","urlUtil","getUrlParam","name","url","reg","RegExp","result","location","href","split","match","decodeURIComponent","replaceParamVal","paramName","replaceWith","oUrl","re","eval","nUrl","replace"],"sourceRoot":""}